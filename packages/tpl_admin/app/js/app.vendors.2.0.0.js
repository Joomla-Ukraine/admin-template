(self["webpackChunkprocleaning"]=self["webpackChunkprocleaning"]||[]).push([[216],{570:e=>{"use strict";var t=Object.defineProperty,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,o=(e,t,n)=>(r(e,"symbol"!=typeof t?t+"":t,n),n);const a=e=>{const t=e.getFullYear();let n=e.getMonth()+1,i=e.getDate();return n=n<10?`0${n}`:n,i=i<10?`0${i}`:i,`${t}-${n}-${i}`},l=e=>{const t=[];return e.forEach((e=>{e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((e,n,i)=>{const s=new Date(`${n}T00:00:00`),r=new Date(`${i}T00:00:00`),o=new Date(s.getTime());for(;o<=r;o.setDate(o.getDate()+1))t.push(a(o));return e}))})),t},c=e=>{const t=Number(e);let n=String(t);return 0===t?n="12":13===t?n="01":14===t?n="02":15===t?n="03":16===t?n="04":17===t?n="05":18===t?n="06":19===t?n="07":20===t?n="08":21===t?n="09":22===t?n="10":23===t&&(n="11"),n},d=e=>{var t,n;e.rangeMin=e.settings.range.min,e.rangeMax=e.settings.range.max,e.rangeDisabled=e.settings.range.disabled?l([...e.settings.range.disabled]):[],e.rangeEnabled=e.settings.range.enabled?l([...e.settings.range.enabled]):[],e.selectedDates=e.settings.selected.dates?l([...e.settings.selected.dates]):[],e.selectedHolidays=e.settings.selected.holidays?l([...e.settings.selected.holidays]):[],e.settings.range.disablePast&&!e.settings.range.disableAllDays&&new Date(`${e.settings.range.min}T00:00:00`)<e.date.today&&(e.rangeMin=a(e.date.today)),e.settings.range.disableAllDays&&(e.rangeMin=a(e.date.today),e.rangeMax=a(e.date.today),null==(t=e.rangeDisabled)||t.push(a(e.date.today))),e.rangeEnabled&&e.rangeEnabled.sort(((e,t)=>+new Date(e)-+new Date(t))),(null==(n=e.rangeEnabled)?void 0:n[0])&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1]);const i=new Date(`${e.rangeMin}T00:00:00`),s=new Date(`${e.rangeMax}T00:00:00`);i.setDate(i.getDate()-1),s.setDate(s.getDate()+1),e.rangeDisabled.push(a(i)),e.rangeDisabled.push(a(s)),null!==e.settings.selected.month&&e.settings.selected.month>=0&&e.settings.selected.month<12?e.selectedMonth=e.settings.selected.month:e.selectedMonth=e.date.today.getMonth(),null!==e.settings.selected.year&&e.settings.selected.year>=0&&e.settings.selected.year<=9999?e.selectedYear=e.settings.selected.year:e.selectedYear=e.date.today.getFullYear(),e.viewYear=e.selectedYear,e.dateMin=e.settings.visibility.disabled?new Date(`${e.date.min}T00:00:00`):new Date(`${e.rangeMin}T00:00:00`),e.dateMax=e.settings.visibility.disabled?new Date(`${e.date.max}T00:00:00`):new Date(`${e.rangeMax}T00:00:00`);const r=!0===e.settings.selection.time||12===e.settings.selection.time;if(r||24===e.settings.selection.time){if(e.userTime=!1,"string"==typeof e.settings.selected.time){const t=r?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(t,((t,n,i,s)=>(n&&i&&(e.userTime=!0,e.selectedHours=n,e.selectedMinutes=i),s&&r?e.selectedKeeping=s:r&&(e.selectedKeeping="AM"),"")))}!e.userTime&&r?(e.selectedHours=c(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):e.userTime||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else e.settings.selection.time&&(e.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));"multiple"===e.type&&(1===e.months?(console.warn("The value of the «months» parameter cannot be less than «2», the minimum available value will be initialized."),e.correctMonths=2):e.months>12?(console.warn("The value of the «months» parameter cannot be greater than «12», the maximum available value will be initialized."),e.correctMonths=12):e.correctMonths=e.months)},u=e=>{if(!["default","multiple","year"].includes(e.currentType))return;const t=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowPrev}`),n=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowNext}`);t&&n&&("default"!==e.currentType&&"multiple"!==e.currentType||(()=>{if(!e.dateMin||!e.dateMax)return;const i=e.selectedMonth===e.dateMin.getMonth(),s=e.selectedMonth===e.dateMax.getMonth(),r=!e.settings.selection.year||e.selectedYear===e.dateMin.getFullYear(),o=!e.settings.selection.year||e.selectedYear===e.dateMax.getFullYear();i&&r||!e.settings.selection.month?t.style.visibility="hidden":t.style.visibility="",s&&o||!e.settings.selection.month?n.style.visibility="hidden":n.style.visibility=""})(),"year"===e.currentType&&e.dateMin&&e.dateMax&&void 0!==e.viewYear&&(e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()?n.style.visibility="hidden":n.style.visibility=""))},h=(e,t)=>{if(!e)return null;const n=new Date(`${e}T00:00:00`).getDate(),i=new Date(`${e}T00:00:00`).getMonth(),s=new Date(`${e}T00:00:00`).getFullYear(),r=new Date(s,i,n),o=t?r.getDay()||7:r.getDay();r.setDate(r.getDate()+4-o);const a=new Date(r.getFullYear(),0,1);return{year:s,week:Math.ceil(((+r-+a)/864e5+1)/7)}},p=e=>{var t,n;const i=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),r=new Date(e.selectedYear,e.selectedMonth,1),o=document.createElement("div"),l=document.createElement("button");o.className=e.CSSClasses.day,l.className=e.CSSClasses.dayBtn,l.type="button",null==(t=e.selectedDates)||t.sort(((e,t)=>+new Date(e)-+new Date(t))),i.forEach(((t,n)=>{const c=new Date(r.setMonth(e.selectedMonth+n)).getMonth(),d=new Date(r.setFullYear(e.selectedYear,e.selectedMonth+n)).getFullYear(),u=new Date(d,c,1),p=new Date(d,c+1,0).getDate();let m=Number(u.getDay());e.settings.iso8601&&(m=Number((0!==u.getDay()?u.getDay():7)-1)),e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&i[n].classList.add(e.CSSClasses.daysSelecting),i[n].innerHTML="";const f=(t,s,r,a,c)=>{var u,p,m,f,g,v,y,b,_;const S=o.cloneNode(!0),E=l.cloneNode(!0);if(c&&E.classList.add(c),E.innerText=t,E.dataset.calendarDay=r,e.settings.visibility.weekNumbers){const t=h(r,e.settings.iso8601);if(!t)return;E.dataset.calendarWeekNumber=`${t.week}`}(null==(u=e.rangeEnabled)?void 0:u[0])&&e.settings.range.disableAllDays&&!(null==(p=e.rangeDisabled)?void 0:p.includes(r))&&(null==(m=e.rangeDisabled)||m.push(r)),(null==(f=e.rangeEnabled)?void 0:f[0])&&(null==(g=e.rangeDisabled)?void 0:g.includes(r))&&(e.rangeDisabled=null==(v=e.rangeDisabled)?void 0:v.filter((t=>{var n;return!(null==(n=e.rangeEnabled)?void 0:n.includes(t))}))),(null==(y=e.settings.range.disableWeekday)?void 0:y.includes(s))&&!(null==(b=e.rangeDisabled)?void 0:b.includes(r))&&(null==(_=e.rangeDisabled)||_.push(r)),((t,n,i,s,r)=>{(e.rangeMin>s||e.rangeMax<s)&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),!e.settings.visibility.weekend||0!==i&&6!==i||n.classList.add(e.CSSClasses.dayBtnWeekend),Array.isArray(e.selectedHolidays)&&e.selectedHolidays.forEach((t=>{t===s&&n.classList.add(e.CSSClasses.dayBtnHoliday)}));let o=e.date.today.getDate(),a=e.date.today.getMonth()+1;o=o<10?`0${o}`:o,a=a<10?`0${a}`:a;const l=`${e.date.today.getFullYear()}-${a}-${o}`;e.settings.visibility.today&&n.dataset.calendarDay===l&&n.classList.add(e.CSSClasses.dayBtnToday),e.selectedDates&&0===e.selectedDates.indexOf(s)?("multiple-ranged"===e.settings.selection.day&&e.selectedDates.length>1?t.classList.add(e.CSSClasses.daySelectedFirst):t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf(s)===e.selectedDates.length-1?(t.classList.add(e.CSSClasses.daySelected),"multiple-ranged"===e.settings.selection.day?t.classList.add(e.CSSClasses.daySelectedLast):t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&"multiple-ranged"===e.settings.selection.day?(t.classList.add(e.CSSClasses.daySelectedIntermediate),n.classList.add(e.CSSClasses.dayBtnSelected),n.classList.add(e.CSSClasses.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&(t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)),Array.isArray(e.rangeDisabled)&&e.rangeDisabled[0]&&e.rangeDisabled.forEach((t=>{t===s&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1)})),!e.settings.selection.month&&r&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),e.settings.selection.year||new Date(`${s}T00:00:00`).getFullYear()===d||(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1)})(S,E,s,r,a),a?e.settings.visibility.daysOutside&&S.append(E):S.append(E),i[n].append(S)};(()=>{let t=new Date(d,c,0).getDate()-m,n=d,i=c;0===c?(i=e.locale.months.length,n=d-1):c<10&&(i=`0${c}`);for(let s=0;s<m;s++){t+=1;const s=`${n}-${i}-${t}`,r=new Date(d,c,t-1).getMonth()-1,o=new Date(d,r,t).getDay();f(String(t),o,s,!0,e.CSSClasses.dayBtnPrev)}})(),(()=>{for(let e=1;e<=p;e++){const t=new Date(d,c,e),n=a(t),i=t.getDay();f(String(e),i,n,!1,null)}})(),(()=>{const t=m+p,n=Math.ceil(t/e.locale.weekday.length),i=e.locale.weekday.length*n-t;let s=d,r=String(c+2);c+1===e.locale.months.length?(r="01",s=d+1):c+2<10&&(r=`0${c+2}`);for(let o=1;o<=i;o++){const t=`${s}-${r}-${o<10?`0${o}`:String(o)}`,n=new Date(d,c,o).getMonth()+1,i=new Date(d,n,o).getDay();f(String(o),i,t,!0,e.CSSClasses.dayBtnNext)}})(),((e,t)=>{e.popups&&Object.keys(e.popups).forEach((n=>{var i;const s=t.querySelector(`[data-calendar-day="${n}"]`);if(s){const t=null==(i=e.popups)?void 0:i[n];(null==t?void 0:t.modifier)&&t.modifier.trim().split(" ").forEach((e=>{s.classList.add(e)})),(null==t?void 0:t.html)&&(s.parentNode.innerHTML+=`<div class="${e.CSSClasses.dayPopup}">${t.html}</div>`)}}))})(e,i[n]),((e,t,n,i,s)=>{if(!e.settings.visibility.weekNumbers)return;const r=s.querySelectorAll(`.${e.CSSClasses.day}`);i.innerHTML="";const o=Math.ceil((t+n)/7),a=document.createElement("b");a.className=e.CSSClasses.weekNumbersTitle,a.innerText="#",i.append(a);const l=document.createElement("div");l.className=e.CSSClasses.weekNumbersContent,i.append(l);const c=document.createElement("span");c.className=e.CSSClasses.weekNumber;for(let d=0;d<o;d++){let t=null;t=0===d?r[6].querySelector(`.${e.CSSClasses.dayBtn}`):r[7*d].querySelector(`.${e.CSSClasses.dayBtn}`);const n=h(t.dataset.calendarDay,e.settings.iso8601);if(!n)return;const i=c.cloneNode(!0);i.innerText=`${n.week}`,i.dataset.calendarYearWeek=`${n.year}`,l.append(i)}})(e,m,p,s[n],i[n])})),null==(n=e.rangeDisabled)||n.sort(((e,t)=>+new Date(e)-+new Date(t)))},m=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"\n\t\tdata-calendar-arrow="prev"\n\t\ttitle="Prev">\n\t</button>\n`,f=e=>`\n\t<button type="button"\n\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"\n\tdata-calendar-arrow="next"\n\ttitle="Next">\n\t</button>\n`,g=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.month}"\n\t\tdata-calendar-selected-month>\n\t</button>\n`,v=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.year}"\n\t\tdata-calendar-selected-year>\n\t</button>\n`,y=e=>`\n\t<div class="${e.CSSClasses.week}"></div>\n`,b=e=>`\n\t<div class="${e.CSSClasses.days}"></div>\n`,_=e=>`\n\t<div class="${e.CSSClasses.months}"></div>\n`,S=e=>`\n\t<div class="${e.CSSClasses.years}"></div>\n`,E=e=>e.settings.visibility.weekNumbers?`\n\t<div class="${e.CSSClasses.weekNumbers}"></div>\n`:"",C=e=>e.settings.selection.time?`\n\t<div class="${e.CSSClasses.time}"></div>\n`:"",w=(e,t)=>t.replace(/<#(.*?)\/>/g,((t,n)=>{const i=(e=>{let t=null;switch(e){case"ArrowPrev":t=m;break;case"ArrowNext":t=f;break;case"Month":t=g;break;case"Year":t=v;break;case"Week":t=y;break;case"Days":t=b;break;case"Months":t=_;break;case"Years":t=S;break;case"WeekNumbers":t=E;break;case"ControlTime":t=C}return t})(n.replace(/[\s\n\t]/g,""));return i?i(e):""})).replace(/[\n\t]/g,""),O=e=>{const t=e.HTMLElement;switch(t.classList.add(e.CSSClasses.calendar),e.currentType){case"default":t.classList.add(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=w(e,e.DOMTemplates.default);break;case"multiple":if(!e.correctMonths)break;t.classList.add(e.CSSClasses.calendarMultiple),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=((e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,((t,n)=>{let i="";for(let s=0;s<e.correctMonths;s++)i+=n;return i})).replace(/[\n\t]/g,""))(e,w(e,e.DOMTemplates.multiple));break;case"month":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.add(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=w(e,e.DOMTemplates.month);break;case"year":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.add(e.CSSClasses.calendarYear),t.innerHTML=w(e,e.DOMTemplates.year)}},T=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(!t[0]||void 0===e.selectedMonth)return;const n=new Date(e.selectedYear,e.selectedMonth,1);t.forEach(((i,s)=>{const r=new Date(n.setMonth(e.selectedMonth+s)).getMonth();t[s].dataset.calendarSelectedMonth=String(r),t[s].innerText=e.locale.months[r],e.settings.selection.month&&"multiple"!==e.currentType?(t[s].tabIndex=0,t[s].classList.remove(e.CSSClasses.monthDisabled)):(t[s].tabIndex=-1,t[s].classList.add(e.CSSClasses.monthDisabled))}))},I=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(!t||void 0===e.selectedMonth)return;const n=new Date(e.selectedYear,e.selectedMonth,1);t.forEach(((i,s)=>{const r=new Date(n.setFullYear(e.selectedYear,e.selectedMonth+s)).getFullYear();t[s].dataset.calendarSelectedYear=String(r),t[s].innerText=String(r),e.settings.selection.year&&"multiple"!==e.currentType?(t[s].tabIndex=0,t[s].classList.remove(e.CSSClasses.yearDisabled)):(t[s].tabIndex=-1,t[s].classList.add(e.CSSClasses.yearDisabled))}))},M=e=>{e.currentType="month",O(e),T(e),I(e);const t=e.HTMLElement.querySelector(`.${e.CSSClasses.months}`);if(void 0===e.selectedMonth||void 0===e.selectedYear||!e.dateMin||!e.dateMax||!t)return;e.settings.selection.month&&t.classList.add(e.CSSClasses.monthsSelecting);const n=document.createElement("button");n.type="button",n.className=e.CSSClasses.monthsMonth;for(let i=0;i<e.locale.months.length;i++){const s=e.locale.months[i],r=n.cloneNode(!0);i===e.selectedMonth&&r.classList.add(e.CSSClasses.monthsMonthSelected),i<e.dateMin.getMonth()&&e.selectedYear===e.dateMin.getFullYear()&&(r.classList.add(e.CSSClasses.monthsMonthDisabled),r.tabIndex=-1),i>e.dateMax.getMonth()&&e.selectedYear===e.dateMax.getFullYear()&&(r.classList.add(e.CSSClasses.monthsMonthDisabled),r.tabIndex=-1),r.dataset.calendarMonth=String(i),r.title=`${s}`,r.innerText=`${e.settings.visibility.monthShort?s.substring(0,3):s}`,t.append(r)}},L=(e,t)=>{const n=Number(e);let i=String(n);return"AM"===t?12===n&&(i="00"):"PM"===t&&(1===n?i="13":2===n?i="14":3===n?i="15":4===n?i="16":5===n?i="17":6===n?i="18":7===n?i="19":8===n?i="20":9===n?i="21":10===n?i="22":11===n&&(i="23")),i},D=e=>{const t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;const n=!0===e.settings.selection.time?12:e.settings.selection.time,i="range"===e.settings.selection.controlTime;t.innerHTML=`\n\t<div class="${e.CSSClasses.timeContent}">\n\t\t<label class="${e.CSSClasses.timeHours}">\n\t\t\t<input type="text"\n\t\t\t\tname="hours"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedHours}"\n\t\t\t\t${i?"disabled":""}>\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeMinutes}">\n\t\t\t<input type="text"\n\t\t\t\tname="minutes"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedMinutes}"\n\t\t\t\t${i?"disabled":""}>\n\t\t</label>\n\t\t${12===n?`\n\t\t<button type="button"\n\t\t\tclass="${e.CSSClasses.timeKeeping}"\n\t\t\t${i?"disabled":""}>${e.selectedKeeping}</button>\n\t\t`:""}\n\t</div>\n\t<div class="${e.CSSClasses.timeRanges}">\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="hours"\n\t\t\t\tmin="0"\n\t\t\t\tmax="23"\n\t\t\t\tstep="${e.settings.selection.stepHours}"\n\t\t\t\tvalue="${e.selectedKeeping?L(e.selectedHours,e.selectedKeeping):e.selectedHours}">\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="minutes"\n\t\t\t\tmin="0"\n\t\t\t\tmax="59"\n\t\t\t\tstep="${e.settings.selection.stepMinutes}"\n\t\t\t\tvalue="${e.selectedMinutes}">\n\t\t</label>\n\t</div>`,((e,t)=>{const n=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="hours"]`),i=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="minutes"]`),s=e.HTMLElement.querySelector(`.${e.CSSClasses.timeHours} input[name="hours"]`),r=e.HTMLElement.querySelector(`.${e.CSSClasses.timeMinutes} input[name="minutes"]`),o=e.HTMLElement.querySelector(`.${e.CSSClasses.timeKeeping}`),a=(t,n)=>{t.addEventListener("mouseover",(()=>n.classList.add(e.CSSClasses.isFocus)))},l=(t,n)=>{t.addEventListener("mouseout",(()=>n.classList.remove(e.CSSClasses.isFocus)))},d=(t,n,i)=>{"hours"===i?e.selectedHours=`${n}`:"minutes"===i&&(e.selectedMinutes=`${n}`),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e.HTMLInputElement,e.selectedDates,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping)},u=(t,n,i,s)=>{t.addEventListener("input",(t=>{let r=Number(t.target.value);r=r<10?`0${r}`:`${r}`,"hours"===i&&12===s?Number(t.target.value)<s&&Number(t.target.value)>0?(n.value=r,e.selectedKeeping="AM",o.innerText=e.selectedKeeping,d(t,r,i)):(0===Number(t.target.value)?(e.selectedKeeping="AM",o.innerText="AM"):(e.selectedKeeping="PM",o.innerText="PM"),n.value=c(t.target.value),d(t,c(t.target.value),i)):(n.value=r,d(t,r,i))}))},h=(t,n,i,s)=>{n.addEventListener("change",(n=>{const r=n.target;let a=Number(r.value);a=a<10?`0${a}`:`${a}`,"hours"===i&&12===s?r.value&&Number(r.value)<=s&&Number(r.value)>0?(r.value=a,t.value=L(a,e.selectedKeeping),d(n,a,i)):r.value&&Number(r.value)<24&&(Number(r.value)>s||0===Number(r.value))?(0===Number(r.value)?(e.selectedKeeping="AM",o.innerText="AM"):(e.selectedKeeping="PM",o.innerText="PM"),r.value=c(r.value),t.value=a,d(n,c(r.value),i)):r.value=e.selectedHours:r.value&&Number(r.value)<=s&&Number(r.value)>=0?(r.value=a,t.value=a,d(n,a,i)):"hours"===i?r.value=e.selectedHours:"minutes"===i&&(r.value=e.selectedMinutes)}))};a(n,s),a(i,r),l(n,s),l(i,r),u(n,s,"hours",24===t?23:12),u(i,r,"minutes",0),h(n,s,"hours",24===t?23:12),h(i,r,"minutes",59),o&&o.addEventListener("click",(t=>{o.innerText.includes("AM")?e.selectedKeeping="PM":e.selectedKeeping="AM",n.value=L(e.selectedHours,e.selectedKeeping),d(t,e.selectedHours,"hours"),o.innerText=e.selectedKeeping}))})(e,n)},A=e=>{if(void 0===e.viewYear||!e.dateMin||!e.dateMax)return;e.currentType="year",O(e),T(e),I(e),u(e);const t=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!t)return;e.settings.selection.year&&t.classList.add(e.CSSClasses.yearsSelecting);const n=document.createElement("button");n.type="button",n.className=e.CSSClasses.yearsYear;for(let i=e.viewYear-7;i<e.viewYear+8;i++){const s=i,r=n.cloneNode(!0);s===e.selectedYear&&r.classList.add(e.CSSClasses.yearsYearSelected),s<e.dateMin.getFullYear()&&(r.classList.add(e.CSSClasses.yearsYearDisabled),r.tabIndex=-1),s>e.dateMax.getFullYear()&&(r.classList.add(e.CSSClasses.yearsYearDisabled),r.tabIndex=-1),r.dataset.calendarYear=String(s),r.innerText=`${s}`,t.append(r)}},x=["light","dark","system"];let P=!1;const k=(e,t)=>{var n;let i=null;for(let s=0;s<x.length;s++){if("system"===x[s])return;if(null==(n=e.getAttribute(t))?void 0:n.includes(x[s])){i=x[s];break}}return i},N=(e,t)=>{e.HTMLElement&&(x.includes(t)?e.HTMLElement.dataset.calendarTheme=t:console.error("Incorrect name of theme in settings.visibility.theme"))},F=(e,t)=>{if(!t)return void N(e,"light");const n=e=>e.matches?"dark":"light";e.HTMLElement.dataset.calendarTheme=n(t),P||(t.onchange=t=>{"system"===e.settings.visibility.theme&&(e.HTMLElement.dataset.calendarTheme=n(t))},P=!0)},$=(e,t)=>{if(!e.HTMLElement)return;const n=!!e.settings.visibility.themeDetect&&document.querySelector(e.settings.visibility.themeDetect);if(!n)return void F(e,t);const i=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,((e,t)=>t)),s=n.hasAttribute(i);if(!i||!s)return void F(e,t);const r=k(n,i);r?(N(e,r),((e,t,n)=>{new MutationObserver((i=>{for(let s=0;s<i.length;s++)if(i[s].attributeName===n){const i=k(t,n);i&&N(e,i);break}})).observe(t,{attributes:!0})})(e,n,i)):F(e,t)},j=e=>{(e=>{if(!e.HTMLElement)return;let t;"not all"!==window.matchMedia("(prefers-color-scheme)").media&&(t=window.matchMedia("(prefers-color-scheme: dark)")),"system"===e.settings.visibility.theme?$(e,t):N(e,e.settings.visibility.theme)})(e),(e=>{if("define"!==e.settings.lang){e.locale.weekday=[];for(let t=0;t<7;t++){let n=new Date(0,0,t).toLocaleString(e.settings.lang,{weekday:"short"});n=`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,n=n.replace(/\./,""),e.locale.weekday.push(n)}e.locale.months=[];for(let t=0;t<12;t++){let n=new Date(0,t).toLocaleString(e.settings.lang,{month:"long"});n=`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,n=n.replace(/\./,""),e.locale.months.push(n)}}})(e),O(e),T(e),I(e),u(e),D(e),"default"===e.currentType||"multiple"===e.currentType?((e=>{const t=[...e.locale.weekday];if(!t[0])return;const n=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`),i=document.createElement("b");i.className=e.CSSClasses.weekDay,e.settings.iso8601&&t.push(t.shift()),n.forEach((n=>{n.innerHTML="";for(let s=0;s<t.length;s++){const r=t[s],o=i.cloneNode(!0);e.settings.visibility.weekend&&e.settings.iso8601?5!==s&&6!==s||o.classList.add(e.CSSClasses.weekDayWeekend):e.settings.visibility.weekend&&!e.settings.iso8601&&(0!==s&&6!==s||o.classList.add(e.CSSClasses.weekDayWeekend)),o.innerText=`${r}`,n.append(o)}}))})(e),p(e)):"month"===e.currentType?M(e):"year"===e.currentType&&A(e)},H=e=>{d(e),j(e)};let Y=null;const K=e=>{Y&&(e.target.closest(`.${Y.CSSClasses.calendar}`)||(document.querySelectorAll(`.${Y.CSSClasses.calendar}`).forEach((e=>{e.classList.add(Y.CSSClasses.calendarHidden)})),document.removeEventListener("click",K,{capture:!0})))},R=(e,t)=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;const n=e.locale.months.length-1;switch(t){case"prev":0!==e.selectedMonth?e.selectedMonth-=1:e.settings.selection.year&&(e.selectedYear-=1,e.selectedMonth=n);break;case"next":e.selectedMonth!==n?e.selectedMonth+=1:e.settings.selection.year&&(e.selectedYear+=1,e.selectedMonth=0)}T(e),I(e),u(e),p(e)};let B=null;const V=()=>{var e;if(!B)return;const t=null==(e=B.HTMLElement)?void 0:e.querySelectorAll(`.${B.CSSClasses.dayBtnHover}`);t&&t.forEach((e=>e.classList.remove(B.CSSClasses.dayBtnHover)))},q=e=>{var t;if(!B||!B.selectedDates)return;const n=a(e);if(B.rangeDisabled&&B.rangeDisabled.includes(n))return;const i=null==(t=B.HTMLElement)?void 0:t.querySelectorAll(`[data-calendar-day="${n}"]`);null==i||i.forEach((e=>{e.classList.add(B.CSSClasses.dayBtnHover)}))},G=e=>{if(!e.target||!B||!B.selectedDates)return;if(!e.target.closest(`.${B.CSSClasses.days}`))return void V();const t=e.target.dataset.calendarDay;if(!t)return;V();const n=new Date(new Date(`${B.selectedDates[0]}T00:00:00`).getFullYear(),new Date(`${B.selectedDates[0]}T00:00:00`).getMonth(),new Date(`${B.selectedDates[0]}T00:00:00`).getDate()),i=new Date(new Date(`${t}T00:00:00`).getFullYear(),new Date(`${t}T00:00:00`).getMonth(),new Date(`${t}T00:00:00`).getDate());if(i>n)for(let s=n;s<=i;s.setDate(s.getDate()+1))q(s);else for(let s=n;s>=i;s.setDate(s.getDate()-1))q(s)},W=e=>{B&&"Escape"===e.key&&(B.selectedDates=[],B.HTMLElement.removeEventListener("mousemove",G),document.removeEventListener("keydown",W),j(B))},U=e=>{e&&e.selectedDates&&(B=e,e.selectedDates[0]&&e.selectedDates.length<=1?(e.HTMLElement.addEventListener("mousemove",G),document.addEventListener("keydown",W),e.settings.range.disableGaps&&(()=>{var e;if(!B||!(null==(e=B.selectedDates)?void 0:e[0])||!B.rangeDisabled||B.rangeDisabled.length<2)return;const t=new Date(`${B.selectedDates[0]}T00:00:00`);let n=null,i=null;for(let s=0;s<B.rangeDisabled.length;s++){const e=new Date(`${B.rangeDisabled[s]}T00:00:00`);if(!(t>=e)){i=e;break}n=e}n&&(n=new Date(n.setDate(n.getDate()+1)),B.rangeMin=a(n)),i&&(i=new Date(i.setDate(i.getDate()-1)),B.rangeMax=a(i))})()):(e.HTMLElement.removeEventListener("mousemove",G),document.removeEventListener("keydown",W),e.settings.range.disableGaps&&B&&(B.rangeMin=B.settings.range.min,B.rangeMax=B.settings.range.max,B.settings.range.disablePast&&new Date(`${B.settings.range.min}T00:00:00`)<B.date.today&&(B.rangeMin=a(B.date.today)))))},z=e=>{e.HTMLElement.addEventListener("click",(t=>{const n=t.target,i=n.closest(`.${e.CSSClasses.arrow}`),s=n.closest(`.${e.CSSClasses.arrowPrev}`),r=n.closest(`.${e.CSSClasses.arrowNext}`),o=n.closest(`.${e.CSSClasses.dayBtn}`),l=n.closest(`.${e.CSSClasses.dayBtnPrev}`),c=n.closest(`.${e.CSSClasses.dayBtnNext}`),d=n.closest(`.${e.CSSClasses.weekNumber}`),u=n.closest(`.${e.CSSClasses.year}`),h=n.closest(`.${e.CSSClasses.yearsYear}`),m=n.closest(`.${e.CSSClasses.month}`),f=n.closest(`.${e.CSSClasses.monthsMonth}`);i&&"year"!==e.currentType&&"month"!==e.currentType&&R(e,n.dataset.calendarArrow),i&&e.actions.clickArrow&&e.actions.clickArrow(t,Number(e.selectedYear),Number(e.selectedMonth)),(()=>{if(e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&o){switch(e.settings.selection.day){case"single":e.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(o.dataset.calendarDay),1):(e.selectedDates=[],e.selectedDates.push(o.dataset.calendarDay)));break;case"multiple":e.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(o.dataset.calendarDay),1):e.selectedDates.push(o.dataset.calendarDay));break;case"multiple-ranged":(()=>{if(e.selectedDates&&o&&o.dataset.calendarDay){if(e.selectedDates.length<=1&&e.selectedDates[0]&&e.selectedDates[0].includes(o.dataset.calendarDay)?e.selectedDates=[]:(e.selectedDates.length>1&&(e.selectedDates=[]),e.selectedDates.push(o.dataset.calendarDay)),e.selectedDates[1]){const t=new Date(new Date(`${e.selectedDates[0]}T00:00:00`).getFullYear(),new Date(`${e.selectedDates[0]}T00:00:00`).getMonth(),new Date(`${e.selectedDates[0]}T00:00:00`).getDate()),n=new Date(new Date(`${e.selectedDates[1]}T00:00:00`).getFullYear(),new Date(`${e.selectedDates[1]}T00:00:00`).getMonth(),new Date(`${e.selectedDates[1]}T00:00:00`).getDate()),i=t=>{if(!e.selectedDates)return;const n=a(t);e.rangeDisabled&&e.rangeDisabled.includes(n)||e.selectedDates.push(n)};if(e.selectedDates=[],n>t)for(let e=t;e<=n;e.setDate(e.getDate()+1))i(e);else for(let e=t;e>=n;e.setDate(e.getDate()-1))i(e)}U(e)}})()}e.actions.clickDay&&e.actions.clickDay(t,e.selectedDates),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e.HTMLInputElement,e.selectedDates,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping),l?R(e,"prev"):c?R(e,"next"):p(e)}})(),(()=>{var n;if(!e.settings.visibility.weekNumbers||!d||!e.actions.clickWeekNumber)return;const i=null==(n=e.HTMLElement)?void 0:n.querySelectorAll("[data-calendar-week-number]");if(!i)return;const s=Number(d.innerText),r=Number(d.dataset.calendarYearWeek),o=[...i].filter((e=>Number(e.dataset.calendarWeekNumber)===s));e.actions.clickWeekNumber(t,s,o,r)})(),(()=>{if(e.settings.selection.year&&"multiple"!==e.currentType)if(i&&"year"===e.currentType){if(void 0===e.viewYear)return;r?e.viewYear+=15:s&&(e.viewYear-=15),A(e)}else if("year"!==e.currentType&&u)A(e);else if("year"===e.currentType&&u)e.currentType=e.type,j(e);else if(h){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;e.selectedYear=Number(h.dataset.calendarYear),e.currentType=e.type,e.selectedMonth<e.dateMin.getMonth()&&e.selectedYear===e.dateMin.getFullYear()&&(e.selectedMonth=e.dateMin.getMonth()),e.selectedMonth>e.dateMax.getMonth()&&e.selectedYear===e.dateMax.getFullYear()&&(e.selectedMonth=e.dateMax.getMonth()),e.actions.clickYear&&e.actions.clickYear(t,e.selectedYear),j(e)}})(),e.settings.selection.month&&"multiple"!==e.currentType&&("month"!==e.currentType&&m?M(e):"month"===e.currentType&&m?(e.currentType=e.type,j(e)):f&&(e.selectedMonth=Number(f.dataset.calendarMonth),e.currentType=e.type,e.actions.clickMonth&&e.actions.clickMonth(t,e.selectedMonth),j(e)))}))},Q=e=>{e.HTMLElement&&((e=>{if(!e.input||!e.HTMLElement||!e.HTMLElement.parentNode)return;e.HTMLInputElement=e.HTMLElement;const t=document.createElement("div"),n=document.createElement("div");t.className=e.CSSClasses.calendarInputWrapper,n.className=`${e.CSSClasses.calendar} ${e.CSSClasses.calendarToInput} ${e.CSSClasses.calendarHidden}`,e.HTMLElement.parentNode.insertBefore(t,e.HTMLInputElement),t.append(e.HTMLInputElement),e.HTMLElement=n,t.append(e.HTMLElement)})(e),H(e),(e=>{var t;e&&e.input&&(Y=e,null==(t=e.HTMLInputElement)||t.addEventListener("click",(()=>{var t;null==(t=e.HTMLElement)||t.classList.remove(e.CSSClasses.calendarHidden),document.addEventListener("click",K,{capture:!0})})))})(e),z(e))},X=e=>`\n\t<div class="${e.controls}">\n\t\t<#ArrowPrev />\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.grid}">\n\t\t<#Multiple>\n\t\t\t<div class="${e.column}">\n\t\t\t\t<div class="${e.header}">\n\t\t\t\t\t<div class="${e.headerContent}">\n\t\t\t\t\t\t<#Month />\n\t\t\t\t\t\t<#Year />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="${e.wrapper}">\n\t\t\t\t\t<#WeekNumbers />\n\t\t\t\t\t<div class="${e.content}">\n\t\t\t\t\t\t<#Week />\n\t\t\t\t\t\t<#Days />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<#/Multiple>\n\t</div>\n\t<#ControlTime />\n`,J=e=>`\n\t<div class="${e.header}">\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<div class="${e.content}">\n\t\t\t<#Months />\n\t\t</div>\n\t</div>\n`,Z=e=>`\n\t<div class="${e.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<div class="${e.content}">\n\t\t\t<#Years />\n\t\t</div>\n\t</div>\n`,ee={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarInputWrapper:"vanilla-calendar-input-wrapper",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",column:"vanilla-calendar-column",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};class te{constructor(e,t){var a,l,c,u,h,p,m,f,g,v,y,b,_,S,E,C,w,O,T,I,M,L,D,A,x,P,k,N,F,$,Y,K,R,B,V,q,G,W,U,z,te,ne,ie,se,re,oe,ae,le,ce,de,ue,he,pe,me,fe,ge,ve,ye,be,_e,Se,Ee,Ce,we,Oe,Te,Ie,Me,Le,De,Ae,xe,Pe,ke,Ne,Fe,$e,je,He,Ye,Ke,Re,Be,Ve,qe,Ge,We,Ue,ze,Qe,Xe,Je,Ze,et,tt,nt,it,st,rt,ot,at,lt,ct,dt,ut,ht,pt,mt,ft,gt,vt,yt,bt,_t,St,Et,Ct,wt,Ot,Tt,It,Mt,Lt,Dt,At;o(this,"HTMLElement"),o(this,"input"),o(this,"type"),o(this,"months"),o(this,"date"),o(this,"settings"),o(this,"locale"),o(this,"actions"),o(this,"popups"),o(this,"CSSClasses"),o(this,"DOMTemplates"),o(this,"currentType"),o(this,"reset",(()=>H(this))),o(this,"update",(()=>(e=>{var t;let n=null,i=null,s=null;(null==(t=e.settings.selected.dates)?void 0:t[0])||(n=e.settings.selected.dates,e.settings.selected.dates=e.selectedDates),e.settings.selected.month||(i=e.settings.selected.month,e.settings.selected.month=e.selectedMonth),e.settings.selected.year||(s=e.settings.selected.year,e.settings.selected.year=e.selectedYear),d(e),j(e),e.settings.selected.dates=n,e.settings.selected.month=i,e.settings.selected.year=s})(this))),o(this,"init",(()=>Q(this))),this.HTMLElement="string"==typeof e?document.querySelector(e):e,this.HTMLElement&&(this.input=null!=(a=null==t?void 0:t.input)&&a,this.type=null!=(l=null==t?void 0:t.type)?l:"default",this.months=null!=(c=null==t?void 0:t.months)?c:2,this.date={min:null!=(h=null==(u=null==t?void 0:t.date)?void 0:u.min)?h:"1970-01-01",max:null!=(m=null==(p=null==t?void 0:t.date)?void 0:p.max)?m:"2470-12-31",today:null!=(g=null==(f=null==t?void 0:t.date)?void 0:f.today)?g:new Date},this.settings={lang:null!=(y=null==(v=null==t?void 0:t.settings)?void 0:v.lang)?y:"en",iso8601:null==(_=null==(b=null==t?void 0:t.settings)?void 0:b.iso8601)||_,range:{min:null!=(C=null==(E=null==(S=null==t?void 0:t.settings)?void 0:S.range)?void 0:E.min)?C:this.date.min,max:null!=(T=null==(O=null==(w=null==t?void 0:t.settings)?void 0:w.range)?void 0:O.max)?T:this.date.max,disablePast:null!=(L=null==(M=null==(I=null==t?void 0:t.settings)?void 0:I.range)?void 0:M.disablePast)&&L,disableGaps:null!=(x=null==(A=null==(D=null==t?void 0:t.settings)?void 0:D.range)?void 0:A.disableGaps)&&x,disableAllDays:null!=(N=null==(k=null==(P=null==t?void 0:t.settings)?void 0:P.range)?void 0:k.disableAllDays)&&N,disableWeekday:null!=(Y=null==($=null==(F=null==t?void 0:t.settings)?void 0:F.range)?void 0:$.disableWeekday)?Y:null,disabled:null!=(B=null==(R=null==(K=null==t?void 0:t.settings)?void 0:K.range)?void 0:R.disabled)?B:null,enabled:null!=(G=null==(q=null==(V=null==t?void 0:t.settings)?void 0:V.range)?void 0:q.enabled)?G:null},selection:{day:null!=(z=null==(U=null==(W=null==t?void 0:t.settings)?void 0:W.selection)?void 0:U.day)?z:"single",month:null==(ie=null==(ne=null==(te=null==t?void 0:t.settings)?void 0:te.selection)?void 0:ne.month)||ie,year:null==(oe=null==(re=null==(se=null==t?void 0:t.settings)?void 0:se.selection)?void 0:re.year)||oe,time:null!=(ce=null==(le=null==(ae=null==t?void 0:t.settings)?void 0:ae.selection)?void 0:le.time)&&ce,controlTime:null!=(he=null==(ue=null==(de=null==t?void 0:t.settings)?void 0:de.selection)?void 0:ue.controlTime)?he:"all",stepHours:null!=(fe=null==(me=null==(pe=null==t?void 0:t.settings)?void 0:pe.selection)?void 0:me.stepHours)?fe:1,stepMinutes:null!=(ye=null==(ve=null==(ge=null==t?void 0:t.settings)?void 0:ge.selection)?void 0:ve.stepMinutes)?ye:1},selected:{dates:null!=(Se=null==(_e=null==(be=null==t?void 0:t.settings)?void 0:be.selected)?void 0:_e.dates)?Se:null,month:null!=(we=null==(Ce=null==(Ee=null==t?void 0:t.settings)?void 0:Ee.selected)?void 0:Ce.month)?we:null,year:null!=(Ie=null==(Te=null==(Oe=null==t?void 0:t.settings)?void 0:Oe.selected)?void 0:Te.year)?Ie:null,holidays:null!=(De=null==(Le=null==(Me=null==t?void 0:t.settings)?void 0:Me.selected)?void 0:Le.holidays)?De:null,time:null!=(Pe=null==(xe=null==(Ae=null==t?void 0:t.settings)?void 0:Ae.selected)?void 0:xe.time)?Pe:null},visibility:{theme:null!=(Fe=null==(Ne=null==(ke=null==t?void 0:t.settings)?void 0:ke.visibility)?void 0:Ne.theme)?Fe:"system",themeDetect:null!=(He=null==(je=null==($e=null==t?void 0:t.settings)?void 0:$e.visibility)?void 0:je.themeDetect)?He:"html[data-theme]",monthShort:null==(Re=null==(Ke=null==(Ye=null==t?void 0:t.settings)?void 0:Ye.visibility)?void 0:Ke.monthShort)||Re,weekNumbers:null!=(qe=null==(Ve=null==(Be=null==t?void 0:t.settings)?void 0:Be.visibility)?void 0:Ve.weekNumbers)&&qe,weekend:null==(Ue=null==(We=null==(Ge=null==t?void 0:t.settings)?void 0:Ge.visibility)?void 0:We.weekend)||Ue,today:null==(Xe=null==(Qe=null==(ze=null==t?void 0:t.settings)?void 0:ze.visibility)?void 0:Qe.today)||Xe,disabled:null!=(et=null==(Ze=null==(Je=null==t?void 0:t.settings)?void 0:Je.visibility)?void 0:Ze.disabled)&&et,daysOutside:null==(it=null==(nt=null==(tt=null==t?void 0:t.settings)?void 0:tt.visibility)?void 0:nt.daysOutside)||it}},this.locale={months:null!=(rt=null==(st=null==t?void 0:t.locale)?void 0:st.months)?rt:[],weekday:null!=(at=null==(ot=null==t?void 0:t.locale)?void 0:ot.weekday)?at:[]},this.actions={clickDay:null!=(ct=null==(lt=null==t?void 0:t.actions)?void 0:lt.clickDay)?ct:null,clickWeekNumber:null!=(ut=null==(dt=null==t?void 0:t.actions)?void 0:dt.clickWeekNumber)?ut:null,clickMonth:null!=(pt=null==(ht=null==t?void 0:t.actions)?void 0:ht.clickMonth)?pt:null,clickYear:null!=(ft=null==(mt=null==t?void 0:t.actions)?void 0:mt.clickYear)?ft:null,clickArrow:null!=(vt=null==(gt=null==t?void 0:t.actions)?void 0:gt.clickArrow)?vt:null,changeTime:null!=(bt=null==(yt=null==t?void 0:t.actions)?void 0:yt.changeTime)?bt:null,changeToInput:null!=(St=null==(_t=null==t?void 0:t.actions)?void 0:_t.changeToInput)?St:null},this.popups=null!=(Et=null==t?void 0:t.popups)?Et:null,this.CSSClasses=(()=>{const e=((e,t)=>{for(var o in t||(t={}))i.call(t,o)&&r(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&r(e,o,t[o]);return e})({},ee);return Object.keys(ee).forEach((n=>{var i;(null==(i=null==t?void 0:t.CSSClasses)?void 0:i[n])?e[n]=t.CSSClasses[n]:e[n]=ee[n]})),e})(),this.DOMTemplates={default:null!=(wt=null==(Ct=null==t?void 0:t.DOMTemplates)?void 0:Ct.default)?wt:(At=this.CSSClasses,`\n\t<div class="${At.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${At.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${At.wrapper}">\n\t\t<#WeekNumbers />\n\t\t<div class="${At.content}">\n\t\t\t<#Week />\n\t\t\t<#Days />\n\t\t</div>\n\t</div>\n\t<#ControlTime />\n`),multiple:null!=(Tt=null==(Ot=null==t?void 0:t.DOMTemplates)?void 0:Ot.multiple)?Tt:X(this.CSSClasses),month:null!=(Mt=null==(It=null==t?void 0:t.DOMTemplates)?void 0:It.month)?Mt:J(this.CSSClasses),year:null!=(Dt=null==(Lt=null==t?void 0:t.DOMTemplates)?void 0:Lt.year)?Dt:Z(this.CSSClasses)},this.currentType=this.type)}}"undefined"!=typeof window&&(window.VanillaCalendar=te),e.exports=te},146:e=>{(function t(n,i){e.exports=i()})(window,(function(){return function(){"use strict";var e={282:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var i=n(883),s=function(e){var t=e.value,n=e.label,s=e.id,r=e.groupId,o=e.disabled,a=e.elementId,l=e.customProperties,c=e.placeholder,d=e.keyCode;return{type:i.ACTION_TYPES.ADD_CHOICE,value:t,label:n,id:s,groupId:r,disabled:o,elementId:a,customProperties:l,placeholder:c,keyCode:d}};t.addChoice=s;var r=function(e){return{type:i.ACTION_TYPES.FILTER_CHOICES,results:e}};t.filterChoices=r;var o=function(e){return void 0===e&&(e=!0),{type:i.ACTION_TYPES.ACTIVATE_CHOICES,active:e}};t.activateChoices=o;var a=function(){return{type:i.ACTION_TYPES.CLEAR_CHOICES}};t.clearChoices=a},783:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var i=n(883),s=function(e){var t=e.value,n=e.id,s=e.active,r=e.disabled;return{type:i.ACTION_TYPES.ADD_GROUP,value:t,id:n,active:s,disabled:r}};t.addGroup=s},464:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var i=n(883),s=function(e){var t=e.value,n=e.label,s=e.id,r=e.choiceId,o=e.groupId,a=e.customProperties,l=e.placeholder,c=e.keyCode;return{type:i.ACTION_TYPES.ADD_ITEM,value:t,label:n,id:s,choiceId:r,groupId:o,customProperties:a,placeholder:l,keyCode:c}};t.addItem=s;var r=function(e,t){return{type:i.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}};t.removeItem=r;var o=function(e,t){return{type:i.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}};t.highlightItem=o},137:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=t.resetTo=t.clearAll=void 0;var i=n(883),s=function(){return{type:i.ACTION_TYPES.CLEAR_ALL}};t.clearAll=s;var r=function(e){return{type:i.ACTION_TYPES.RESET_TO,state:e}};t.resetTo=r;var o=function(e){return{type:i.ACTION_TYPES.SET_IS_LOADING,isLoading:e}};t.setIsLoading=o},373:function(e,t,n){var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(996)),o=s(n(221)),a=n(282),l=n(783),c=n(464),d=n(137),u=n(520),h=n(883),p=n(789),m=n(799),f=n(655),g=s(n(744)),v=s(n(686)),y="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,b={},_=function(){function e(t,n){void 0===t&&(t="[data-choice]"),void 0===n&&(n={});var s=this;void 0===n.allowHTML&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=r.default.all([p.DEFAULT_CONFIG,e.defaults.options,n],{arrayMerge:function(e,t){return i([],t,!0)}});var o=(0,m.diff)(this.config,p.DEFAULT_CONFIG);o.length&&console.warn("Unknown config option(s) passed",o.join(", "));var a="string"===typeof t?document.querySelector(t):t;if(!(a instanceof HTMLInputElement||a instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=a.type===h.TEXT_TYPE,this._isSelectOneElement=a.type===h.SELECT_ONE_TYPE,this._isSelectMultipleElement=a.type===h.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),n.addItemFilter&&"function"!==typeof n.addItemFilter){var l=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);this.config.addItemFilter=l.test.bind(l)}if(this._isTextElement?this.passedElement=new u.WrappedInput({element:a,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new u.WrappedSelect({element:a,classNames:this.config.classNames,template:function(e){return s._templates.option(e)}}),this.initialised=!1,this._store=new g.default,this._initialState=f.defaultState,this._currentState=f.defaultState,this._prevState=f.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,m.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var c=window.getComputedStyle(this.passedElement.element).direction,d=window.getComputedStyle(document.documentElement).direction;c!==d&&(this._direction=c)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var v=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(v)}if(this.passedElement.options&&this.passedElement.options.forEach((function(e){s._presetChoices.push({value:e.value,label:e.innerHTML,selected:!!e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:(0,m.parseCustomProperties)(e.dataset.customProperties)})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);this.init()}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return b},get templates(){return v.default}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var e=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");e&&this.disable(),this.initialised=!0;var t=this.config.callbackOnInit;t&&"function"===typeof t&&t.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=v.default,this.initialised=!1)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=e.id,i=e.groupId,s=void 0===i?-1:i,r=e.value,o=void 0===r?"":r,a=e.label,l=void 0===a?"":a,d=s>=0?this._store.getGroupById(s):null;return this._store.dispatch((0,c.highlightItem)(n,!0)),t&&this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:n,value:o,label:l,groupValue:d&&d.value?d.value:null}),this},e.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,n=e.groupId,i=void 0===n?-1:n,s=e.value,r=void 0===s?"":s,o=e.label,a=void 0===o?"":o,l=i>=0?this._store.getGroupById(i):null;return this._store.dispatch((0,c.highlightItem)(t,!1)),this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:t,value:r,label:a,groupValue:l&&l.value?l.value:null}),this},e.prototype.highlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.highlightItem(t)})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.unhighlightItem(t)})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter((function(t){var n=t.id;return n!==e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(h.EVENTS.showDropdown,{})})),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(h.EVENTS.hideDropdown,{})})),this):this},e.prototype.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce((function(t,n){var i=e?n.value:n;return t.push(i),t}),[]);return this._isSelectOneElement?t[0]:t},e.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach((function(e){return t._setChoiceOrItem(e)})),this):this},e.prototype.setChoiceByValue=function(e){var t=this;if(!this.initialised||this._isTextElement)return this;var n=Array.isArray(e)?e:[e];return n.forEach((function(e){return t._findAndSelectChoiceByValue(e)})),this},e.prototype.setChoices=function(e,t,n,i){var s=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===i&&(i=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!==typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(i&&this.clearChoices(),"function"===typeof e){var r=e(this);if("function"===typeof Promise&&r instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return s._handleLoadingState(!0)})).then((function(){return r})).then((function(e){return s.setChoices(e,t,n,i)})).catch((function(e){s.config.silent||console.error(e)})).then((function(){return s._handleLoadingState(!1)})).then((function(){return s}));if(!Array.isArray(r))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof r));return this.setChoices(r,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach((function(e){if(e.choices)s._addGroup({id:e.id?parseInt("".concat(e.id),10):null,group:e,valueKey:t,labelKey:n});else{var i=e;s._addChoice({value:i[t],label:i[n],isSelected:!!i.selected,isDisabled:!!i.disabled,placeholder:!!i.placeholder,customProperties:i.customProperties})}})),this._stopLoading(),this},e.prototype.clearChoices=function(){return this._store.dispatch((0,a.clearChoices)()),this},e.prototype.clearStore=function(){return this._store.dispatch((0,d.clearAll)()),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0))),this},e.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},e.prototype._renderChoices=function(){var e=this,t=this._store,n=t.activeGroups,i=t.activeChoices,s=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),n.length>=1&&!this._isSearching){var r=i.filter((function(e){return!0===e.placeholder&&-1===e.groupId}));r.length>=1&&(s=this._createChoicesFragment(r,s)),s=this._createGroupsFragment(n,i,s)}else i.length>=1&&(s=this._createChoicesFragment(i,s));if(s.childNodes&&s.childNodes.length>0){var o=this._store.activeItems,a=this._canAddItem(o,this.input.value);if(a.response)this.choiceList.append(s),this._highlightChoice();else{var l=this._getTemplate("notice",a.notice);this.choiceList.append(l)}}else{var c=void 0;l=void 0;this._isSearching?(l="function"===typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,c=this._getTemplate("notice",l,"no-results")):(l="function"===typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,c=this._getTemplate("notice",l,"no-choices")),this.choiceList.append(c)}},e.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},e.prototype._createGroupsFragment=function(e,t,n){var i=this;void 0===n&&(n=document.createDocumentFragment());var s=function(e){return t.filter((function(t){return i._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===i.config.renderSelectedChoices||!t.selected)}))};return this.config.shouldSort&&e.sort(this.config.sorter),e.forEach((function(e){var t=s(e);if(t.length>=1){var r=i._getTemplate("choiceGroup",e);n.appendChild(r),i._createChoicesFragment(t,n,!0)}})),n},e.prototype._createChoicesFragment=function(e,t,n){var s=this;void 0===t&&(t=document.createDocumentFragment()),void 0===n&&(n=!1);var r=this.config,o=r.renderSelectedChoices,a=r.searchResultLimit,l=r.renderChoiceLimit,c=this._isSearching?m.sortByScore:this.config.sorter,d=function(e){var n="auto"!==o||(s._isSelectOneElement||!e.selected);if(n){var i=s._getTemplate("choice",e,s.config.itemSelectText);t.appendChild(i)}},u=e;"auto"!==o||this._isSelectOneElement||(u=e.filter((function(e){return!e.selected})));var h=u.reduce((function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e}),{placeholderChoices:[],normalChoices:[]}),p=h.placeholderChoices,f=h.normalChoices;(this.config.shouldSort||this._isSearching)&&f.sort(c);var g=u.length,v=this._isSelectOneElement?i(i([],p,!0),f,!0):f;this._isSearching?g=a:l&&l>0&&!n&&(g=l);for(var y=0;y<g;y+=1)v[y]&&d(v[y]);return t},e.prototype._createItemsFragment=function(e,t){var n=this;void 0===t&&(t=document.createDocumentFragment());var i=this.config,s=i.shouldSortItems,r=i.sorter,o=i.removeItemButton;s&&!this._isSelectOneElement&&e.sort(r),this._isTextElement?this.passedElement.value=e.map((function(e){var t=e.value;return t})).join(this.config.delimiter):this.passedElement.options=e;var a=function(e){var i=n._getTemplate("item",e,o);t.appendChild(i)};return e.forEach(a),t},e.prototype._triggerChange=function(e){void 0!==e&&null!==e&&this.passedElement.triggerEvent(h.EVENTS.change,{value:e})},e.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},e.prototype._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode&&t.parentNode.dataset.id,i=n&&e.find((function(e){return e.id===parseInt(n,10)}));i&&(this._removeItem(i),this._triggerChange(i.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},e.prototype._handleItemAction=function(e,t,n){var i=this;if(void 0===n&&(n=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var s=t.dataset.id;e.forEach((function(e){e.id!==parseInt("".concat(s),10)||e.highlighted?!n&&e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)})),this.input.focus()}},e.prototype._handleChoiceAction=function(e,t){if(e&&t){var n=t.dataset.id,i=n&&this._store.getChoiceById(n);if(i){var s=e[0]&&e[0].keyCode?e[0].keyCode:void 0,r=this.dropdown.isActive;if(i.keyCode=s,this.passedElement.triggerEvent(h.EVENTS.choice,{choice:i}),!i.selected&&!i.disabled){var o=this._canAddItem(e,i.value);o.response&&(this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode}),this._triggerChange(i.value))}this.clearInput(),r&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},e.prototype._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some((function(e){return e.highlighted}));this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},e.prototype._startLoading=function(){this._store.dispatch((0,d.setIsLoading)(!0))},e.prototype._stopLoading=function(){this._store.dispatch((0,d.setIsLoading)(!1))},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),t&&this.itemList.append(t)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,n=this.config,i=n.searchFloor,s=n.searchChoices,r=t.some((function(e){return!e.active}));if(null!==e&&"undefined"!==typeof e&&e.length>=i){var o=s?this._searchChoices(e):0;this.passedElement.triggerEvent(h.EVENTS.search,{value:e,resultCount:o})}else r&&(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0)))}},e.prototype._canAddItem=function(e,t){var n=!0,i="function"===typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var s=(0,m.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,i="function"===typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&s&&n&&(n=!1,i="function"===typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"===typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,i="function"===typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:i}},e.prototype._searchChoices=function(e){var t="string"===typeof e?e.trim():e,n="string"===typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(n," "))return 0;var s=this._store.searchableChoices,r=t,l=Object.assign(this.config.fuseOptions,{keys:i([],this.config.searchFields,!0),includeMatches:!0}),c=new o.default(s,l),d=c.search(r);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,a.filterChoices)(d)),d.length},e.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this._store.activeItems,i=this.input.isFocussed,s=this.dropdown.isActive,r=this.itemList.hasChildren(),o=String.fromCharCode(t),a=/[^\x00-\x1F]/.test(o),l=h.KEY_CODES.BACK_KEY,c=h.KEY_CODES.DELETE_KEY,d=h.KEY_CODES.ENTER_KEY,u=h.KEY_CODES.A_KEY,p=h.KEY_CODES.ESC_KEY,m=h.KEY_CODES.UP_KEY,f=h.KEY_CODES.DOWN_KEY,g=h.KEY_CODES.PAGE_UP_KEY,v=h.KEY_CODES.PAGE_DOWN_KEY;switch(this._isTextElement||s||!a||(this.showDropdown(),this.input.isFocussed||(this.input.value+=e.key.toLowerCase())),t){case u:return this._onSelectKey(e,r);case d:return this._onEnterKey(e,n,s);case p:return this._onEscapeKey(s);case m:case g:case f:case v:return this._onDirectionKey(e,s);case c:case l:return this._onDeleteKey(e,n,i);default:}},e.prototype._onKeyUp=function(e){var t=e.target,n=e.keyCode,i=this.input.value,s=this._store.activeItems,r=this._canAddItem(s,i),o=h.KEY_CODES.BACK_KEY,l=h.KEY_CODES.DELETE_KEY;if(this._isTextElement){var c=r.notice&&i;if(c){var d=this._getTemplate("notice",r.notice);this.dropdown.element.innerHTML=d.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var u=n===o||n===l,p=u&&t&&!t.value,m=!this._isTextElement&&this._isSearching,f=this._canSearch&&r.response;p&&m?(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0))):f&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},e.prototype._onSelectKey=function(e,t){var n=e.ctrlKey,i=e.metaKey,s=n||i;if(s&&t){this._canSearch=!1;var r=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;r&&this.highlightAll()}},e.prototype._onEnterKey=function(e,t,n){var i=e.target,s=h.KEY_CODES.ENTER_KEY,r=i&&i.hasAttribute("data-button");if(this._isTextElement&&i&&i.value){var o=this.input.value,a=this._canAddItem(t,o);a.response&&(this.hideDropdown(!0),this._addItem({value:o}),this._triggerChange(o),this.clearInput())}if(r&&(this._handleButtonAction(t,i),e.preventDefault()),n){var l=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));l&&(t[0]&&(t[0].keyCode=s),this._handleChoiceAction(t,l)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},e.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},e.prototype._onDirectionKey=function(e,t){var n=e.keyCode,i=e.metaKey,s=h.KEY_CODES.DOWN_KEY,r=h.KEY_CODES.PAGE_UP_KEY,o=h.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var a=n===s||n===o?1:-1,l=i||n===o||n===r,c="[data-choice-selectable]",d=void 0;if(l)d=a>0?this.dropdown.element.querySelector("".concat(c,":last-of-type")):this.dropdown.element.querySelector(c);else{var u=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));d=u?(0,m.getAdjacentEl)(u,c,a):this.dropdown.element.querySelector(c)}d&&((0,m.isScrolledIntoView)(d,this.choiceList.element,a)||this.choiceList.scrollToChildElement(d,a),this._highlightChoice(d)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){var i=e.target;this._isSelectOneElement||i.value||!n||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target,n=this._wasTap&&this.containerOuter.element.contains(t);if(n){var i=t===this.containerOuter.element||t===this.containerInner.element;i&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(y&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild,i="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft;this._isScrollingOnIe=i}if(t!==this.input.element){var s=t.closest("[data-button],[data-item],[data-choice]");if(s instanceof HTMLElement){var r=e.shiftKey,o=this._store.activeItems,a=s.dataset;"button"in a?this._handleButtonAction(o,s):"item"in a?this._handleItemAction(o,s,r):"choice"in a&&this._handleChoiceAction(o,s)}e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target,n=this.containerOuter.element.contains(t);if(n)this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus());else{var i=this._store.highlightedActiveItems.length>0;i&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},e.prototype._onFocus=function(e){var t,n=this,i=e.target,s=i&&this.containerOuter.element.contains(i);if(s){var r=(t={},t[h.TEXT_TYPE]=function(){i===n.input.element&&n.containerOuter.addFocusState()},t[h.SELECT_ONE_TYPE]=function(){n.containerOuter.addFocusState(),i===n.input.element&&n.showDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){i===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},t);r[this.passedElement.element.type]()}},e.prototype._onBlur=function(e){var t,n=this,i=e.target,s=i&&this.containerOuter.element.contains(i);if(s&&!this._isScrollingOnIe){var r=this._store.activeItems,o=r.some((function(e){return e.highlighted})),a=(t={},t[h.TEXT_TYPE]=function(){i===n.input.element&&(n.containerOuter.removeFocusState(),o&&n.unhighlightAll(),n.hideDropdown(!0))},t[h.SELECT_ONE_TYPE]=function(){n.containerOuter.removeFocusState(),(i===n.input.element||i===n.containerOuter.element&&!n._canSearch)&&n.hideDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){i===n.input.element&&(n.containerOuter.removeFocusState(),n.hideDropdown(!0),o&&n.unhighlightAll())},t);a[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){this._store.dispatch((0,d.resetTo)(this._initialState))},e.prototype._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var i=e,s=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));s.forEach((function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")})),i?this._highlightPosition=n.indexOf(i):(i=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1],i||(i=n[0])),i.classList.add(this.config.classNames.highlightedState),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(h.EVENTS.highlightChoice,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},e.prototype._addItem=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,s=e.choiceId,r=void 0===s?-1:s,o=e.groupId,a=void 0===o?-1:o,l=e.customProperties,d=void 0===l?{}:l,u=e.placeholder,p=void 0!==u&&u,m=e.keyCode,f=void 0===m?-1:m,g="string"===typeof t?t.trim():t,v=this._store.items,y=i||g,b=r||-1,_=a>=0?this._store.getGroupById(a):null,S=v?v.length+1:1;this.config.prependValue&&(g=this.config.prependValue+g.toString()),this.config.appendValue&&(g+=this.config.appendValue.toString()),this._store.dispatch((0,c.addItem)({value:g,label:y,id:S,choiceId:b,groupId:a,customProperties:d,placeholder:p,keyCode:f})),this._isSelectOneElement&&this.removeActiveItems(S),this.passedElement.triggerEvent(h.EVENTS.addItem,{id:S,value:g,label:y,customProperties:d,groupValue:_&&_.value?_.value:null,keyCode:f})},e.prototype._removeItem=function(e){var t=e.id,n=e.value,i=e.label,s=e.customProperties,r=e.choiceId,o=e.groupId,a=o&&o>=0?this._store.getGroupById(o):null;t&&r&&(this._store.dispatch((0,c.removeItem)(t,r)),this.passedElement.triggerEvent(h.EVENTS.removeItem,{id:t,value:n,label:i,customProperties:s,groupValue:a&&a.value?a.value:null}))},e.prototype._addChoice=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,s=e.isSelected,r=void 0!==s&&s,o=e.isDisabled,l=void 0!==o&&o,c=e.groupId,d=void 0===c?-1:c,u=e.customProperties,h=void 0===u?{}:u,p=e.placeholder,m=void 0!==p&&p,f=e.keyCode,g=void 0===f?-1:f;if("undefined"!==typeof t&&null!==t){var v=this._store.choices,y=i||t,b=v?v.length+1:1,_="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(b);this._store.dispatch((0,a.addChoice)({id:b,groupId:d,elementId:_,value:t,label:y,disabled:l,customProperties:h,placeholder:m,keyCode:g})),r&&this._addItem({value:t,label:y,choiceId:b,customProperties:h,placeholder:m,keyCode:g})}},e.prototype._addGroup=function(e){var t=this,n=e.group,i=e.id,s=e.valueKey,r=void 0===s?"value":s,o=e.labelKey,a=void 0===o?"label":o,c=(0,m.isType)("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),d=i||Math.floor((new Date).valueOf()*Math.random()),u=!!n.disabled&&n.disabled;if(c){this._store.dispatch((0,l.addGroup)({value:n.label,id:d,active:!0,disabled:u}));var h=function(e){var n=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[r],label:(0,m.isType)("Object",e)?e[a]:e.innerHTML,isSelected:e.selected,isDisabled:n,groupId:d,customProperties:e.customProperties,placeholder:e.placeholder})};c.forEach(h)}else this._store.dispatch((0,l.addGroup)({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},e.prototype._getTemplate=function(e){for(var t,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];return(t=this._templates[e]).call.apply(t,i([this,this.config],n,!1))},e.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"===typeof e&&(t=e.call(this,m.strToEl)),this._templates=(0,r.default)(v.default,t)},e.prototype._createElements=function(){this.containerOuter=new u.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new u.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new u.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new u.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new u.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new u.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},e.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},e.prototype._addPredefinedGroups=function(e){var t=this,n=this.passedElement.placeholderOption;n&&n.parentNode&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),e.forEach((function(e){return t._addGroup({group:e,id:e.id||null})}))},e.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var n=e.some((function(e){return e.selected})),i=e.findIndex((function(e){return void 0===e.disabled||!e.disabled}));e.forEach((function(e,s){var r=e.value,o=void 0===r?"":r,a=e.label,l=e.customProperties,c=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var d=t._isSelectOneElement&&!n&&s===i,u=!!d||e.selected,h=e.disabled;t._addChoice({value:o,label:a,isSelected:!!u,isDisabled:!!h,placeholder:!!c,customProperties:l})}else t._addChoice({value:o,label:a,isSelected:!!e.selected,isDisabled:!!e.disabled,placeholder:!!e.placeholder,customProperties:l})}))},e.prototype._addPredefinedItems=function(e){var t=this;e.forEach((function(e){"object"===typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"===typeof e&&t._addItem({value:e})}))},e.prototype._setChoiceOrItem=function(e){var t=this,n=(0,m.getType)(e).toLowerCase(),i={object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}};i[n]()},e.prototype._findAndSelectChoiceByValue=function(e){var t=this,n=this._store.choices,i=n.find((function(n){return t.config.valueComparer(n.value,e)}));i&&!i.selected&&this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode})},e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,n=t.placeholder,i=t.placeholderValue,s=this.passedElement.element.dataset;if(n){if(i)return i;if(s.placeholder)return s.placeholder}return null},e}();t["default"]=_},613:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),s=n(883),r=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,s=e.position;this.element=t,this.classNames=i,this.type=n,this.position=s,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return e.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.shouldFlip=function(e){if("number"!==typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(t=!0),t},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===s.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===s.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){(0,i.wrap)(e,this.element)},e.prototype.unwrap=function(e){this.element.parentNode&&(this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element))},e.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t["default"]=r},217:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.element,n=e.type,i=e.classNames;this.element=t,this.classNames=i,this.type=n,this.isActive=!1}return Object.defineProperty(e.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}();t["default"]=n},520:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSelect=t.WrappedInput=t.List=t.Input=t.Container=t.Dropdown=void 0;var s=i(n(217));t.Dropdown=s.default;var r=i(n(613));t.Container=r.default;var o=i(n(11));t.Input=o.default;var a=i(n(624));t.List=a.default;var l=i(n(541));t.WrappedInput=l.default;var c=i(n(982));t.WrappedSelect=c.default},11:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),s=n(883),r=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,s=e.preventPaste;this.element=t,this.type=n,this.classNames=i,this.preventPaste=s,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(0,i.sanitise)(this.element.value)},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element,t=e.style,n=e.value,i=e.placeholder;t.minWidth="".concat(i.length+1,"ch"),t.width="".concat(n.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==s.SELECT_ONE_TYPE&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t["default"]=r},624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(883),s=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.append=function(e){this.element.appendChild(e)},e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.hasChildren=function(){return this.element.hasChildNodes()},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var i=this.element.offsetHeight,s=this.element.scrollTop+i,r=e.offsetHeight,o=e.offsetTop+r,a=t>0?this.element.scrollTop+o-s:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(a,t)}))}},e.prototype._scrollDown=function(e,t,n){var i=(n-e)/t,s=i>1?i:1;this.element.scrollTop=e+s},e.prototype._scrollUp=function(e,t,n){var i=(e-n)/t,s=i>1?i:1;this.element.scrollTop=e-s},e.prototype._animateScroll=function(e,t){var n=this,s=i.SCROLLING_SPEED,r=this.element.scrollTop,o=!1;t>0?(this._scrollDown(r,s,e),r<e&&(o=!0)):(this._scrollUp(r,s,e),r>e&&(o=!0)),o&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}();t["default"]=s},730:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),s=function(){function e(e){var t=e.element,n=e.classNames;if(this.element=t,this.classNames=n,!(t instanceof HTMLInputElement)&&!(t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},e.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){(0,i.dispatchEvent)(this.element,e,t)},e}();t["default"]=s},541:function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(730)),o=function(e){function t(t){var n=t.element,i=t.classNames,s=t.delimiter,r=e.call(this,{element:n,classNames:i})||this;return r.delimiter=s,r}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t}(r.default);t["default"]=o},982:function(e,t,n){var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(730)),o=function(e){function t(t){var n=t.element,i=t.classNames,s=t.template,r=e.call(this,{element:n,classNames:i})||this;return r.template=s,r}return i(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(e){var t=this,n=document.createDocumentFragment(),i=function(e){var i=t.template(e);n.appendChild(i)};e.forEach((function(e){return i(e)})),this.appendDocFragment(n)},enumerable:!1,configurable:!0}),t.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},t}(r.default);t["default"]=o},883:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.SELECT_MULTIPLE_TYPE=t.SELECT_ONE_TYPE=t.TEXT_TYPE=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=void 0,t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},t.TEXT_TYPE="text",t.SELECT_ONE_TYPE="select-one",t.SELECT_MULTIPLE_TYPE="select-multiple",t.SCROLLING_SPEED=4},789:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var i=n(799);t.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},t.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:i.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,i.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t.DEFAULT_CLASSNAMES}},18:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},978:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},948:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},359:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},285:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},187:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(18),t),s(n(978),t),s(n(948),t),s(n(359),t),s(n(285),t),s(n(533),t),s(n(287),t),s(n(132),t),s(n(837),t),s(n(598),t),s(n(369),t),s(n(37),t),s(n(47),t),s(n(923),t),s(n(876),t)},287:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},132:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},598:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},37:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},369:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},47:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},923:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},876:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},799:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCustomProperties=t.diff=t.cloneObject=t.existsInArray=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.wrap=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0;var n=function(e,t){return Math.floor(Math.random()*(t-e)+e)};t.getRandomNumber=n;var i=function(e){return Array.from({length:e},(function(){return(0,t.getRandomNumber)(0,36).toString(36)})).join("")};t.generateChars=i;var s=function(e,n){var i=e.id||e.name&&"".concat(e.name,"-").concat((0,t.generateChars)(2))||(0,t.generateChars)(4);return i=i.replace(/(:|\.|\[|\]|,)/g,""),i="".concat(n,"-").concat(i),i};t.generateId=s;var r=function(e){return Object.prototype.toString.call(e).slice(8,-1)};t.getType=r;var o=function(e,n){return void 0!==n&&null!==n&&(0,t.getType)(n)===e};t.isType=o;var a=function(e,t){return void 0===t&&(t=document.createElement("div")),e.parentNode&&(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)),t.appendChild(e)};t.wrap=a;var l=function(e,t,n){void 0===n&&(n=1);var i="".concat(n>0?"next":"previous","ElementSibling"),s=e[i];while(s){if(s.matches(t))return s;s=s[i]}return s};t.getAdjacentEl=l;var c=function(e,t,n){return void 0===n&&(n=1),!!e&&(i=n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop,i);var i};t.isScrolledIntoView=c;var d=function(e){return"string"!==typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};t.sanitise=d,t.strToEl=function(){var e=document.createElement("div");return function(t){var n=t.trim();e.innerHTML=n;var i=e.children[0];while(e.firstChild)e.removeChild(e.firstChild);return i}}();var u=function(e,t){var n=e.value,i=e.label,s=void 0===i?n:i,r=t.value,o=t.label,a=void 0===o?r:o;return s.localeCompare(a,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};t.sortByAlpha=u;var h=function(e,t){var n=e.score,i=void 0===n?0:n,s=t.score,r=void 0===s?0:s;return i-r};t.sortByScore=h;var p=function(e,t,n){void 0===n&&(n=null);var i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(i)};t.dispatchEvent=p;var m=function(e,t,n){return void 0===n&&(n="value"),e.some((function(e){return"string"===typeof t?e[n]===t.trim():e[n]===t}))};t.existsInArray=m;var f=function(e){return JSON.parse(JSON.stringify(e))};t.cloneObject=f;var g=function(e,t){var n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.filter((function(e){return i.indexOf(e)<0}))};t.diff=g;var v=function(e){if("undefined"!==typeof e)try{return JSON.parse(e)}catch(t){return e}return{}};t.parseCustomProperties=v},273:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))};function i(e,i){switch(void 0===e&&(e=t.defaultState),void 0===i&&(i={}),i.type){case"ADD_CHOICE":var s=i,r={id:s.id,elementId:s.elementId,groupId:s.groupId,value:s.value,label:s.label||s.value,disabled:s.disabled||!1,selected:!1,active:!0,score:9999,customProperties:s.customProperties,placeholder:s.placeholder||!1};return n(n([],e,!0),[r],!1);case"ADD_ITEM":var o=i;return o.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(o.choiceId),10)&&(t.selected=!0),t})):e;case"REMOVE_ITEM":var a=i;return a.choiceId&&a.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(a.choiceId),10)&&(t.selected=!1),t})):e;case"FILTER_CHOICES":var l=i;return e.map((function(e){var t=e;return t.active=l.results.some((function(e){var n=e.item,i=e.score;return n.id===t.id&&(t.score=i,!0)})),t}));case"ACTIVATE_CHOICES":var c=i;return e.map((function(e){var t=e;return t.active=c.active,t}));case"CLEAR_CHOICES":return t.defaultState;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t["default"]=i},871:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))};function i(e,i){switch(void 0===e&&(e=t.defaultState),void 0===i&&(i={}),i.type){case"ADD_GROUP":var s=i;return n(n([],e,!0),[{id:s.id,value:s.value,active:s.active,disabled:s.disabled}],!1);case"CLEAR_CHOICES":return[];default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t["default"]=i},655:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var s=n(791),r=i(n(52)),o=i(n(871)),a=i(n(273)),l=i(n(502)),c=n(799);t.defaultState={groups:[],items:[],choices:[],loading:!1};var d=(0,s.combineReducers)({items:r.default,groups:o.default,choices:a.default,loading:l.default}),u=function(e,n){var i=e;if("CLEAR_ALL"===n.type)i=t.defaultState;else if("RESET_TO"===n.type)return(0,c.cloneObject)(n.state);return d(i,n)};t["default"]=u},52:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))};function i(e,i){switch(void 0===e&&(e=t.defaultState),void 0===i&&(i={}),i.type){case"ADD_ITEM":var s=i,r=n(n([],e,!0),[{id:s.id,choiceId:s.choiceId,groupId:s.groupId,value:s.value,label:s.label,active:!0,highlighted:!1,customProperties:s.customProperties,placeholder:s.placeholder||!1,keyCode:null}],!1);return r.map((function(e){var t=e;return t.highlighted=!1,t}));case"REMOVE_ITEM":return e.map((function(e){var t=e;return t.id===i.id&&(t.active=!1),t}));case"HIGHLIGHT_ITEM":var o=i;return e.map((function(e){var t=e;return t.id===o.id&&(t.highlighted=o.highlighted),t}));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t["default"]=i},502:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=!1;var n=function(e,n){switch(void 0===e&&(e=t.defaultState),void 0===n&&(n={}),n.type){case"SET_IS_LOADING":return n.isLoading;default:return e}};t["default"]=n},744:function(e,t,n){var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(791),o=s(n(655)),a=function(){function e(){this._store=(0,r.createStore)(o.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return e.prototype.subscribe=function(e){this._store.subscribe(e)},e.prototype.dispatch=function(e){this._store.dispatch(e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.items.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectableChoices",{get:function(){return this.choices.filter((function(e){return!0!==e.disabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter((function(e){return!0!==e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderChoice",{get:function(){return i([],this.choices,!0).reverse().find((function(e){return!0===e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this,t=e.groups,n=e.choices;return t.filter((function(e){var t=!0===e.active&&!1===e.disabled,i=n.some((function(e){return!0===e.active&&!1===e.disabled}));return t&&i}),[])},enumerable:!1,configurable:!0}),e.prototype.isLoading=function(){return this.state.loading},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===parseInt(e,10)}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}();t["default"]=a},686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={containerOuter:function(e,t,n,i,s,r,o){var a=e.classNames.containerOuter,l=Object.assign(document.createElement("div"),{className:a});return l.dataset.type=r,t&&(l.dir=t),i&&(l.tabIndex=0),n&&(l.setAttribute("role",s?"combobox":"listbox"),s&&l.setAttribute("aria-autocomplete","list")),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false"),o&&l.setAttribute("aria-labelledby",o),l},containerInner:function(e){var t=e.classNames.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var n=e.classNames,i=n.list,s=n.listSingle,r=n.listItems;return Object.assign(document.createElement("div"),{className:"".concat(i," ").concat(t?s:r)})},placeholder:function(e,t){var n,i=e.allowHTML,s=e.classNames.placeholder;return Object.assign(document.createElement("div"),(n={className:s},n[i?"innerHTML":"innerText"]=t,n))},item:function(e,t,n){var i,s,r=e.allowHTML,o=e.classNames,a=o.item,l=o.button,c=o.highlightedState,d=o.itemSelectable,u=o.placeholder,h=t.id,p=t.value,m=t.label,f=t.customProperties,g=t.active,v=t.disabled,y=t.highlighted,b=t.placeholder,_=Object.assign(document.createElement("div"),(i={className:a},i[r?"innerHTML":"innerText"]=m,i));if(Object.assign(_.dataset,{item:"",id:h,value:p,customProperties:f}),g&&_.setAttribute("aria-selected","true"),v&&_.setAttribute("aria-disabled","true"),b&&_.classList.add(u),_.classList.add(y?c:d),n){v&&_.classList.remove(d),_.dataset.deletable="";var S="Remove item",E=Object.assign(document.createElement("button"),(s={type:"button",className:l},s[r?"innerHTML":"innerText"]=S,s));E.setAttribute("aria-label","".concat(S,": '").concat(p,"'")),E.dataset.button="",_.appendChild(E)}return _},choiceList:function(e,t){var n=e.classNames.list,i=Object.assign(document.createElement("div"),{className:n});return t||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(e,t){var n,i=e.allowHTML,s=e.classNames,r=s.group,o=s.groupHeading,a=s.itemDisabled,l=t.id,c=t.value,d=t.disabled,u=Object.assign(document.createElement("div"),{className:"".concat(r," ").concat(d?a:"")});return u.setAttribute("role","group"),Object.assign(u.dataset,{group:"",id:l,value:c}),d&&u.setAttribute("aria-disabled","true"),u.appendChild(Object.assign(document.createElement("div"),(n={className:o},n[i?"innerHTML":"innerText"]=c,n))),u},choice:function(e,t,n){var i,s=e.allowHTML,r=e.classNames,o=r.item,a=r.itemChoice,l=r.itemSelectable,c=r.selectedState,d=r.itemDisabled,u=r.placeholder,h=t.id,p=t.value,m=t.label,f=t.groupId,g=t.elementId,v=t.disabled,y=t.selected,b=t.placeholder,_=Object.assign(document.createElement("div"),(i={id:g},i[s?"innerHTML":"innerText"]=m,i.className="".concat(o," ").concat(a),i));return y&&_.classList.add(c),b&&_.classList.add(u),_.setAttribute("role",f&&f>0?"treeitem":"option"),Object.assign(_.dataset,{choice:"",id:h,value:p,selectText:n}),v?(_.classList.add(d),_.dataset.choiceDisabled="",_.setAttribute("aria-disabled","true")):(_.classList.add(l),_.dataset.choiceSelectable=""),_},input:function(e,t){var n=e.classNames,i=n.input,s=n.inputCloned,r=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(i," ").concat(s),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return r.setAttribute("role","textbox"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-label",t),r},dropdown:function(e){var t=e.classNames,n=t.list,i=t.listDropdown,s=document.createElement("div");return s.classList.add(n,i),s.setAttribute("aria-expanded","false"),s},notice:function(e,t,n){var i,s=e.allowHTML,r=e.classNames,o=r.item,a=r.itemChoice,l=r.noResults,c=r.noChoices;void 0===n&&(n="");var d=[o,a];return"no-choices"===n?d.push(c):"no-results"===n&&d.push(l),Object.assign(document.createElement("div"),(i={},i[s?"innerHTML":"innerText"]=t,i.className=d.join(" "),i))},option:function(e){var t=e.label,n=e.value,i=e.customProperties,s=e.active,r=e.disabled,o=new Option(t,n,!1,s);return i&&(o.dataset.customProperties="".concat(i)),o.disabled=!!r,o}};t["default"]=n},996:function(e){var t=function e(t){return n(t)&&!i(t)};function n(e){return!!e&&"object"===typeof e}function i(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||o(e)}var s="function"===typeof Symbol&&Symbol.for,r=s?Symbol.for("react.element"):60103;function o(e){return e.$$typeof===r}function a(e){return Array.isArray(e)?[]:{}}function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?g(a(e),e,t):e}function c(e,t,n){return e.concat(t).map((function(e){return l(e,n)}))}function d(e,t){if(!t.customMerge)return g;var n=t.customMerge(e);return"function"===typeof n?n:g}function u(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function h(e){return Object.keys(e).concat(u(e))}function p(e,t){try{return t in e}catch(n){return!1}}function m(e,t){return p(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function f(e,t,n){var i={};return n.isMergeableObject(e)&&h(e).forEach((function(t){i[t]=l(e[t],n)})),h(t).forEach((function(s){m(e,s)||(p(e,s)&&n.isMergeableObject(t[s])?i[s]=d(s,n)(e[s],t[s],n):i[s]=l(t[s],n))})),i}function g(e,n,i){i=i||{},i.arrayMerge=i.arrayMerge||c,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=l;var s=Array.isArray(n),r=Array.isArray(e),o=s===r;return o?s?i.arrayMerge(e,n,i):f(e,n,i):l(n,i)}g.all=function e(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(e,t){return g(e,t,n)}),{})};var v=g;e.exports=v},221:function(e,t,n){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}n.r(t),n.d(t,{default:function(){return be}});const s=1/0;function r(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-s?"-0":t}function o(e){return null==e?"":r(e)}function a(e){return"string"===typeof e}function l(e){return"number"===typeof e}function c(e){return!0===e||!1===e||u(e)&&"[object Boolean]"==m(e)}function d(e){return"object"===typeof e}function u(e){return d(e)&&null!==e}function h(e){return void 0!==e&&null!==e}function p(e){return!e.trim().length}function m(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const f="Incorrect 'index' type",g=e=>`Invalid value for key ${e}`,v=e=>`Pattern length exceeds max of ${e}.`,y=e=>`Missing ${e} property in key`,b=e=>`Property 'weight' in key '${e}' must be a positive integer`,_=Object.prototype.hasOwnProperty;class S{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=E(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function E(e){let t=null,n=null,s=null,r=1,o=null;if(a(e)||i(e))s=e,t=C(e),n=w(e);else{if(!_.call(e,"name"))throw new Error(y("name"));const i=e.name;if(s=i,_.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(b(i));t=C(i),n=w(i),o=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:o}}function C(e){return i(e)?e:e.split(".")}function w(e){return i(e)?e.join("."):e}function O(e,t){let n=[],s=!1;const r=(e,t,d)=>{if(h(e))if(t[d]){let u=t[d];const p=e[u];if(!h(p))return;if(d===t.length-1&&(a(p)||l(p)||c(p)))n.push(o(p));else if(i(p)){s=!0;for(let e=0,n=p.length;e<n;e+=1)r(p[e],t,d+1)}else t.length&&r(p,t,d+1)}else n.push(e)};return r(e,a(t)?t.split("."):t,0),s?n:n[0]}const T={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},I={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},M={location:0,threshold:.6,distance:100},L={useExtendedSearch:!1,getFn:O,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var D={...I,...T,...M,...L};const A=/[^ ]+/g;function x(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const s=t.match(A).length;if(n.has(s))return n.get(s);const r=1/Math.pow(s,.5*e),o=parseFloat(Math.round(r*i)/i);return n.set(s,o),o},clear(){n.clear()}}}class P{constructor({getFn:e=D.getFn,fieldNormWeight:t=D.fieldNormWeight}={}){this.norm=x(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,a(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();a(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!h(e)||p(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,s)=>{let r=t.getFn?t.getFn(e):this.getFn(e,t.path);if(h(r))if(i(r)){let e=[];const t=[{nestedArrIndex:-1,value:r}];while(t.length){const{nestedArrIndex:n,value:s}=t.pop();if(h(s))if(a(s)&&!p(s)){let t={v:s,i:n,n:this.norm.get(s)};e.push(t)}else i(s)&&s.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[s]=e}else if(a(r)&&!p(r)){let e={v:r,n:this.norm.get(r)};n.$[s]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function k(e,t,{getFn:n=D.getFn,fieldNormWeight:i=D.fieldNormWeight}={}){const s=new P({getFn:n,fieldNormWeight:i});return s.setKeys(e.map(E)),s.setSources(t),s.create(),s}function N(e,{getFn:t=D.getFn,fieldNormWeight:n=D.fieldNormWeight}={}){const{keys:i,records:s}=e,r=new P({getFn:t,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(s),r}function F(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:s=D.distance,ignoreLocation:r=D.ignoreLocation}={}){const o=t/e.length;if(r)return o;const a=Math.abs(i-n);return s?o+a/s:a?1:o}function $(e=[],t=D.minMatchCharLength){let n=[],i=-1,s=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===i?i=r:o||-1===i||(s=r-1,s-i+1>=t&&n.push([i,s]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}const j=32;function H(e,t,n,{location:i=D.location,distance:s=D.distance,threshold:r=D.threshold,findAllMatches:o=D.findAllMatches,minMatchCharLength:a=D.minMatchCharLength,includeMatches:l=D.includeMatches,ignoreLocation:c=D.ignoreLocation}={}){if(t.length>j)throw new Error(v(j));const d=t.length,u=e.length,h=Math.max(0,Math.min(i,u));let p=r,m=h;const f=a>1||l,g=f?Array(u):[];let y;while((y=e.indexOf(t,m))>-1){let e=F(t,{currentLocation:y,expectedLocation:h,distance:s,ignoreLocation:c});if(p=Math.min(e,p),m=y+d,f){let e=0;while(e<d)g[y+e]=1,e+=1}}m=-1;let b=[],_=1,S=d+u;const E=1<<d-1;for(let v=0;v<d;v+=1){let i=0,r=S;while(i<r){const e=F(t,{errors:v,currentLocation:h+r,expectedLocation:h,distance:s,ignoreLocation:c});e<=p?i=r:S=r,r=Math.floor((S-i)/2+i)}S=r;let a=Math.max(1,h-r+1),l=o?u:Math.min(h+r,u)+d,y=Array(l+2);y[l+1]=(1<<v)-1;for(let o=l;o>=a;o-=1){let i=o-1,r=n[e.charAt(i)];if(f&&(g[i]=+!!r),y[o]=(y[o+1]<<1|1)&r,v&&(y[o]|=(b[o+1]|b[o])<<1|1|b[o+1]),y[o]&E&&(_=F(t,{errors:v,currentLocation:i,expectedLocation:h,distance:s,ignoreLocation:c}),_<=p)){if(p=_,m=i,m<=h)break;a=Math.max(1,2*h-m)}}const C=F(t,{errors:v+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:c});if(C>p)break;b=y}const C={isMatch:m>=0,score:Math.max(.001,_)};if(f){const e=$(g,a);e.length?l&&(C.indices=e):C.isMatch=!1}return C}function Y(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<i-n-1}return t}class K{constructor(e,{location:t=D.location,threshold:n=D.threshold,distance:i=D.distance,includeMatches:s=D.includeMatches,findAllMatches:r=D.findAllMatches,minMatchCharLength:o=D.minMatchCharLength,isCaseSensitive:a=D.isCaseSensitive,ignoreLocation:l=D.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Y(e),startIndex:t})},d=this.pattern.length;if(d>j){let e=0;const t=d%j,n=d-t;while(e<n)c(this.pattern.substr(e,j),e),e+=j;if(t){const e=d-j;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:a,ignoreLocation:l}=this.options;let c=[],d=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:p})=>{const{isMatch:m,score:f,indices:g}=H(e,t,h,{location:i+p,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:a,includeMatches:n,ignoreLocation:l});m&&(u=!0),d+=f,m&&g&&(c=[...c,...g])}));let h={isMatch:u,score:u?d/this.chunks.length:1};return u&&n&&(h.indices=c),h}}class R{constructor(e){this.pattern=e}static isMultiMatch(e){return B(e,this.multiRegex)}static isSingleMatch(e){return B(e,this.singleRegex)}search(){}}function B(e,t){const n=e.match(t);return n?n[1]:null}class V extends R{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class q extends R{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=e.indexOf(this.pattern),n=-1===t;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class G extends R{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class W extends R{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class U extends R{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class z extends R{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Q extends R{constructor(e,{location:t=D.location,threshold:n=D.threshold,distance:i=D.distance,includeMatches:s=D.includeMatches,findAllMatches:r=D.findAllMatches,minMatchCharLength:o=D.minMatchCharLength,isCaseSensitive:a=D.isCaseSensitive,ignoreLocation:l=D.ignoreLocation}={}){super(e),this._bitapSearch=new K(e,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class X extends R{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],s=this.pattern.length;while((t=e.indexOf(this.pattern,n))>-1)n=t+s,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const J=[V,X,G,W,z,U,q,Q],Z=J.length,ee=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,te="|";function ne(e,t={}){return e.split(te).map((e=>{let n=e.trim().split(ee).filter((e=>e&&!!e.trim())),i=[];for(let s=0,r=n.length;s<r;s+=1){const e=n[s];let r=!1,o=-1;while(!r&&++o<Z){const n=J[o];let s=n.isMultiMatch(e);s&&(i.push(new n(s,t)),r=!0)}if(!r){o=-1;while(++o<Z){const n=J[o];let s=n.isSingleMatch(e);if(s){i.push(new n(s,t));break}}}}return i}))}const ie=new Set([Q.type,X.type]);class se{constructor(e,{isCaseSensitive:t=D.isCaseSensitive,includeMatches:n=D.includeMatches,minMatchCharLength:i=D.minMatchCharLength,ignoreLocation:s=D.ignoreLocation,findAllMatches:r=D.findAllMatches,location:o=D.location,threshold:a=D.threshold,distance:l=D.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:s,location:o,threshold:a,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=ne(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,r=[],o=0;for(let a=0,l=t.length;a<l;a+=1){const i=t[a];r.length=0,s=0;for(let t=0,a=i.length;t<a;t+=1){const a=i[t],{isMatch:l,indices:c,score:d}=a.search(e);if(!l){o=0,s=0,r.length=0;break}if(s+=1,o+=d,n){const e=a.constructor.type;ie.has(e)?r=[...r,...c]:r.push(c)}}if(s){let e={isMatch:!0,score:o/s};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}}const re=[];function oe(...e){re.push(...e)}function ae(e,t){for(let n=0,i=re.length;n<i;n+=1){let i=re[n];if(i.condition(e,t))return new i(e,t)}return new K(e,t)}const le={AND:"$and",OR:"$or"},ce={PATH:"$path",PATTERN:"$val"},de=e=>!(!e[le.AND]&&!e[le.OR]),ue=e=>!!e[ce.PATH],he=e=>!i(e)&&d(e)&&!de(e),pe=e=>({[le.AND]:Object.keys(e).map((t=>({[t]:e[t]})))});function me(e,t,{auto:n=!0}={}){const s=e=>{let r=Object.keys(e);const o=ue(e);if(!o&&r.length>1&&!de(e))return s(pe(e));if(he(e)){const i=o?e[ce.PATH]:r[0],s=o?e[ce.PATTERN]:e[i];if(!a(s))throw new Error(g(i));const l={keyId:w(i),pattern:s};return n&&(l.searcher=ae(s,t)),l}let l={children:[],operator:r[0]};return r.forEach((t=>{const n=e[t];i(n)&&n.forEach((e=>{l.children.push(s(e))}))})),l};return de(e)||(e=pe(e)),s(e)}function fe(e,{ignoreFieldNorm:t=D.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:s})=>{const r=e?e.weight:null;n*=Math.pow(0===s&&r?Number.EPSILON:s,(r||1)*(t?1:i))})),e.score=n}))}function ge(e,t){const n=e.matches;t.matches=[],h(n)&&n.forEach((e=>{if(!h(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let s={indices:n,value:i};e.key&&(s.key=e.key.src),e.idx>-1&&(s.refIndex=e.idx),t.matches.push(s)}))}function ve(e,t){t.score=e.score}function ye(e,t,{includeMatches:n=D.includeMatches,includeScore:i=D.includeScore}={}){const s=[];return n&&s.push(ge),i&&s.push(ve),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return s.length&&s.forEach((t=>{t(e,i)})),i}))}class be{constructor(e,t={},n){this.options={...D,...t},this.options.useExtendedSearch,this._keyStore=new S(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof P))throw new Error(f);this._myIndex=t||k(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){h(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:r,ignoreFieldNorm:o}=this.options;let c=a(e)?a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return fe(c,{ignoreFieldNorm:o}),s&&c.sort(r),l(t)&&t>-1&&(c=c.slice(0,t)),ye(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=ae(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:s})=>{if(!h(e))return;const{isMatch:r,score:o,indices:a}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:o,value:e,norm:s,indices:a}]})})),i}_searchLogical(e){const t=me(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:s}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:s});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}const s=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],a=n(o,t,i);if(a.length)s.push(...a);else if(e.operator===le.AND)return[]}return s},i=this._myIndex.records,s={},r=[];return i.forEach((({$:e,i:i})=>{if(h(e)){let o=n(t,e,i);o.length&&(s[i]||(s[i]={idx:i,item:e,matches:[]},r.push(s[i])),o.forEach((({matches:e})=>{s[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=ae(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach((({$:e,i:i})=>{if(!h(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&s.push({idx:i,item:e,matches:r})})),s}_findMatches({key:e,value:t,searcher:n}){if(!h(t))return[];let s=[];if(i(t))t.forEach((({v:t,i:i,n:r})=>{if(!h(t))return;const{isMatch:o,score:a,indices:l}=n.searchIn(t);o&&s.push({score:a,key:e,value:t,idx:i,norm:r,indices:l})}));else{const{v:i,n:r}=t,{isMatch:o,score:a,indices:l}=n.searchIn(i);o&&s.push({score:a,key:e,value:i,norm:r,indices:l})}return s}}be.version="6.6.2",be.createIndex=k,be.parseIndex=N,be.config=D,be.parseQuery=me,oe(se)},791:function(e,t,n){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function r(e){var t=s(e,"string");return"symbol"===i(t)?t:String(t)}function o(e,t,n){return t=r(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return h},applyMiddleware:function(){return S},bindActionCreators:function(){return b},combineReducers:function(){return v},compose:function(){return _},createStore:function(){return m},legacy_createStore:function(){return f}});var d="function"===typeof Symbol&&Symbol.observable||"@@observable",u=function e(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function e(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function p(e){if("object"!==typeof e||null===e)return!1;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function m(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(c(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(c(1));return n(m)(e,t)}if("function"!==typeof e)throw new Error(c(2));var s=e,r=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function f(){if(l)throw new Error(c(3));return r}function g(e){if("function"!==typeof e)throw new Error(c(4));if(l)throw new Error(c(5));var t=!0;return u(),a.push(e),function n(){if(t){if(l)throw new Error(c(6));t=!1,u();var i=a.indexOf(e);a.splice(i,1),o=null}}}function v(e){if(!p(e))throw new Error(c(7));if("undefined"===typeof e.type)throw new Error(c(8));if(l)throw new Error(c(9));try{l=!0,r=s(r,e)}finally{l=!1}for(var t=o=a,n=0;n<t.length;n++){var i=t[n];i()}return e}function y(e){if("function"!==typeof e)throw new Error(c(10));s=e,v({type:h.REPLACE})}function b(){var e,t=g;return e={subscribe:function e(n){if("object"!==typeof n||null===n)throw new Error(c(11));function i(){n.next&&n.next(f())}i();var s=t(i);return{unsubscribe:s}}},e[d]=function(){return this},e}return v({type:h.INIT}),i={dispatch:v,subscribe:g,getState:f,replaceReducer:y},i[d]=b,i}var f=m;function g(e){Object.keys(e).forEach((function(t){var n=e[t],i=n(void 0,{type:h.INIT});if("undefined"===typeof i)throw new Error(c(12));if("undefined"===typeof n(void 0,{type:h.PROBE_UNKNOWN_ACTION()}))throw new Error(c(13))}))}function v(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var s=t[i];0,"function"===typeof e[s]&&(n[s]=e[s])}var r,o=Object.keys(n);try{g(n)}catch(a){r=a}return function e(t,i){if(void 0===t&&(t={}),r)throw r;for(var s=!1,a={},l=0;l<o.length;l++){var d=o[l],u=n[d],h=t[d],p=u(h,i);if("undefined"===typeof p){i&&i.type;throw new Error(c(14))}a[d]=p,s=s||p!==h}return s=s||o.length!==Object.keys(t).length,s?a:t}}function y(e,t){return function(){return t(e.apply(this,arguments))}}function b(e,t){if("function"===typeof e)return y(e,t);if("object"!==typeof e||null===e)throw new Error(c(16));var n={};for(var i in e){var s=e[i];"function"===typeof s&&(n[i]=y(s,t))}return n}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function e(){throw new Error(c(15))},s={getState:n.getState,dispatch:function e(){return i.apply(void 0,arguments)}},r=t.map((function(e){return e(s)}));return i=_.apply(void 0,r)(n.dispatch),l(l({},n),{},{dispatch:i})}}}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){var e=n(373),t=n.n(e);n(187),n(883),n(789),n(686);i["default"]=t()}(),i=i["default"],i}()}))},446:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i={};n.r(i);var s=n(873),r=n.n(s),o=n(152),a=n.n(o),l=n(44),c=n.n(l),d=n(114),u=n.n(d),h=n(542),p=n.n(h),m=n(204),f=n.n(m),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p();r()(i["default"],g);i["default"]&&i["default"].locals&&i["default"].locals;function v(){window.addEventListener("keyup",(e=>{9===e.which&&document.documentElement.classList.remove("js-no-focus-outline")}))}},354:(e,t,n)=>{"use strict";var i={};n.r(i);var s=n(873),r=n.n(s),o=n(152),a=n.n(o),l=n(44),c=n.n(l),d=n(114),u=n.n(d),h=n(542),p=n.n(h),m=n(204),f=n.n(m),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p();r()(i["default"],g);i["default"]&&i["default"].locals&&i["default"].locals},28:(e,t,n)=>{"use strict";var i={};n.r(i);var s=n(873),r=n.n(s),o=n(152),a=n.n(o),l=n(44),c=n.n(l),d=n(114),u=n.n(d),h=n(542),p=n.n(h),m=n(204),f=n.n(m),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p();r()(i["default"],g);i["default"]&&i["default"].locals&&i["default"].locals},873:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},o=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=s(p,i);i.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function s(e,t){var n=t.domAPI(t);n.update(e);var i=function t(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap&&i.supports===e.supports&&i.layer===e.layer)return;n.update(e=i)}else n.remove()};return i}e.exports=function(e,s){s=s||{},e=e||[];var r=i(e,s);return function e(o){o=o||[];for(var a=0;a<r.length;a++){var l=r[a],c=n(l);t[c].references--}for(var d=i(o,s),u=0;u<r.length;u++){var h=r[u],p=n(h);0===t[p].references&&(t[p].updater(),t.splice(p,1))}r=d}}},44:e=>{"use strict";var t={};function n(e){if("undefined"===typeof t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(i){n=null}t[e]=n}return t[e]}function i(e,t){var i=n(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}e.exports=i},542:e=>{"use strict";function t(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}e.exports=t},114:(e,t,n)=>{"use strict";function i(e){var t=n.nc;t&&e.setAttribute("nonce",t)}e.exports=i},152:e=>{"use strict";function t(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s="undefined"!==typeof n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!==typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}function n(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}function i(e){if("undefined"===typeof document)return{update:function e(){},remove:function e(){}};var i=e.insertStyleElement(e);return{update:function n(s){t(i,e,s)},remove:function e(){n(i)}}}e.exports=i},204:e=>{"use strict";function t(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}e.exports=t},931:function(e){var t;t=function(){"use strict";function e(e,t){e.split(/\s+/).forEach((e=>{t(e)}))}class t{constructor(){this._events=void 0,this._events={}}on(t,n){e(t,(e=>{const t=this._events[e]||[];t.push(n),this._events[e]=t}))}off(t,n){var i=arguments.length;0!==i?e(t,(e=>{if(1===i)return void delete this._events[e];const t=this._events[e];void 0!==t&&(t.splice(t.indexOf(n),1),this._events[e]=t)})):this._events={}}trigger(t,...n){var i=this;e(t,(e=>{const t=i._events[e];void 0!==t&&t.forEach((e=>{e.apply(i,n)}))}))}}function n(e){return e.plugins={},class extends e{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,n){e.plugins[t]={name:t,fn:n}}initializePlugins(e){var t,n;const i=this,s=[];if(Array.isArray(e))e.forEach((e=>{"string"===typeof e?s.push(e):(i.plugins.settings[e.name]=e.options,s.push(e.name))}));else if(e)for(t in e)e.hasOwnProperty(t)&&(i.plugins.settings[t]=e[t],s.push(t));while(n=s.shift())i.require(n)}loadPlugin(t){var n=this,i=n.plugins,s=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=s.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)}require(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]}}}const i=e=>(e=e.filter(Boolean),e.length<2?e[0]||"":1==l(e)?"["+e.join("")+"]":"(?:"+e.join("|")+")"),s=e=>{if(!o(e))return e.join("");let t="",n=0;const i=()=>{n>1&&(t+="{"+n+"}")};return e.forEach(((s,r)=>{s!==e[r-1]?(i(),t+=s,n=1):n++})),i(),t},r=e=>{let t=d(e);return i(t)},o=e=>new Set(e).size!==e.length,a=e=>(e+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=e=>e.reduce(((e,t)=>Math.max(e,c(t))),0),c=e=>d(e).length,d=e=>Array.from(e),u=e=>{if(1===e.length)return[[e]];let t=[];const n=e.substring(1),i=u(n);return i.forEach((function(n){let i=n.slice(0);i[0]=e.charAt(0)+i[0],t.push(i),i=n.slice(0),i.unshift(e.charAt(0)),t.push(i)})),t},h=[[0,65535]],p="[̀-ͯ·ʾʼ]";let m,f;const g=3,v={},y={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let $ in y){let e=y[$]||"";for(let t=0;t<e.length;t++){let n=e.substring(t,t+1);v[n]=$}}const b=new RegExp(Object.keys(v).join("|")+"|"+p,"gu"),_=e=>{void 0===m&&(m=T(e||h))},S=(e,t="NFKD")=>e.normalize(t),E=e=>d(e).reduce(((e,t)=>e+C(t)),""),C=e=>(e=S(e).toLowerCase().replace(b,(e=>v[e]||"")),S(e,"NFC"));function*w(e){for(const[t,n]of e)for(let e=t;e<=n;e++){let t=String.fromCharCode(e),n=E(t);n!=t.toLowerCase()&&(n.length>g||0!=n.length&&(yield{folded:n,composed:t,code_point:e}))}}const O=e=>{const t={},n=(e,n)=>{const i=t[e]||new Set,s=new RegExp("^"+r(i)+"$","iu");n.match(s)||(i.add(a(n)),t[e]=i)};for(let i of w(e))n(i.folded,i.folded),n(i.folded,i.composed);return t},T=e=>{const t=O(e),n={};let s=[];for(let i in t){let e=t[i];e&&(n[i]=r(e)),i.length>1&&s.push(a(i))}s.sort(((e,t)=>t.length-e.length));const o=i(s);return f=new RegExp("^"+o,"u"),n},I=(e,t=1)=>{let n=0;return e=e.map((e=>(m[e]&&(n+=e.length),m[e]||e))),n>=t?s(e):""},M=(e,t=1)=>(t=Math.max(t,e.length-1),i(u(e).map((e=>I(e,t))))),L=(e,t=!0)=>{let n=e.length>1?1:0;return i(e.map((e=>{let i=[];const r=t?e.length():e.length()-1;for(let t=0;t<r;t++)i.push(M(e.substrs[t]||"",n));return s(i)})))},D=(e,t)=>{for(const n of t){if(n.start!=e.start||n.end!=e.end)continue;if(n.substrs.join("")!==e.substrs.join(""))continue;let t=e.parts;const i=e=>{for(const n of t){if(n.start===e.start&&n.substr===e.substr)return!1;if(1!=e.length&&1!=n.length){if(e.start<n.start&&e.end>n.start)return!0;if(n.start<e.start&&n.end>e.start)return!0}}return!1};let s=n.parts.filter(i);if(!(s.length>0))return!0}return!1};class A{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let n=new A,i=JSON.parse(JSON.stringify(this.parts)),s=i.pop();for(const a of i)n.add(a);let r=t.substr.substring(0,e-s.start),o=r.length;return n.add({start:s.start,end:s.start+o,length:o,substr:r}),n}}const x=e=>{_(),e=E(e);let t="",n=[new A];for(let i=0;i<e.length;i++){let s=e.substring(i),r=s.match(f);const o=e.substring(i,i+1),a=r?r[0]:null;let l=[],c=new Set;for(const e of n){const t=e.last();if(!t||1==t.length||t.end<=i)if(a){const t=a.length;e.add({start:i,end:i+t,length:t,substr:a}),c.add("1")}else e.add({start:i,end:i+1,length:1,substr:o}),c.add("2");else if(a){let n=e.clone(i,t);const s=a.length;n.add({start:i,end:i+s,length:s,substr:a}),l.push(n)}else c.add("3")}if(l.length>0){l=l.sort(((e,t)=>e.length()-t.length()));for(let e of l)D(e,n)||n.push(e)}else if(i>0&&1==c.size&&!c.has("3")){t+=L(n,!1);let e=new A;const i=n[0];i&&e.add(i.last()),n=[e]}}return t+=L(n,!0),t},P=(e,t)=>{if(e)return e[t]},k=(e,t)=>{if(e){var n,i=t.split(".");while((n=i.shift())&&(e=e[n]));return e}},N=(e,t,n)=>{var i,s;return e?(e+="",null==t.regex?0:(s=e.search(t.regex),-1===s?0:(i=t.string.length/e.length,0===s&&(i+=.5),i*n))):0},F=(e,t)=>{var n=e[t];if("function"==typeof n)return n;n&&!Array.isArray(n)&&(e[t]=[n])},j=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},H=(e,t)=>"number"===typeof e&&"number"===typeof t?e>t?1:e<t?-1:0:(e=E(e+"").toLowerCase(),t=E(t+"").toLowerCase(),e>t?1:t>e?-1:0);class Y{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,n){if(!e||!e.length)return[];const i=[],s=e.split(/\s+/);var r;return n&&(r=new RegExp("^("+Object.keys(n).map(a).join("|")+"):(.*)$")),s.forEach((e=>{let n,s=null,o=null;r&&(n=e.match(r))&&(s=n[1],e=n[2]),e.length>0&&(o=this.settings.diacritics?x(e)||null:a(e),o&&t&&(o="\\b"+o)),i.push({string:e,regex:o?new RegExp(o,"iu"):null,field:s})})),i}getScoreFunction(e,t){var n=this.prepareSearch(e,t);return this._getScoreFunction(n)}_getScoreFunction(e){const t=e.tokens,n=t.length;if(!n)return function(){return 0};const i=e.options.fields,s=e.weights,r=i.length,o=e.getAttrFn;if(!r)return function(){return 1};const a=1===r?function(e,t){const n=i[0].field;return N(o(t,n),e,s[n]||1)}:function(e,t){var n=0;if(e.field){const i=o(t,e.field);!e.regex&&i?n+=1/r:n+=N(i,e,1)}else j(s,((i,s)=>{n+=N(o(t,s),e,i)}));return n/r};return 1===n?function(e){return a(t[0],e)}:"and"===e.options.conjunction?function(e){var i,s=0;for(let n of t){if(i=a(n,e),i<=0)return 0;s+=i}return s/n}:function(e){var i=0;return j(t,(t=>{i+=a(t,e)})),i/n}}getSortFunction(e,t){var n=this.prepareSearch(e,t);return this._getSortFunction(n)}_getSortFunction(e){var t,n=[];const i=this,s=e.options,r=!e.query&&s.sort_empty?s.sort_empty:s.sort;if("function"==typeof r)return r.bind(this);const o=function t(n,s){return"$score"===n?s.score:e.getAttrFn(i.items[s.id],n)};if(r)for(let l of r)(e.query||"$score"!==l.field)&&n.push(l);if(e.query){t=!0;for(let e of n)if("$score"===e.field){t=!1;break}t&&n.unshift({field:"$score",direction:"desc"})}else n=n.filter((e=>"$score"!==e.field));const a=n.length;return a?function(e,t){var i,s;for(let r of n){s=r.field;let n="desc"===r.direction?-1:1;if(i=n*H(o(s,e),o(s,t)),i)return i}return 0}:null}prepareSearch(e,t){const n={};var i=Object.assign({},t);if(F(i,"sort"),F(i,"sort_empty"),i.fields){F(i,"fields");const e=[];i.fields.forEach((t=>{"string"==typeof t&&(t={field:t,weight:1}),e.push(t),n[t.field]="weight"in t?t.weight:1})),i.fields=e}return{options:i,query:e.toLowerCase().trim(),tokens:this.tokenize(e,i.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:i.nesting?k:P}}search(e,t){var n,i,s=this;i=this.prepareSearch(e,t),t=i.options,e=i.query;const r=t.score||s._getScoreFunction(i);e.length?j(s.items,((e,s)=>{n=r(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:s})})):j(s.items,((e,t)=>{i.items.push({score:1,id:t})}));const o=s._getSortFunction(i);return o&&i.items.sort(o),i.total=i.items.length,"number"===typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i}}const K=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},R=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(B(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},B=e=>"string"===typeof e&&e.indexOf("<")>-1,V=e=>e.replace(/['"\\]/g,"\\$&"),q=(e,t)=>{var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)},G=(e,t)=>{Object.assign(e.style,t)},W=(e,...t)=>{var n=z(t);e=Q(e),e.map((e=>{n.map((t=>{e.classList.add(t)}))}))},U=(e,...t)=>{var n=z(t);e=Q(e),e.map((e=>{n.map((t=>{e.classList.remove(t)}))}))},z=e=>{var t=[];return K(e,(e=>{"string"===typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))})),t.filter(Boolean)},Q=e=>(Array.isArray(e)||(e=[e]),e),X=(e,t,n)=>{if(!n||n.contains(e))while(e&&e.matches){if(e.matches(t))return e;e=e.parentNode}},J=(e,t=0)=>t>0?e[e.length-1]:e[0],Z=e=>0===Object.keys(e).length,ee=(e,t)=>{if(!e)return-1;t=t||e.nodeName;var n=0;while(e=e.previousElementSibling)e.matches(t)&&n++;return n},te=(e,t)=>{K(t,((t,n)=>{null==t?e.removeAttribute(n):e.setAttribute(n,""+t)}))},ne=(e,t)=>{e.parentNode&&e.parentNode.replaceChild(t,e)},ie=(e,t)=>{if(null===t)return;if("string"===typeof t){if(!t.length)return;t=new RegExp(t,"i")}const n=e=>{var n=e.data.match(t);if(n&&e.data.length>0){var i=document.createElement("span");i.className="highlight";var s=e.splitText(n.index);s.splitText(n[0].length);var r=s.cloneNode(!0);return i.appendChild(r),ne(s,i),1}return 0},i=e=>{1!==e.nodeType||!e.childNodes||/(script|style)/i.test(e.tagName)||"highlight"===e.className&&"SPAN"===e.tagName||Array.from(e.childNodes).forEach((e=>{s(e)}))},s=e=>3===e.nodeType?n(e):(i(e),0);s(e)},se=e=>{var t=e.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,(function(e){var t=e.parentNode;t.replaceChild(e.firstChild,e),t.normalize()}))},re=65,oe=13,ae=27,le=37,ce=38,de=39,ue=40,he=8,pe=46,me=9,fe="undefined"!==typeof navigator&&/Mac/.test(navigator.userAgent),ge=fe?"metaKey":"ctrlKey";var ve={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};const ye=e=>"undefined"===typeof e||null===e?null:be(e),be=e=>"boolean"===typeof e?e?"1":"0":e+"",_e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Se=(e,t)=>{var n;return function(i,s){var r=this;n&&(r.loading=Math.max(r.loading-1,0),clearTimeout(n)),n=setTimeout((function(){n=null,r.loadedSearches[i]=!0,e.call(r,i,s)}),t)}},Ee=(e,t,n)=>{var i,s=e.trigger,r={};for(i of(e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return s.apply(e,arguments);r[n]=arguments},n.apply(e,[]),e.trigger=s,t))i in r&&s.apply(e,r[i])},Ce=e=>({start:e.selectionStart||0,length:(e.selectionEnd||0)-(e.selectionStart||0)}),we=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},Oe=(e,t,n,i)=>{e.addEventListener(t,n,i)},Te=(e,t)=>{if(!t)return!1;if(!t[e])return!1;var n=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return 1===n},Ie=(e,t)=>{const n=e.getAttribute("id");return n||(e.setAttribute("id",t),t)},Me=e=>e.replace(/[\\"']/g,"\\$&"),Le=(e,t)=>{t&&e.append(t)};function De(e,t){var n=Object.assign({},ve,t),i=n.dataAttr,s=n.labelField,r=n.valueField,o=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,d=e.tagName.toLowerCase(),u=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!u&&!n.allowEmptyOption){let t=e.querySelector('option[value=""]');t&&(u=t.textContent)}var h={placeholder:u,options:[],optgroups:[],items:[],maxItems:null},p=()=>{var t,d=h.options,u={},p=1,m=e=>{var t=Object.assign({},e.dataset),n=i&&t[i];return"string"===typeof n&&n.length&&(t=Object.assign(t,JSON.parse(n))),t},f=(e,t)=>{var i=ye(e.value);if(null!=i&&(i||n.allowEmptyOption)){if(u.hasOwnProperty(i)){if(t){var l=u[i][a];l?Array.isArray(l)?l.push(t):u[i][a]=[l,t]:u[i][a]=t}}else{var c=m(e);c[s]=c[s]||e.textContent,c[r]=c[r]||i,c[o]=c[o]||e.disabled,c[a]=c[a]||t,c.$option=e,u[i]=c,d.push(c)}e.selected&&h.items.push(i)}},g=e=>{var t,n;n=m(e),n[l]=n[l]||e.getAttribute("label")||"",n[c]=n[c]||p++,n[o]=n[o]||e.disabled,h.optgroups.push(n),t=n[c],K(e.children,(e=>{f(e,t)}))};h.maxItems=e.hasAttribute("multiple")?null:1,K(e.children,(e=>{t=e.tagName.toLowerCase(),"optgroup"===t?g(e):"option"===t&&f(e)}))},m=()=>{const t=e.getAttribute(i);if(t)h.options=JSON.parse(t),K(h.options,(e=>{h.items.push(e[r])}));else{var o=e.value.trim()||"";if(!n.allowEmptyOption&&!o.length)return;const t=o.split(n.delimiter);K(t,(e=>{const t={};t[s]=e,t[r]=e,h.options.push(t)})),h.items=t}};return"select"===d?p():m(),Object.assign({},ve,h,t)}var Ae=0;class xe extends(n(t)){constructor(e,t){var n;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],Ae++;var i=R(e);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var s=window.getComputedStyle&&window.getComputedStyle(i,null);n=s.getPropertyValue("direction");const r=De(i,t);this.settings=r,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag="select"===i.tagName.toLowerCase(),this.rtl=/rtl/i.test(n),this.inputId=Ie(i,"tomselect-"+Ae),this.isRequired=i.required,this.sifter=new Y(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(1===r.maxItems?"single":"multi"),"boolean"!==typeof r.hideSelected&&(r.hideSelected="multi"===r.mode),"boolean"!==typeof r.hidePlaceholder&&(r.hidePlaceholder="multi"!==r.mode);var o=r.createFilter;"function"!==typeof o&&("string"===typeof o&&(o=new RegExp(o)),o instanceof RegExp?r.createFilter=e=>o.test(e):r.createFilter=e=>this.settings.duplicates||!this.options[e]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const a=R("<div>"),l=R("<div>"),c=this._render("dropdown"),d=R('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",h=r.mode;var p;if(W(a,r.wrapperClass,u,h),W(l,r.controlClass),Le(a,l),W(c,r.dropdownClass,h),r.copyClassesToDropdown&&W(c,u),W(d,r.dropdownContentClass),Le(c,d),R(r.dropdownParent||a).appendChild(c),B(r.controlInput)){p=R(r.controlInput);var m=["autocorrect","autocapitalize","autocomplete"];j(m,(e=>{i.getAttribute(e)&&te(p,{[e]:i.getAttribute(e)})})),p.tabIndex=-1,l.appendChild(p),this.focus_node=p}else r.controlInput?(p=R(r.controlInput),this.focus_node=p):(p=R("<input/>"),this.focus_node=l);this.wrapper=a,this.dropdown=c,this.dropdown_content=d,this.control=l,this.control_input=p,this.setup()}setup(){const e=this,t=e.settings,n=e.control_input,i=e.dropdown,s=e.dropdown_content,r=e.wrapper,o=e.control,l=e.input,c=e.focus_node,d={passive:!0},u=e.inputId+"-ts-dropdown";te(s,{id:u}),te(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":u});const h=Ie(c,e.inputId+"-ts-control"),p="label[for='"+V(e.inputId)+"']",m=document.querySelector(p),f=e.focus.bind(e);if(m){Oe(m,"click",f),te(m,{for:h});const t=Ie(m,e.inputId+"-ts-label");te(c,{"aria-labelledby":t}),te(s,{"aria-labelledby":t})}if(r.style.width=l.style.width,e.plugins.names.length){const t="plugin-"+e.plugins.names.join(" plugin-");W([r,i],t)}(null===t.maxItems||t.maxItems>1)&&e.is_select_tag&&te(l,{multiple:"multiple"}),t.placeholder&&te(n,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+a(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=Se(t.load,t.loadThrottle)),e.control_input.type=l.type,Oe(i,"mousemove",(()=>{e.ignoreHover=!1})),Oe(i,"mouseenter",(t=>{var n=X(t.target,"[data-selectable]",i);n&&e.onOptionHover(t,n)}),{capture:!0}),Oe(i,"click",(t=>{const n=X(t.target,"[data-selectable]");n&&(e.onOptionSelect(t,n),we(t,!0))})),Oe(o,"click",(t=>{var i=X(t.target,"[data-ts-item]",o);i&&e.onItemSelect(t,i)?we(t,!0):""==n.value&&(e.onClick(),we(t,!0))})),Oe(c,"keydown",(t=>e.onKeyDown(t))),Oe(n,"keypress",(t=>e.onKeyPress(t))),Oe(n,"input",(t=>e.onInput(t))),Oe(c,"blur",(t=>e.onBlur(t))),Oe(c,"focus",(t=>e.onFocus(t))),Oe(n,"paste",(t=>e.onPaste(t)));const g=t=>{const s=t.composedPath()[0];if(!r.contains(s)&&!i.contains(s))return e.isFocused&&e.blur(),void e.inputState();s==n&&e.isOpen?t.stopPropagation():we(t,!0)},v=()=>{e.isOpen&&e.positionDropdown()};Oe(document,"mousedown",g),Oe(window,"scroll",v,d),Oe(window,"resize",v,d),this._destroy=()=>{document.removeEventListener("mousedown",g),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),m&&m.removeEventListener("click",f)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,Oe(l,"invalid",(()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())})),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():e.enable(),e.on("change",this.onChange),W(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),!0===t.preload&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),j(t,(e=>{this.registerOptionGroup(e)}))}setupTemplates(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,i={optgroup:e=>{let t=document.createElement("div");return t.className="optgroup",t.appendChild(e.options),t},optgroup_header:(e,t)=>'<div class="optgroup-header">'+t(e[n])+"</div>",option:(e,n)=>"<div>"+n(e[t])+"</div>",item:(e,n)=>"<div>"+n(e[t])+"</div>",option_create:(e,t)=>'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},i,e.settings.render)}setupCallbacks(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)t=this.settings[n[e]],t&&this.on(e,t)}sync(e=!0){const t=this,n=e?De(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(n.options,n.optgroups),t.setValue(n.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0)return e.clearActiveItems(),void e.focus();e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){q(this.input,"input"),q(this.input,"change")}onPaste(e){var t=this;t.isInputHidden||t.isLocked?we(e):t.settings.splitOn&&setTimeout((()=>{var e=t.inputValue();if(e.match(t.settings.splitOn)){var n=e.trim().split(t.settings.splitOn);j(n,(e=>{const n=ye(e);n&&(this.options[e]?t.addItem(e):t.createItem(e))}))}}),0)}onKeyPress(e){var t=this;if(!t.isLocked){var n=String.fromCharCode(e.keyCode||e.which);return t.settings.create&&"multi"===t.settings.mode&&n===t.settings.delimiter?(t.createItem(),void we(e)):void 0}we(e)}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked)e.keyCode!==me&&we(e);else{switch(e.keyCode){case re:if(Te(ge,e)&&""==t.control_input.value)return we(e),void t.selectAll();break;case ae:return t.isOpen&&(we(e,!0),t.close()),void t.clearActiveItems();case ue:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let e=t.getAdjacent(t.activeOption,1);e&&t.setActiveOption(e)}return void we(e);case ce:if(t.activeOption){let e=t.getAdjacent(t.activeOption,-1);e&&t.setActiveOption(e)}return void we(e);case oe:return void(t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),we(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&we(e));case le:return void t.advanceSelection(-1,e);case de:return void t.advanceSelection(1,e);case me:return void(t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),we(e)),t.settings.create&&t.createItem()&&we(e)));case he:case pe:return void t.deleteSelection(e)}t.isInputHidden&&!Te(ge,e)&&we(e)}}onInput(e){var t=this;if(!t.isLocked){var n=t.inputValue();t.lastValue!==n&&(t.lastValue=n,t.settings.shouldLoad.call(t,n)&&t.load(n),t.refreshOptions(),t.trigger("type",n))}}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),void we(e);t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.preload(),n||t.trigger("focus"),t.activeItems.length||(t.showInput(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(!1!==document.hasFocus()){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var n=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,n):n()}}}onOptionSelect(e,t){var n,i=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?i.createItem(null,(()=>{i.settings.closeAfterSelect&&i.close()})):(n=t.dataset.value,"undefined"!==typeof n&&(i.lastQuery=null,i.addItem(n),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&e.type&&/click/.test(e.type)&&i.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(we(e),n.setActiveItem(t,e),!0)}canLoad(e){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(e)}load(e){const t=this;if(!t.canLoad(e))return;W(t.wrapper,t.settings.loadingClass),t.loading++;const n=t.loadCallback.bind(t);t.settings.load.call(t,e,n)}loadCallback(e,t){const n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(e,t),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||U(n.wrapper,n.settings.loadingClass),n.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,n=t.value!==e;n&&(t.value=e,q(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var n=t?[]:["change"];Ee(this,n,(()=>{this.clear(t),this.addItems(e,t)}))}setMaxItems(e){0===e&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var n,i,s,r,o,a,l=this;if("single"!==l.settings.mode){if(!e)return l.clearActiveItems(),void(l.isFocused&&l.showInput());if(n=t&&t.type.toLowerCase(),"click"===n&&Te("shiftKey",t)&&l.activeItems.length){for(a=l.getLastActive(),s=Array.prototype.indexOf.call(l.control.children,a),r=Array.prototype.indexOf.call(l.control.children,e),s>r&&(o=s,s=r,r=o),i=s;i<=r;i++)e=l.control.children[i],-1===l.activeItems.indexOf(e)&&l.setActiveItemClass(e);we(t)}else"click"===n&&Te(ge,t)||"keydown"===n&&Te("shiftKey",t)?e.classList.contains("active")?l.removeActiveItem(e):l.setActiveItemClass(e):(l.clearActiveItems(),l.setActiveItemClass(e));l.hideInput(),l.isFocused||l.focus()}}setActiveItemClass(e){const t=this,n=t.control.querySelector(".last-active");n&&U(n,"last-active"),W(e,"active last-active"),t.trigger("item_select",e),-1==t.activeItems.indexOf(e)&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),U(e,"active")}clearActiveItems(){U(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,te(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),te(e,{"aria-selected":"true"}),W(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const n=this.dropdown_content,i=n.clientHeight,s=n.scrollTop||0,r=e.offsetHeight,o=e.getBoundingClientRect().top-n.getBoundingClientRect().top+s;o+r>i+s?this.scroll(o-i+r,t):o<s&&this.scroll(o,t)}scroll(e,t){const n=this.dropdown_content;t&&(n.style.scrollBehavior=t),n.scrollTop=e,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(U(this.activeOption,"active"),te(this.activeOption,{"aria-selected":null})),this.activeOption=null,te(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if("single"===e.settings.mode)return;const t=e.controlChildren();t.length&&(e.hideInput(),e.close(),e.activeItems=t,j(t,(t=>{e.setActiveItemClass(t)})))}inputState(){var e=this;e.control.contains(e.control_input)&&(te(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&te(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout((()=>{e.ignoreFocus=!1,e.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return"string"===typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,n,i=this,s=this.getSearchOptions();if(i.settings.score&&(n=i.settings.score.call(i,e),"function"!==typeof n))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==i.lastQuery?(i.lastQuery=e,t=i.sifter.search(e,Object.assign(s,{score:n})),i.currentResults=t):t=Object.assign({},i.currentResults),i.settings.hideSelected&&(t.items=t.items.filter((e=>{let t=ye(e.id);return!(t&&-1!==i.items.indexOf(t))}))),t}refreshOptions(e=!0){var t,n,i,s,r,o,a,l,c,d;const u={},h=[];var p=this,m=p.inputValue();const f=m===p.lastQuery||""==m&&null==p.lastQuery;var g=p.search(m),v=null,y=p.settings.shouldOpen||!1,b=p.dropdown_content;for(f&&(v=p.activeOption,v&&(c=v.closest("[data-group]"))),s=g.items.length,"number"===typeof p.settings.maxOptions&&(s=Math.min(s,p.settings.maxOptions)),s>0&&(y=!0),t=0;t<s;t++){let e=g.items[t];if(!e)continue;let s=e.id,a=p.options[s];if(void 0===a)continue;let l=be(s),d=p.getOption(l,!0);for(p.settings.hideSelected||d.classList.toggle("selected",p.items.includes(l)),r=a[p.settings.optgroupField]||"",o=Array.isArray(r)?r:[r],n=0,i=o&&o.length;n<i;n++){r=o[n],p.optgroups.hasOwnProperty(r)||(r="");let e=u[r];void 0===e&&(e=document.createDocumentFragment(),h.push(r)),n>0&&(d=d.cloneNode(!0),te(d,{id:a.$id+"-clone-"+n,"aria-selected":null}),d.classList.add("ts-cloned"),U(d,"active"),p.activeOption&&p.activeOption.dataset.value==s&&c&&c.dataset.group===r.toString()&&(v=d)),e.appendChild(d),u[r]=e}}p.settings.lockOptgroupOrder&&h.sort(((e,t)=>{const n=p.optgroups[e],i=p.optgroups[t],s=n&&n.$order||0,r=i&&i.$order||0;return s-r})),a=document.createDocumentFragment(),j(h,(e=>{let t=u[e];if(!t||!t.children.length)return;let n=p.optgroups[e];if(void 0!==n){let e=document.createDocumentFragment(),i=p.render("optgroup_header",n);Le(e,i),Le(e,t);let s=p.render("optgroup",{group:n,options:e});Le(a,s)}else Le(a,t)})),b.innerHTML="",Le(b,a),p.settings.highlight&&(se(b),g.query.length&&g.tokens.length&&j(g.tokens,(e=>{ie(b,e.regex)})));var _=e=>{let t=p.render(e,{input:m});return t&&(y=!0,b.insertBefore(t,b.firstChild)),t};if(p.loading?_("loading"):p.settings.shouldLoad.call(p,m)?0===g.items.length&&_("no_results"):_("not_loading"),l=p.canCreate(m),l&&(d=_("option_create")),p.hasOptions=g.items.length>0||l,y){if(g.items.length>0){if(v||"single"!==p.settings.mode||void 0==p.items[0]||(v=p.getOption(p.items[0])),!b.contains(v)){let e=0;d&&!p.settings.addPrecedence&&(e=1),v=p.selectable()[e]}}else d&&(v=d);e&&!p.isOpen&&(p.open(),p.scrollToOption(v,"auto")),p.setActiveOption(v)}else p.clearActiveOption(),e&&p.isOpen&&p.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const n=this;if(Array.isArray(e))return n.addOptions(e,t),!1;const i=ye(e[n.settings.valueField]);return null!==i&&!n.options.hasOwnProperty(i)&&(e.$order=e.$order||++n.order,e.$id=n.inputId+"-opt-"+e.$order,n.options[i]=e,n.lastQuery=null,t&&(n.userOptions[i]=t,n.trigger("option_add",i,e)),i)}addOptions(e,t=!1){j(e,(e=>{this.addOption(e,t)}))}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=ye(e[this.settings.optgroupValueField]);return null!==t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var n;t[this.settings.optgroupValueField]=e,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const n=this;var i,s;const r=ye(e),o=ye(t[n.settings.valueField]);if(null===r)return;const a=n.options[r];if(void 0==a)return;if("string"!==typeof o)throw new Error("Value must be set in option data");const l=n.getOption(r),c=n.getItem(r);if(t.$order=t.$order||a.$order,delete n.options[r],n.uncacheValue(o),n.options[o]=t,l){if(n.dropdown_content.contains(l)){const e=n._render("option",t);ne(l,e),n.activeOption===l&&n.setActiveOption(e)}l.remove()}c&&(s=n.items.indexOf(r),-1!==s&&n.items.splice(s,1,o),i=n._render("item",t),c.classList.contains("active")&&W(i,"active"),ne(c,i)),n.lastQuery=null}removeOption(e,t){const n=this;e=be(e),n.uncacheValue(e),delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const n={};j(this.options,((e,i)=>{t(e,i)&&(n[i]=e)})),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const n=ye(e);if(null===n)return null;const i=this.options[n];if(void 0!=i){if(i.$div)return i.$div;if(t)return this._render("option",i)}return null}getAdjacent(e,t,n="option"){var i,s=this;if(!e)return null;i="item"==n?s.controlChildren():s.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<i.length;r++)if(i[r]==e)return t>0?i[r+1]:i[r-1];return null}getItem(e){if("object"==typeof e)return e;var t=ye(e);return null!==t?this.control.querySelector(`[data-value="${Me(t)}"]`):null}addItems(e,t){var n=this,i=Array.isArray(e)?e:[e];i=i.filter((e=>-1===n.items.indexOf(e)));const s=i[i.length-1];i.forEach((e=>{n.isPending=e!==s,n.addItem(e,t)}))}addItem(e,t){var n=t?[]:["change","dropdown_close"];Ee(this,n,(()=>{var n,i;const s=this,r=s.settings.mode,o=ye(e);if((!o||-1===s.items.indexOf(o)||("single"===r&&s.close(),"single"!==r&&s.settings.duplicates))&&null!==o&&s.options.hasOwnProperty(o)&&("single"===r&&s.clear(t),"multi"!==r||!s.isFull())){if(n=s._render("item",s.options[o]),s.control.contains(n)&&(n=n.cloneNode(!0)),i=s.isFull(),s.items.splice(s.caretPos,0,o),s.insertAtCaret(n),s.isSetup){if(!s.isPending&&s.settings.hideSelected){let e=s.getOption(o),t=s.getAdjacent(e,1);t&&s.setActiveOption(t)}s.isPending||s.settings.closeAfterSelect||s.refreshOptions(s.isFocused&&"single"!==r),0!=s.settings.closeAfterSelect&&s.isFull()?s.close():s.isPending||s.positionDropdown(),s.trigger("item_add",o,n),s.isPending||s.updateOriginalInput({silent:t})}(!s.isPending||!i&&s.isFull())&&(s.inputState(),s.refreshState())}}))}removeItem(e=null,t){const n=this;if(e=n.getItem(e),!e)return;var i,s;const r=e.dataset.value;i=ee(e),e.remove(),e.classList.contains("active")&&(s=n.activeItems.indexOf(e),n.activeItems.splice(s,1),U(e,"active")),n.items.splice(i,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(r)&&n.removeOption(r,t),i<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:t}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",r,e)}createItem(e=null,t=(()=>{})){3===arguments.length&&(t=arguments[2]),"function"!=typeof t&&(t=()=>{});var n,i=this,s=i.caretPos;if(e=e||i.inputValue(),!i.canCreate(e))return t(),!1;i.lock();var r=!1,o=e=>{if(i.unlock(),!e||"object"!==typeof e)return t();var n=ye(e[i.settings.valueField]);if("string"!==typeof n)return t();i.setTextboxValue(),i.addOption(e,!0),i.setCaret(s),i.addItem(n),t(e),r=!0};return n="function"===typeof i.settings.create?i.settings.create.call(this,e,o):{[i.settings.labelField]:e,[i.settings.valueField]:e},r||o(n),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),n=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const i=e.wrapper.classList;i.toggle("focus",e.isFocused),i.toggle("disabled",e.isDisabled),i.toggle("required",e.isRequired),i.toggle("invalid",!e.isValid),i.toggle("locked",n),i.toggle("full",t),i.toggle("input-active",e.isFocused&&!e.isInputHidden),i.toggle("dropdown-active",e.isOpen),i.toggle("has-options",Z(e.options)),i.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var n,i;const s=t.input.querySelector('option[value=""]');if(t.is_select_tag){const r=[],o=t.input.querySelectorAll("option:checked").length;function a(e,n,i){return e||(e=R('<option value="'+_e(n)+'">'+_e(i)+"</option>")),e!=s&&t.input.append(e),r.push(e),(e!=s||o>0)&&(e.selected=!0),e}t.input.querySelectorAll("option:checked").forEach((e=>{e.selected=!1})),0==t.items.length&&"single"==t.settings.mode?a(s,"",""):t.items.forEach((e=>{if(n=t.options[e],i=n[t.settings.labelField]||"",r.includes(n.$option)){const n=t.input.querySelector(`option[value="${Me(e)}"]:not(:checked)`);a(n,e,i)}else n.$option=a(n.$option,e,i)}))}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.isOpen=!0,te(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),G(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),G(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,n=t.isOpen;e&&(t.setTextboxValue(),"single"===t.settings.mode&&t.items.length&&t.hideInput()),t.isOpen=!1,te(t.focus_node,{"aria-expanded":"false"}),G(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),n&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var e=this.control,t=e.getBoundingClientRect(),n=e.offsetHeight+t.top+window.scrollY,i=t.left+window.scrollX;G(this.dropdown,{width:t.width+"px",top:n+"px",left:i+"px"})}}clear(e){var t=this;if(t.items.length){var n=t.controlChildren();j(n,(e=>{t.removeItem(e,!0)})),t.showInput(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,n=t.caretPos,i=t.control;i.insertBefore(e,i.children[n]||null),t.setCaret(n+1)}deleteSelection(e){var t,n,i,s,r=this;t=e&&e.keyCode===he?-1:1,n=Ce(r.control_input);const o=[];if(r.activeItems.length)s=J(r.activeItems,t),i=ee(s),t>0&&i++,j(r.activeItems,(e=>o.push(e)));else if((r.isFocused||"single"===r.settings.mode)&&r.items.length){const e=r.controlChildren();let i;t<0&&0===n.start&&0===n.length?i=e[r.caretPos-1]:t>0&&n.start===r.inputValue().length&&(i=e[r.caretPos]),void 0!==i&&o.push(i)}if(!r.shouldDelete(o,e))return!1;we(e,!0),"undefined"!==typeof i&&r.setCaret(i);while(o.length)r.removeItem(o.pop());return r.showInput(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(e,t){const n=e.map((e=>e.dataset.value));return!(!n.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete(n,t))}advanceSelection(e,t){var n,i,s=this;s.rtl&&(e*=-1),s.inputValue().length||(Te(ge,t)||Te("shiftKey",t)?(n=s.getLastActive(e),i=n?n.classList.contains("active")?s.getAdjacent(n,e,"item"):n:e>0?s.control_input.nextElementSibling:s.control_input.previousElementSibling,i&&(i.classList.contains("active")&&s.removeActiveItem(n),s.setActiveItemClass(i))):s.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var n=this.control.querySelectorAll(".active");return n?J(n,e):void 0}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var e=this;e.input.disabled=!0,e.control_input.disabled=!0,e.focus_node.tabIndex=-1,e.isDisabled=!0,this.close(),e.lock()}enable(){var e=this;e.input.disabled=!1,e.control_input.disabled=!1,e.focus_node.tabIndex=e.tabIndex,e.isDisabled=!1,e.unlock()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,U(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var n,i;const s=this;if("function"!==typeof this.settings.render[e])return null;if(i=s.settings.render[e].call(this,t,_e),!i)return null;if(i=R(i),"option"===e||"option_create"===e?t[s.settings.disabledField]?te(i,{"aria-disabled":"true"}):te(i,{"data-selectable":""}):"optgroup"===e&&(n=t.group[s.settings.optgroupValueField],te(i,{"data-group":n}),t.group[s.settings.disabledField]&&te(i,{"data-disabled":""})),"option"===e||"item"===e){const n=be(t[s.settings.valueField]);te(i,{"data-value":n}),"item"===e?(W(i,s.settings.itemClass),te(i,{"data-ts-item":""})):(W(i,s.settings.optionClass),te(i,{role:"option",id:t.$id}),t.$div=i,s.options[n]=t)}return i}_render(e,t){const n=this.render(e,t);if(null==n)throw"HTMLElement expected";return n}clearCache(){j(this.options,(e=>{e.$div&&(e.$div.remove(),delete e.$div)}))}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,n){var i=this,s=i[t];i[t]=function(){var t,r;return"after"===e&&(t=s.apply(i,arguments)),r=n.apply(i,arguments),"instead"===e?r:("before"===e&&(t=s.apply(i,arguments)),t)}}}function Pe(){Oe(this.input,"change",(()=>{this.sync()}))}function ke(){var e=this,t=e.onOptionSelect;e.settings.hideSelected=!1;var n=function e(t){setTimeout((()=>{var e=t.querySelector("input");e instanceof HTMLInputElement&&(t.classList.contains("selected")?e.checked=!0:e.checked=!1)}),1)};e.hook("after","setupTemplates",(()=>{var t=e.settings.render.option;e.settings.render.option=(n,i)=>{var s=R(t.call(e,n,i)),r=document.createElement("input");r.addEventListener("click",(function(e){we(e)})),r.type="checkbox";const o=ye(n[e.settings.valueField]);return o&&e.items.indexOf(o)>-1&&(r.checked=!0),s.prepend(r),s}})),e.on("item_remove",(t=>{var i=e.getOption(t);i&&(i.classList.remove("selected"),n(i))})),e.on("item_add",(t=>{var i=e.getOption(t);i&&n(i)})),e.hook("instead","onOptionSelect",((i,s)=>{if(s.classList.contains("selected"))return s.classList.remove("selected"),e.removeItem(s.dataset.value),e.refreshOptions(),void we(i,!0);t.call(e,i,s),n(s)}))}function Ne(e){const t=this,n=Object.assign({className:"clear-button",title:"Clear All",html:e=>`<div class="${e.className}" title="${e.title}">&#10799;</div>`},e);t.on("initialize",(()=>{var e=R(n.html(n));e.addEventListener("click",(e=>{t.isDisabled||(t.clear(),"single"===t.settings.mode&&t.settings.allowEmptyOption&&t.addItem(""),e.preventDefault(),e.stopPropagation())})),t.control.appendChild(e)}))}function Fe(){var e=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===e.settings.mode){var t=e.lock,n=e.unlock;e.hook("instead","lock",(()=>{var n=$(e.control).data("sortable");return n&&n.disable(),t.call(e)})),e.hook("instead","unlock",(()=>{var t=$(e.control).data("sortable");return t&&t.enable(),n.call(e)})),e.on("initialize",(()=>{var t=$(e.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:(e,n)=>{n.placeholder.css("width",n.helper.css("width")),t.css({overflow:"visible"})},stop:()=>{t.css({overflow:"hidden"});var n=[];t.children("[data-value]").each((function(){this.dataset.value&&n.push(this.dataset.value)})),e.setValue(n)}})}))}}function $e(e){const t=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:e=>'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a class="'+e.closeClass+'">&times;</a></div></div>'},e);t.on("initialize",(()=>{var e=R(n.html(n)),i=e.querySelector("."+n.closeClass);i&&i.addEventListener("click",(e=>{we(e,!0),t.close()})),t.dropdown.insertBefore(e,t.dropdown.firstChild)}))}function je(){var e=this;e.hook("instead","setCaret",(t=>{"single"!==e.settings.mode&&e.control.contains(e.control_input)?(t=Math.max(0,Math.min(e.items.length,t)),t==e.caretPos||e.isPending||e.controlChildren().forEach(((n,i)=>{i<t?e.control_input.insertAdjacentElement("beforebegin",n):e.control.appendChild(n)}))):t=e.items.length,e.caretPos=t})),e.hook("instead","moveCaret",(t=>{if(!e.isFocused)return;const n=e.getLastActive(t);if(n){const i=ee(n);e.setCaret(t>0?i+1:i),e.setActiveItem(),U(n,"last-active")}else e.setCaret(e.caretPos+t)}))}function He(){const e=this;e.settings.shouldOpen=!0,e.hook("before","setup",(()=>{e.focus_node=e.control,W(e.control_input,"dropdown-input");const t=R('<div class="dropdown-input-wrap">');t.append(e.control_input),e.dropdown.insertBefore(t,e.dropdown.firstChild);const n=R('<input class="items-placeholder" tabindex="-1" />');n.placeholder=e.settings.placeholder||"",e.control.append(n)})),e.on("initialize",(()=>{e.control_input.addEventListener("keydown",(t=>{switch(t.keyCode){case ae:return e.isOpen&&(we(t,!0),e.close()),void e.clearActiveItems();case me:e.focus_node.tabIndex=-1;break}return e.onKeyDown.call(e,t)})),e.on("blur",(()=>{e.focus_node.tabIndex=e.isDisabled?-1:e.tabIndex})),e.on("dropdown_open",(()=>{e.control_input.focus()}));const t=e.onBlur;e.hook("instead","onBlur",(n=>{if(!n||n.relatedTarget!=e.control_input)return t.call(e)})),Oe(e.control_input,"blur",(()=>e.onBlur())),e.hook("before","close",(()=>{e.isOpen&&e.focus_node.focus({preventScroll:!0})}))}))}function Ye(){var e=this;e.on("initialize",(()=>{var t=document.createElement("span"),n=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const e of i)t.style[e]=n.style[e];var s=()=>{t.textContent=n.value,n.style.width=t.clientWidth+"px"};s(),e.on("update item_add item_remove",s),Oe(n,"input",s),Oe(n,"keyup",s),Oe(n,"blur",s),Oe(n,"update",s)}))}function Ke(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",(n=>!!e.activeItems.length&&t.call(e,n)))}function Re(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))}function Be(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",(n=>{var i,s,r,o;if(!e.isOpen||n.keyCode!==le&&n.keyCode!==de)return t.call(e,n);e.ignoreHover=!0,o=X(e.activeOption,"[data-group]"),i=ee(e.activeOption,"[data-selectable]"),o&&(o=n.keyCode===le?o.previousSibling:o.nextSibling,o&&(r=o.querySelectorAll("[data-selectable]"),s=r[Math.min(r.length-1,i)],s&&e.setActiveOption(s)))}))}function Ve(e){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this;if(t.append){var i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+_e(t.title)+'">'+t.label+"</a>";n.hook("after","setupTemplates",(()=>{var e=n.settings.render.item;n.settings.render.item=(t,s)=>{var r=R(e.call(n,t,s)),o=R(i);return r.appendChild(o),Oe(o,"mousedown",(e=>{we(e,!0)})),Oe(o,"click",(e=>{we(e,!0),n.isLocked||n.shouldDelete([r],e)&&(n.removeItem(r),n.refreshOptions(!1),n.inputState())})),r}}))}}function qe(e){const t=this,n=Object.assign({text:e=>e[t.settings.labelField]},e);t.on("item_remove",(function(e){if(t.isFocused&&""===t.control_input.value.trim()){var i=t.options[e];i&&t.setTextboxValue(n.text.call(t,i))}}))}function Ge(){const e=this,t=e.canLoad,n=e.clearActiveOption,i=e.loadCallback;var s,r,o={},a=!1,l=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{const t=s.clientHeight/(s.scrollHeight-s.scrollTop);if(t>.9)return!0;if(e.activeOption){var n=e.selectable(),i=Array.from(n).indexOf(e.activeOption);if(i>=n.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const c=t=>!("number"===typeof e.settings.maxOptions&&s.children.length>=e.settings.maxOptions)&&!(!(t in o)||!o[t]),d=(t,n)=>e.items.indexOf(n)>=0||l.indexOf(n)>=0;e.setNextUrl=(e,t)=>{o[e]=t},e.getUrl=t=>{if(t in o){const e=o[t];return o[t]=!1,e}return o={},e.settings.firstUrl.call(e,t)},e.hook("instead","clearActiveOption",(()=>{if(!a)return n.call(e)})),e.hook("instead","canLoad",(n=>n in o?c(n):t.call(e,n))),e.hook("instead","loadCallback",((t,n)=>{if(a){if(r){const n=t[0];void 0!==n&&(r.dataset.value=n[e.settings.valueField])}}else e.clearOptions(d);i.call(e,t,n),a=!1})),e.hook("after","refreshOptions",(()=>{const t=e.lastValue;var n;c(t)?(n=e.render("loading_more",{query:t}),n&&(n.setAttribute("data-selectable",""),r=n)):t in o&&!s.querySelector(".no-results")&&(n=e.render("no_more_results",{query:t})),n&&(W(n,e.settings.optionClass),s.append(n))})),e.on("initialize",(()=>{l=Object.keys(e.options),s=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),s.addEventListener("scroll",(()=>{e.settings.shouldLoadMore.call(e)&&c(e.lastValue)&&(a||(a=!0,e.load.call(e,e.lastValue)))}))}))}return xe.define("change_listener",Pe),xe.define("checkbox_options",ke),xe.define("clear_button",Ne),xe.define("drag_drop",Fe),xe.define("dropdown_header",$e),xe.define("caret_position",je),xe.define("dropdown_input",He),xe.define("input_autogrow",Ye),xe.define("no_backspace_delete",Ke),xe.define("no_active_items",Re),xe.define("optgroup_columns",Be),xe.define("remove_button",Ve),xe.define("restore_on_backspace",qe),xe.define("virtual_scroll",Ge),xe},e.exports=t()}}]);