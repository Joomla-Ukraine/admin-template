(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[216],{146:e=>{(function t(n,s){e.exports=s()})(window,(function(){return function(){"use strict";var e={282:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var s=n(883),i=function(e){var t=e.value,n=e.label,i=e.id,r=e.groupId,o=e.disabled,a=e.elementId,l=e.customProperties,c=e.placeholder,d=e.keyCode;return{type:s.ACTION_TYPES.ADD_CHOICE,value:t,label:n,id:i,groupId:r,disabled:o,elementId:a,customProperties:l,placeholder:c,keyCode:d}};t.addChoice=i;var r=function(e){return{type:s.ACTION_TYPES.FILTER_CHOICES,results:e}};t.filterChoices=r;var o=function(e){return void 0===e&&(e=!0),{type:s.ACTION_TYPES.ACTIVATE_CHOICES,active:e}};t.activateChoices=o;var a=function(){return{type:s.ACTION_TYPES.CLEAR_CHOICES}};t.clearChoices=a},783:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var s=n(883),i=function(e){var t=e.value,n=e.id,i=e.active,r=e.disabled;return{type:s.ACTION_TYPES.ADD_GROUP,value:t,id:n,active:i,disabled:r}};t.addGroup=i},464:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var s=n(883),i=function(e){var t=e.value,n=e.label,i=e.id,r=e.choiceId,o=e.groupId,a=e.customProperties,l=e.placeholder,c=e.keyCode;return{type:s.ACTION_TYPES.ADD_ITEM,value:t,label:n,id:i,choiceId:r,groupId:o,customProperties:a,placeholder:l,keyCode:c}};t.addItem=i;var r=function(e,t){return{type:s.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}};t.removeItem=r;var o=function(e,t){return{type:s.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}};t.highlightItem=o},137:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=t.resetTo=t.clearAll=void 0;var s=n(883),i=function(){return{type:s.ACTION_TYPES.CLEAR_ALL}};t.clearAll=i;var r=function(e){return{type:s.ACTION_TYPES.RESET_TO,state:e}};t.resetTo=r;var o=function(e){return{type:s.ACTION_TYPES.SET_IS_LOADING,isLoading:e}};t.setIsLoading=o},373:function(e,t,n){var s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(996)),o=i(n(221)),a=n(282),l=n(783),c=n(464),d=n(137),u=n(520),h=n(883),p=n(789),m=n(799),f=n(655),g=i(n(744)),v=i(n(686)),y="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,b={},_=function(){function e(t,n){void 0===t&&(t="[data-choice]"),void 0===n&&(n={});var i=this;void 0===n.allowHTML&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=r.default.all([p.DEFAULT_CONFIG,e.defaults.options,n],{arrayMerge:function(e,t){return s([],t,!0)}});var o=(0,m.diff)(this.config,p.DEFAULT_CONFIG);o.length&&console.warn("Unknown config option(s) passed",o.join(", "));var a="string"===typeof t?document.querySelector(t):t;if(!(a instanceof HTMLInputElement||a instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=a.type===h.TEXT_TYPE,this._isSelectOneElement=a.type===h.SELECT_ONE_TYPE,this._isSelectMultipleElement=a.type===h.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),n.addItemFilter&&"function"!==typeof n.addItemFilter){var l=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);this.config.addItemFilter=l.test.bind(l)}if(this._isTextElement?this.passedElement=new u.WrappedInput({element:a,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new u.WrappedSelect({element:a,classNames:this.config.classNames,template:function(e){return i._templates.option(e)}}),this.initialised=!1,this._store=new g.default,this._initialState=f.defaultState,this._currentState=f.defaultState,this._prevState=f.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,m.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var c=window.getComputedStyle(this.passedElement.element).direction,d=window.getComputedStyle(document.documentElement).direction;c!==d&&(this._direction=c)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var v=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(v)}if(this.passedElement.options&&this.passedElement.options.forEach((function(e){i._presetChoices.push({value:e.value,label:e.innerHTML,selected:!!e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:(0,m.parseCustomProperties)(e.dataset.customProperties)})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);this.init()}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return b},get templates(){return v.default}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var e=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");e&&this.disable(),this.initialised=!0;var t=this.config.callbackOnInit;t&&"function"===typeof t&&t.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=v.default,this.initialised=!1)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=e.id,s=e.groupId,i=void 0===s?-1:s,r=e.value,o=void 0===r?"":r,a=e.label,l=void 0===a?"":a,d=i>=0?this._store.getGroupById(i):null;return this._store.dispatch((0,c.highlightItem)(n,!0)),t&&this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:n,value:o,label:l,groupValue:d&&d.value?d.value:null}),this},e.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,n=e.groupId,s=void 0===n?-1:n,i=e.value,r=void 0===i?"":i,o=e.label,a=void 0===o?"":o,l=s>=0?this._store.getGroupById(s):null;return this._store.dispatch((0,c.highlightItem)(t,!1)),this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:t,value:r,label:a,groupValue:l&&l.value?l.value:null}),this},e.prototype.highlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.highlightItem(t)})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.unhighlightItem(t)})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter((function(t){var n=t.id;return n!==e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(h.EVENTS.showDropdown,{})})),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(h.EVENTS.hideDropdown,{})})),this):this},e.prototype.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce((function(t,n){var s=e?n.value:n;return t.push(s),t}),[]);return this._isSelectOneElement?t[0]:t},e.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach((function(e){return t._setChoiceOrItem(e)})),this):this},e.prototype.setChoiceByValue=function(e){var t=this;if(!this.initialised||this._isTextElement)return this;var n=Array.isArray(e)?e:[e];return n.forEach((function(e){return t._findAndSelectChoiceByValue(e)})),this},e.prototype.setChoices=function(e,t,n,s){var i=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===s&&(s=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!==typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(s&&this.clearChoices(),"function"===typeof e){var r=e(this);if("function"===typeof Promise&&r instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return i._handleLoadingState(!0)})).then((function(){return r})).then((function(e){return i.setChoices(e,t,n,s)})).catch((function(e){i.config.silent||console.error(e)})).then((function(){return i._handleLoadingState(!1)})).then((function(){return i}));if(!Array.isArray(r))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof r));return this.setChoices(r,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach((function(e){if(e.choices)i._addGroup({id:e.id?parseInt("".concat(e.id),10):null,group:e,valueKey:t,labelKey:n});else{var s=e;i._addChoice({value:s[t],label:s[n],isSelected:!!s.selected,isDisabled:!!s.disabled,placeholder:!!s.placeholder,customProperties:s.customProperties})}})),this._stopLoading(),this},e.prototype.clearChoices=function(){return this._store.dispatch((0,a.clearChoices)()),this},e.prototype.clearStore=function(){return this._store.dispatch((0,d.clearAll)()),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0))),this},e.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},e.prototype._renderChoices=function(){var e=this,t=this._store,n=t.activeGroups,s=t.activeChoices,i=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),n.length>=1&&!this._isSearching){var r=s.filter((function(e){return!0===e.placeholder&&-1===e.groupId}));r.length>=1&&(i=this._createChoicesFragment(r,i)),i=this._createGroupsFragment(n,s,i)}else s.length>=1&&(i=this._createChoicesFragment(s,i));if(i.childNodes&&i.childNodes.length>0){var o=this._store.activeItems,a=this._canAddItem(o,this.input.value);if(a.response)this.choiceList.append(i),this._highlightChoice();else{var l=this._getTemplate("notice",a.notice);this.choiceList.append(l)}}else{var c=void 0;l=void 0;this._isSearching?(l="function"===typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,c=this._getTemplate("notice",l,"no-results")):(l="function"===typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,c=this._getTemplate("notice",l,"no-choices")),this.choiceList.append(c)}},e.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},e.prototype._createGroupsFragment=function(e,t,n){var s=this;void 0===n&&(n=document.createDocumentFragment());var i=function(e){return t.filter((function(t){return s._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===s.config.renderSelectedChoices||!t.selected)}))};return this.config.shouldSort&&e.sort(this.config.sorter),e.forEach((function(e){var t=i(e);if(t.length>=1){var r=s._getTemplate("choiceGroup",e);n.appendChild(r),s._createChoicesFragment(t,n,!0)}})),n},e.prototype._createChoicesFragment=function(e,t,n){var i=this;void 0===t&&(t=document.createDocumentFragment()),void 0===n&&(n=!1);var r=this.config,o=r.renderSelectedChoices,a=r.searchResultLimit,l=r.renderChoiceLimit,c=this._isSearching?m.sortByScore:this.config.sorter,d=function(e){var n="auto"!==o||(i._isSelectOneElement||!e.selected);if(n){var s=i._getTemplate("choice",e,i.config.itemSelectText);t.appendChild(s)}},u=e;"auto"!==o||this._isSelectOneElement||(u=e.filter((function(e){return!e.selected})));var h=u.reduce((function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e}),{placeholderChoices:[],normalChoices:[]}),p=h.placeholderChoices,f=h.normalChoices;(this.config.shouldSort||this._isSearching)&&f.sort(c);var g=u.length,v=this._isSelectOneElement?s(s([],p,!0),f,!0):f;this._isSearching?g=a:l&&l>0&&!n&&(g=l);for(var y=0;y<g;y+=1)v[y]&&d(v[y]);return t},e.prototype._createItemsFragment=function(e,t){var n=this;void 0===t&&(t=document.createDocumentFragment());var s=this.config,i=s.shouldSortItems,r=s.sorter,o=s.removeItemButton;i&&!this._isSelectOneElement&&e.sort(r),this._isTextElement?this.passedElement.value=e.map((function(e){var t=e.value;return t})).join(this.config.delimiter):this.passedElement.options=e;var a=function(e){var s=n._getTemplate("item",e,o);t.appendChild(s)};return e.forEach(a),t},e.prototype._triggerChange=function(e){void 0!==e&&null!==e&&this.passedElement.triggerEvent(h.EVENTS.change,{value:e})},e.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},e.prototype._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode&&t.parentNode.dataset.id,s=n&&e.find((function(e){return e.id===parseInt(n,10)}));s&&(this._removeItem(s),this._triggerChange(s.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},e.prototype._handleItemAction=function(e,t,n){var s=this;if(void 0===n&&(n=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var i=t.dataset.id;e.forEach((function(e){e.id!==parseInt("".concat(i),10)||e.highlighted?!n&&e.highlighted&&s.unhighlightItem(e):s.highlightItem(e)})),this.input.focus()}},e.prototype._handleChoiceAction=function(e,t){if(e&&t){var n=t.dataset.id,s=n&&this._store.getChoiceById(n);if(s){var i=e[0]&&e[0].keyCode?e[0].keyCode:void 0,r=this.dropdown.isActive;if(s.keyCode=i,this.passedElement.triggerEvent(h.EVENTS.choice,{choice:s}),!s.selected&&!s.disabled){var o=this._canAddItem(e,s.value);o.response&&(this._addItem({value:s.value,label:s.label,choiceId:s.id,groupId:s.groupId,customProperties:s.customProperties,placeholder:s.placeholder,keyCode:s.keyCode}),this._triggerChange(s.value))}this.clearInput(),r&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},e.prototype._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some((function(e){return e.highlighted}));this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},e.prototype._startLoading=function(){this._store.dispatch((0,d.setIsLoading)(!0))},e.prototype._stopLoading=function(){this._store.dispatch((0,d.setIsLoading)(!1))},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),t&&this.itemList.append(t)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,n=this.config,s=n.searchFloor,i=n.searchChoices,r=t.some((function(e){return!e.active}));if(null!==e&&"undefined"!==typeof e&&e.length>=s){var o=i?this._searchChoices(e):0;this.passedElement.triggerEvent(h.EVENTS.search,{value:e,resultCount:o})}else r&&(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0)))}},e.prototype._canAddItem=function(e,t){var n=!0,s="function"===typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var i=(0,m.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,s="function"===typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&i&&n&&(n=!1,s="function"===typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"===typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,s="function"===typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:s}},e.prototype._searchChoices=function(e){var t="string"===typeof e?e.trim():e,n="string"===typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(n," "))return 0;var i=this._store.searchableChoices,r=t,l=Object.assign(this.config.fuseOptions,{keys:s([],this.config.searchFields,!0),includeMatches:!0}),c=new o.default(i,l),d=c.search(r);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,a.filterChoices)(d)),d.length},e.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this._store.activeItems,s=this.input.isFocussed,i=this.dropdown.isActive,r=this.itemList.hasChildren(),o=String.fromCharCode(t),a=/[^\x00-\x1F]/.test(o),l=h.KEY_CODES.BACK_KEY,c=h.KEY_CODES.DELETE_KEY,d=h.KEY_CODES.ENTER_KEY,u=h.KEY_CODES.A_KEY,p=h.KEY_CODES.ESC_KEY,m=h.KEY_CODES.UP_KEY,f=h.KEY_CODES.DOWN_KEY,g=h.KEY_CODES.PAGE_UP_KEY,v=h.KEY_CODES.PAGE_DOWN_KEY;switch(this._isTextElement||i||!a||(this.showDropdown(),this.input.isFocussed||(this.input.value+=e.key.toLowerCase())),t){case u:return this._onSelectKey(e,r);case d:return this._onEnterKey(e,n,i);case p:return this._onEscapeKey(i);case m:case g:case f:case v:return this._onDirectionKey(e,i);case c:case l:return this._onDeleteKey(e,n,s);default:}},e.prototype._onKeyUp=function(e){var t=e.target,n=e.keyCode,s=this.input.value,i=this._store.activeItems,r=this._canAddItem(i,s),o=h.KEY_CODES.BACK_KEY,l=h.KEY_CODES.DELETE_KEY;if(this._isTextElement){var c=r.notice&&s;if(c){var d=this._getTemplate("notice",r.notice);this.dropdown.element.innerHTML=d.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var u=n===o||n===l,p=u&&t&&!t.value,m=!this._isTextElement&&this._isSearching,f=this._canSearch&&r.response;p&&m?(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0))):f&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},e.prototype._onSelectKey=function(e,t){var n=e.ctrlKey,s=e.metaKey,i=n||s;if(i&&t){this._canSearch=!1;var r=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;r&&this.highlightAll()}},e.prototype._onEnterKey=function(e,t,n){var s=e.target,i=h.KEY_CODES.ENTER_KEY,r=s&&s.hasAttribute("data-button");if(this._isTextElement&&s&&s.value){var o=this.input.value,a=this._canAddItem(t,o);a.response&&(this.hideDropdown(!0),this._addItem({value:o}),this._triggerChange(o),this.clearInput())}if(r&&(this._handleButtonAction(t,s),e.preventDefault()),n){var l=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));l&&(t[0]&&(t[0].keyCode=i),this._handleChoiceAction(t,l)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},e.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},e.prototype._onDirectionKey=function(e,t){var n=e.keyCode,s=e.metaKey,i=h.KEY_CODES.DOWN_KEY,r=h.KEY_CODES.PAGE_UP_KEY,o=h.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var a=n===i||n===o?1:-1,l=s||n===o||n===r,c="[data-choice-selectable]",d=void 0;if(l)d=a>0?this.dropdown.element.querySelector("".concat(c,":last-of-type")):this.dropdown.element.querySelector(c);else{var u=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));d=u?(0,m.getAdjacentEl)(u,c,a):this.dropdown.element.querySelector(c)}d&&((0,m.isScrolledIntoView)(d,this.choiceList.element,a)||this.choiceList.scrollToChildElement(d,a),this._highlightChoice(d)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){var s=e.target;this._isSelectOneElement||s.value||!n||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target,n=this._wasTap&&this.containerOuter.element.contains(t);if(n){var s=t===this.containerOuter.element||t===this.containerInner.element;s&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(y&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild,s="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft;this._isScrollingOnIe=s}if(t!==this.input.element){var i=t.closest("[data-button],[data-item],[data-choice]");if(i instanceof HTMLElement){var r=e.shiftKey,o=this._store.activeItems,a=i.dataset;"button"in a?this._handleButtonAction(o,i):"item"in a?this._handleItemAction(o,i,r):"choice"in a&&this._handleChoiceAction(o,i)}e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target,n=this.containerOuter.element.contains(t);if(n)this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus());else{var s=this._store.highlightedActiveItems.length>0;s&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},e.prototype._onFocus=function(e){var t,n=this,s=e.target,i=s&&this.containerOuter.element.contains(s);if(i){var r=(t={},t[h.TEXT_TYPE]=function(){s===n.input.element&&n.containerOuter.addFocusState()},t[h.SELECT_ONE_TYPE]=function(){n.containerOuter.addFocusState(),s===n.input.element&&n.showDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){s===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},t);r[this.passedElement.element.type]()}},e.prototype._onBlur=function(e){var t,n=this,s=e.target,i=s&&this.containerOuter.element.contains(s);if(i&&!this._isScrollingOnIe){var r=this._store.activeItems,o=r.some((function(e){return e.highlighted})),a=(t={},t[h.TEXT_TYPE]=function(){s===n.input.element&&(n.containerOuter.removeFocusState(),o&&n.unhighlightAll(),n.hideDropdown(!0))},t[h.SELECT_ONE_TYPE]=function(){n.containerOuter.removeFocusState(),(s===n.input.element||s===n.containerOuter.element&&!n._canSearch)&&n.hideDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){s===n.input.element&&(n.containerOuter.removeFocusState(),n.hideDropdown(!0),o&&n.unhighlightAll())},t);a[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){this._store.dispatch((0,d.resetTo)(this._initialState))},e.prototype._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var s=e,i=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));i.forEach((function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")})),s?this._highlightPosition=n.indexOf(s):(s=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1],s||(s=n[0])),s.classList.add(this.config.classNames.highlightedState),s.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(h.EVENTS.highlightChoice,{el:s}),this.dropdown.isActive&&(this.input.setActiveDescendant(s.id),this.containerOuter.setActiveDescendant(s.id))}},e.prototype._addItem=function(e){var t=e.value,n=e.label,s=void 0===n?null:n,i=e.choiceId,r=void 0===i?-1:i,o=e.groupId,a=void 0===o?-1:o,l=e.customProperties,d=void 0===l?{}:l,u=e.placeholder,p=void 0!==u&&u,m=e.keyCode,f=void 0===m?-1:m,g="string"===typeof t?t.trim():t,v=this._store.items,y=s||g,b=r||-1,_=a>=0?this._store.getGroupById(a):null,S=v?v.length+1:1;this.config.prependValue&&(g=this.config.prependValue+g.toString()),this.config.appendValue&&(g+=this.config.appendValue.toString()),this._store.dispatch((0,c.addItem)({value:g,label:y,id:S,choiceId:b,groupId:a,customProperties:d,placeholder:p,keyCode:f})),this._isSelectOneElement&&this.removeActiveItems(S),this.passedElement.triggerEvent(h.EVENTS.addItem,{id:S,value:g,label:y,customProperties:d,groupValue:_&&_.value?_.value:null,keyCode:f})},e.prototype._removeItem=function(e){var t=e.id,n=e.value,s=e.label,i=e.customProperties,r=e.choiceId,o=e.groupId,a=o&&o>=0?this._store.getGroupById(o):null;t&&r&&(this._store.dispatch((0,c.removeItem)(t,r)),this.passedElement.triggerEvent(h.EVENTS.removeItem,{id:t,value:n,label:s,customProperties:i,groupValue:a&&a.value?a.value:null}))},e.prototype._addChoice=function(e){var t=e.value,n=e.label,s=void 0===n?null:n,i=e.isSelected,r=void 0!==i&&i,o=e.isDisabled,l=void 0!==o&&o,c=e.groupId,d=void 0===c?-1:c,u=e.customProperties,h=void 0===u?{}:u,p=e.placeholder,m=void 0!==p&&p,f=e.keyCode,g=void 0===f?-1:f;if("undefined"!==typeof t&&null!==t){var v=this._store.choices,y=s||t,b=v?v.length+1:1,_="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(b);this._store.dispatch((0,a.addChoice)({id:b,groupId:d,elementId:_,value:t,label:y,disabled:l,customProperties:h,placeholder:m,keyCode:g})),r&&this._addItem({value:t,label:y,choiceId:b,customProperties:h,placeholder:m,keyCode:g})}},e.prototype._addGroup=function(e){var t=this,n=e.group,s=e.id,i=e.valueKey,r=void 0===i?"value":i,o=e.labelKey,a=void 0===o?"label":o,c=(0,m.isType)("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),d=s||Math.floor((new Date).valueOf()*Math.random()),u=!!n.disabled&&n.disabled;if(c){this._store.dispatch((0,l.addGroup)({value:n.label,id:d,active:!0,disabled:u}));var h=function(e){var n=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[r],label:(0,m.isType)("Object",e)?e[a]:e.innerHTML,isSelected:e.selected,isDisabled:n,groupId:d,customProperties:e.customProperties,placeholder:e.placeholder})};c.forEach(h)}else this._store.dispatch((0,l.addGroup)({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},e.prototype._getTemplate=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(t=this._templates[e]).call.apply(t,s([this,this.config],n,!1))},e.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"===typeof e&&(t=e.call(this,m.strToEl)),this._templates=(0,r.default)(v.default,t)},e.prototype._createElements=function(){this.containerOuter=new u.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new u.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new u.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new u.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new u.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new u.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},e.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},e.prototype._addPredefinedGroups=function(e){var t=this,n=this.passedElement.placeholderOption;n&&n.parentNode&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),e.forEach((function(e){return t._addGroup({group:e,id:e.id||null})}))},e.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var n=e.some((function(e){return e.selected})),s=e.findIndex((function(e){return void 0===e.disabled||!e.disabled}));e.forEach((function(e,i){var r=e.value,o=void 0===r?"":r,a=e.label,l=e.customProperties,c=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var d=t._isSelectOneElement&&!n&&i===s,u=!!d||e.selected,h=e.disabled;t._addChoice({value:o,label:a,isSelected:!!u,isDisabled:!!h,placeholder:!!c,customProperties:l})}else t._addChoice({value:o,label:a,isSelected:!!e.selected,isDisabled:!!e.disabled,placeholder:!!e.placeholder,customProperties:l})}))},e.prototype._addPredefinedItems=function(e){var t=this;e.forEach((function(e){"object"===typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"===typeof e&&t._addItem({value:e})}))},e.prototype._setChoiceOrItem=function(e){var t=this,n=(0,m.getType)(e).toLowerCase(),s={object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}};s[n]()},e.prototype._findAndSelectChoiceByValue=function(e){var t=this,n=this._store.choices,s=n.find((function(n){return t.config.valueComparer(n.value,e)}));s&&!s.selected&&this._addItem({value:s.value,label:s.label,choiceId:s.id,groupId:s.groupId,customProperties:s.customProperties,placeholder:s.placeholder,keyCode:s.keyCode})},e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,n=t.placeholder,s=t.placeholderValue,i=this.passedElement.element.dataset;if(n){if(s)return s;if(i.placeholder)return i.placeholder}return null},e}();t["default"]=_},613:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=n(799),i=n(883),r=function(){function e(e){var t=e.element,n=e.type,s=e.classNames,i=e.position;this.element=t,this.classNames=s,this.type=n,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return e.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.shouldFlip=function(e){if("number"!==typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(t=!0),t},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===i.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===i.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){(0,s.wrap)(e,this.element)},e.prototype.unwrap=function(e){this.element.parentNode&&(this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element))},e.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t["default"]=r},217:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.element,n=e.type,s=e.classNames;this.element=t,this.classNames=s,this.type=n,this.isActive=!1}return Object.defineProperty(e.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}();t["default"]=n},520:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSelect=t.WrappedInput=t.List=t.Input=t.Container=t.Dropdown=void 0;var i=s(n(217));t.Dropdown=i.default;var r=s(n(613));t.Container=r.default;var o=s(n(11));t.Input=o.default;var a=s(n(624));t.List=a.default;var l=s(n(541));t.WrappedInput=l.default;var c=s(n(982));t.WrappedSelect=c.default},11:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=n(799),i=n(883),r=function(){function e(e){var t=e.element,n=e.type,s=e.classNames,i=e.preventPaste;this.element=t,this.type=n,this.classNames=s,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(0,s.sanitise)(this.element.value)},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element,t=e.style,n=e.value,s=e.placeholder;t.minWidth="".concat(s.length+1,"ch"),t.width="".concat(n.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==i.SELECT_ONE_TYPE&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t["default"]=r},624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=n(883),i=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.append=function(e){this.element.appendChild(e)},e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.hasChildren=function(){return this.element.hasChildNodes()},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var s=this.element.offsetHeight,i=this.element.scrollTop+s,r=e.offsetHeight,o=e.offsetTop+r,a=t>0?this.element.scrollTop+o-i:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(a,t)}))}},e.prototype._scrollDown=function(e,t,n){var s=(n-e)/t,i=s>1?s:1;this.element.scrollTop=e+i},e.prototype._scrollUp=function(e,t,n){var s=(e-n)/t,i=s>1?s:1;this.element.scrollTop=e-i},e.prototype._animateScroll=function(e,t){var n=this,i=s.SCROLLING_SPEED,r=this.element.scrollTop,o=!1;t>0?(this._scrollDown(r,i,e),r<e&&(o=!0)):(this._scrollUp(r,i,e),r>e&&(o=!0)),o&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}();t["default"]=i},730:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=n(799),i=function(){function e(e){var t=e.element,n=e.classNames;if(this.element=t,this.classNames=n,!(t instanceof HTMLInputElement)&&!(t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},e.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){(0,s.dispatchEvent)(this.element,e,t)},e}();t["default"]=i},541:function(e,t,n){var s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(730)),o=function(e){function t(t){var n=t.element,s=t.classNames,i=t.delimiter,r=e.call(this,{element:n,classNames:s})||this;return r.delimiter=i,r}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t}(r.default);t["default"]=o},982:function(e,t,n){var s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(730)),o=function(e){function t(t){var n=t.element,s=t.classNames,i=t.template,r=e.call(this,{element:n,classNames:s})||this;return r.template=i,r}return s(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(e){var t=this,n=document.createDocumentFragment(),s=function(e){var s=t.template(e);n.appendChild(s)};e.forEach((function(e){return s(e)})),this.appendDocFragment(n)},enumerable:!1,configurable:!0}),t.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},t}(r.default);t["default"]=o},883:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.SELECT_MULTIPLE_TYPE=t.SELECT_ONE_TYPE=t.TEXT_TYPE=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=void 0,t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},t.TEXT_TYPE="text",t.SELECT_ONE_TYPE="select-one",t.SELECT_MULTIPLE_TYPE="select-multiple",t.SCROLLING_SPEED=4},789:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var s=n(799);t.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},t.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:s.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,s.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t.DEFAULT_CLASSNAMES}},18:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},978:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},948:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},359:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},285:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},187:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(18),t),i(n(978),t),i(n(948),t),i(n(359),t),i(n(285),t),i(n(533),t),i(n(287),t),i(n(132),t),i(n(837),t),i(n(598),t),i(n(369),t),i(n(37),t),i(n(47),t),i(n(923),t),i(n(876),t)},287:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},132:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},598:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},37:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},369:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},47:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},923:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},876:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},799:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCustomProperties=t.diff=t.cloneObject=t.existsInArray=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.wrap=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0;var n=function(e,t){return Math.floor(Math.random()*(t-e)+e)};t.getRandomNumber=n;var s=function(e){return Array.from({length:e},(function(){return(0,t.getRandomNumber)(0,36).toString(36)})).join("")};t.generateChars=s;var i=function(e,n){var s=e.id||e.name&&"".concat(e.name,"-").concat((0,t.generateChars)(2))||(0,t.generateChars)(4);return s=s.replace(/(:|\.|\[|\]|,)/g,""),s="".concat(n,"-").concat(s),s};t.generateId=i;var r=function(e){return Object.prototype.toString.call(e).slice(8,-1)};t.getType=r;var o=function(e,n){return void 0!==n&&null!==n&&(0,t.getType)(n)===e};t.isType=o;var a=function(e,t){return void 0===t&&(t=document.createElement("div")),e.parentNode&&(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)),t.appendChild(e)};t.wrap=a;var l=function(e,t,n){void 0===n&&(n=1);var s="".concat(n>0?"next":"previous","ElementSibling"),i=e[s];while(i){if(i.matches(t))return i;i=i[s]}return i};t.getAdjacentEl=l;var c=function(e,t,n){return void 0===n&&(n=1),!!e&&(s=n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop,s);var s};t.isScrolledIntoView=c;var d=function(e){return"string"!==typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};t.sanitise=d,t.strToEl=function(){var e=document.createElement("div");return function(t){var n=t.trim();e.innerHTML=n;var s=e.children[0];while(e.firstChild)e.removeChild(e.firstChild);return s}}();var u=function(e,t){var n=e.value,s=e.label,i=void 0===s?n:s,r=t.value,o=t.label,a=void 0===o?r:o;return i.localeCompare(a,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};t.sortByAlpha=u;var h=function(e,t){var n=e.score,s=void 0===n?0:n,i=t.score,r=void 0===i?0:i;return s-r};t.sortByScore=h;var p=function(e,t,n){void 0===n&&(n=null);var s=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(s)};t.dispatchEvent=p;var m=function(e,t,n){return void 0===n&&(n="value"),e.some((function(e){return"string"===typeof t?e[n]===t.trim():e[n]===t}))};t.existsInArray=m;var f=function(e){return JSON.parse(JSON.stringify(e))};t.cloneObject=f;var g=function(e,t){var n=Object.keys(e).sort(),s=Object.keys(t).sort();return n.filter((function(e){return s.indexOf(e)<0}))};t.diff=g;var v=function(e){if("undefined"!==typeof e)try{return JSON.parse(e)}catch(t){return e}return{}};t.parseCustomProperties=v},273:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};function s(e,s){switch(void 0===e&&(e=t.defaultState),void 0===s&&(s={}),s.type){case"ADD_CHOICE":var i=s,r={id:i.id,elementId:i.elementId,groupId:i.groupId,value:i.value,label:i.label||i.value,disabled:i.disabled||!1,selected:!1,active:!0,score:9999,customProperties:i.customProperties,placeholder:i.placeholder||!1};return n(n([],e,!0),[r],!1);case"ADD_ITEM":var o=s;return o.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(o.choiceId),10)&&(t.selected=!0),t})):e;case"REMOVE_ITEM":var a=s;return a.choiceId&&a.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(a.choiceId),10)&&(t.selected=!1),t})):e;case"FILTER_CHOICES":var l=s;return e.map((function(e){var t=e;return t.active=l.results.some((function(e){var n=e.item,s=e.score;return n.id===t.id&&(t.score=s,!0)})),t}));case"ACTIVATE_CHOICES":var c=s;return e.map((function(e){var t=e;return t.active=c.active,t}));case"CLEAR_CHOICES":return t.defaultState;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t["default"]=s},871:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};function s(e,s){switch(void 0===e&&(e=t.defaultState),void 0===s&&(s={}),s.type){case"ADD_GROUP":var i=s;return n(n([],e,!0),[{id:i.id,value:i.value,active:i.active,disabled:i.disabled}],!1);case"CLEAR_CHOICES":return[];default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t["default"]=s},655:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var i=n(791),r=s(n(52)),o=s(n(871)),a=s(n(273)),l=s(n(502)),c=n(799);t.defaultState={groups:[],items:[],choices:[],loading:!1};var d=(0,i.combineReducers)({items:r.default,groups:o.default,choices:a.default,loading:l.default}),u=function(e,n){var s=e;if("CLEAR_ALL"===n.type)s=t.defaultState;else if("RESET_TO"===n.type)return(0,c.cloneObject)(n.state);return d(s,n)};t["default"]=u},52:function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};function s(e,s){switch(void 0===e&&(e=t.defaultState),void 0===s&&(s={}),s.type){case"ADD_ITEM":var i=s,r=n(n([],e,!0),[{id:i.id,choiceId:i.choiceId,groupId:i.groupId,value:i.value,label:i.label,active:!0,highlighted:!1,customProperties:i.customProperties,placeholder:i.placeholder||!1,keyCode:null}],!1);return r.map((function(e){var t=e;return t.highlighted=!1,t}));case"REMOVE_ITEM":return e.map((function(e){var t=e;return t.id===s.id&&(t.active=!1),t}));case"HIGHLIGHT_ITEM":var o=s;return e.map((function(e){var t=e;return t.id===o.id&&(t.highlighted=o.highlighted),t}));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t["default"]=s},502:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=!1;var n=function(e,n){switch(void 0===e&&(e=t.defaultState),void 0===n&&(n={}),n.type){case"SET_IS_LOADING":return n.isLoading;default:return e}};t["default"]=n},744:function(e,t,n){var s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(791),o=i(n(655)),a=function(){function e(){this._store=(0,r.createStore)(o.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return e.prototype.subscribe=function(e){this._store.subscribe(e)},e.prototype.dispatch=function(e){this._store.dispatch(e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.items.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectableChoices",{get:function(){return this.choices.filter((function(e){return!0!==e.disabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter((function(e){return!0!==e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderChoice",{get:function(){return s([],this.choices,!0).reverse().find((function(e){return!0===e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this,t=e.groups,n=e.choices;return t.filter((function(e){var t=!0===e.active&&!1===e.disabled,s=n.some((function(e){return!0===e.active&&!1===e.disabled}));return t&&s}),[])},enumerable:!1,configurable:!0}),e.prototype.isLoading=function(){return this.state.loading},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===parseInt(e,10)}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}();t["default"]=a},686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={containerOuter:function(e,t,n,s,i,r,o){var a=e.classNames.containerOuter,l=Object.assign(document.createElement("div"),{className:a});return l.dataset.type=r,t&&(l.dir=t),s&&(l.tabIndex=0),n&&(l.setAttribute("role",i?"combobox":"listbox"),i&&l.setAttribute("aria-autocomplete","list")),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false"),o&&l.setAttribute("aria-labelledby",o),l},containerInner:function(e){var t=e.classNames.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var n=e.classNames,s=n.list,i=n.listSingle,r=n.listItems;return Object.assign(document.createElement("div"),{className:"".concat(s," ").concat(t?i:r)})},placeholder:function(e,t){var n,s=e.allowHTML,i=e.classNames.placeholder;return Object.assign(document.createElement("div"),(n={className:i},n[s?"innerHTML":"innerText"]=t,n))},item:function(e,t,n){var s,i,r=e.allowHTML,o=e.classNames,a=o.item,l=o.button,c=o.highlightedState,d=o.itemSelectable,u=o.placeholder,h=t.id,p=t.value,m=t.label,f=t.customProperties,g=t.active,v=t.disabled,y=t.highlighted,b=t.placeholder,_=Object.assign(document.createElement("div"),(s={className:a},s[r?"innerHTML":"innerText"]=m,s));if(Object.assign(_.dataset,{item:"",id:h,value:p,customProperties:f}),g&&_.setAttribute("aria-selected","true"),v&&_.setAttribute("aria-disabled","true"),b&&_.classList.add(u),_.classList.add(y?c:d),n){v&&_.classList.remove(d),_.dataset.deletable="";var S="Remove item",C=Object.assign(document.createElement("button"),(i={type:"button",className:l},i[r?"innerHTML":"innerText"]=S,i));C.setAttribute("aria-label","".concat(S,": '").concat(p,"'")),C.dataset.button="",_.appendChild(C)}return _},choiceList:function(e,t){var n=e.classNames.list,s=Object.assign(document.createElement("div"),{className:n});return t||s.setAttribute("aria-multiselectable","true"),s.setAttribute("role","listbox"),s},choiceGroup:function(e,t){var n,s=e.allowHTML,i=e.classNames,r=i.group,o=i.groupHeading,a=i.itemDisabled,l=t.id,c=t.value,d=t.disabled,u=Object.assign(document.createElement("div"),{className:"".concat(r," ").concat(d?a:"")});return u.setAttribute("role","group"),Object.assign(u.dataset,{group:"",id:l,value:c}),d&&u.setAttribute("aria-disabled","true"),u.appendChild(Object.assign(document.createElement("div"),(n={className:o},n[s?"innerHTML":"innerText"]=c,n))),u},choice:function(e,t,n){var s,i=e.allowHTML,r=e.classNames,o=r.item,a=r.itemChoice,l=r.itemSelectable,c=r.selectedState,d=r.itemDisabled,u=r.placeholder,h=t.id,p=t.value,m=t.label,f=t.groupId,g=t.elementId,v=t.disabled,y=t.selected,b=t.placeholder,_=Object.assign(document.createElement("div"),(s={id:g},s[i?"innerHTML":"innerText"]=m,s.className="".concat(o," ").concat(a),s));return y&&_.classList.add(c),b&&_.classList.add(u),_.setAttribute("role",f&&f>0?"treeitem":"option"),Object.assign(_.dataset,{choice:"",id:h,value:p,selectText:n}),v?(_.classList.add(d),_.dataset.choiceDisabled="",_.setAttribute("aria-disabled","true")):(_.classList.add(l),_.dataset.choiceSelectable=""),_},input:function(e,t){var n=e.classNames,s=n.input,i=n.inputCloned,r=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(s," ").concat(i),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return r.setAttribute("role","textbox"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-label",t),r},dropdown:function(e){var t=e.classNames,n=t.list,s=t.listDropdown,i=document.createElement("div");return i.classList.add(n,s),i.setAttribute("aria-expanded","false"),i},notice:function(e,t,n){var s,i=e.allowHTML,r=e.classNames,o=r.item,a=r.itemChoice,l=r.noResults,c=r.noChoices;void 0===n&&(n="");var d=[o,a];return"no-choices"===n?d.push(c):"no-results"===n&&d.push(l),Object.assign(document.createElement("div"),(s={},s[i?"innerHTML":"innerText"]=t,s.className=d.join(" "),s))},option:function(e){var t=e.label,n=e.value,s=e.customProperties,i=e.active,r=e.disabled,o=new Option(t,n,!1,i);return s&&(o.dataset.customProperties="".concat(s)),o.disabled=!!r,o}};t["default"]=n},996:function(e){var t=function e(t){return n(t)&&!s(t)};function n(e){return!!e&&"object"===typeof e}function s(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||o(e)}var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103;function o(e){return e.$$typeof===r}function a(e){return Array.isArray(e)?[]:{}}function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?g(a(e),e,t):e}function c(e,t,n){return e.concat(t).map((function(e){return l(e,n)}))}function d(e,t){if(!t.customMerge)return g;var n=t.customMerge(e);return"function"===typeof n?n:g}function u(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function h(e){return Object.keys(e).concat(u(e))}function p(e,t){try{return t in e}catch(n){return!1}}function m(e,t){return p(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function f(e,t,n){var s={};return n.isMergeableObject(e)&&h(e).forEach((function(t){s[t]=l(e[t],n)})),h(t).forEach((function(i){m(e,i)||(p(e,i)&&n.isMergeableObject(t[i])?s[i]=d(i,n)(e[i],t[i],n):s[i]=l(t[i],n))})),s}function g(e,n,s){s=s||{},s.arrayMerge=s.arrayMerge||c,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=l;var i=Array.isArray(n),r=Array.isArray(e),o=i===r;return o?i?s.arrayMerge(e,n,s):f(e,n,s):l(n,s)}g.all=function e(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(e,t){return g(e,t,n)}),{})};var v=g;e.exports=v},221:function(e,t,n){function s(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}n.r(t),n.d(t,{default:function(){return be}});const i=1/0;function r(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-i?"-0":t}function o(e){return null==e?"":r(e)}function a(e){return"string"===typeof e}function l(e){return"number"===typeof e}function c(e){return!0===e||!1===e||u(e)&&"[object Boolean]"==m(e)}function d(e){return"object"===typeof e}function u(e){return d(e)&&null!==e}function h(e){return void 0!==e&&null!==e}function p(e){return!e.trim().length}function m(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const f="Incorrect 'index' type",g=e=>`Invalid value for key ${e}`,v=e=>`Pattern length exceeds max of ${e}.`,y=e=>`Missing ${e} property in key`,b=e=>`Property 'weight' in key '${e}' must be a positive integer`,_=Object.prototype.hasOwnProperty;class S{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=C(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function C(e){let t=null,n=null,i=null,r=1,o=null;if(a(e)||s(e))i=e,t=E(e),n=w(e);else{if(!_.call(e,"name"))throw new Error(y("name"));const s=e.name;if(i=s,_.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(b(s));t=E(s),n=w(s),o=e.getFn}return{path:t,id:n,weight:r,src:i,getFn:o}}function E(e){return s(e)?e:e.split(".")}function w(e){return s(e)?e.join("."):e}function O(e,t){let n=[],i=!1;const r=(e,t,d)=>{if(h(e))if(t[d]){let u=t[d];const p=e[u];if(!h(p))return;if(d===t.length-1&&(a(p)||l(p)||c(p)))n.push(o(p));else if(s(p)){i=!0;for(let e=0,n=p.length;e<n;e+=1)r(p[e],t,d+1)}else t.length&&r(p,t,d+1)}else n.push(e)};return r(e,a(t)?t.split("."):t,0),i?n:n[0]}const T={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},M={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},I={location:0,threshold:.6,distance:100},L={useExtendedSearch:!1,getFn:O,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var D={...M,...T,...I,...L};const A=/[^ ]+/g;function x(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(t){const i=t.match(A).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*e),o=parseFloat(Math.round(r*s)/s);return n.set(i,o),o},clear(){n.clear()}}}class k{constructor({getFn:e=D.getFn,fieldNormWeight:t=D.fieldNormWeight}={}){this.norm=x(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,a(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();a(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!h(e)||p(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let r=t.getFn?t.getFn(e):this.getFn(e,t.path);if(h(r))if(s(r)){let e=[];const t=[{nestedArrIndex:-1,value:r}];while(t.length){const{nestedArrIndex:n,value:i}=t.pop();if(h(i))if(a(i)&&!p(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else s(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(a(r)&&!p(r)){let e={v:r,n:this.norm.get(r)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function N(e,t,{getFn:n=D.getFn,fieldNormWeight:s=D.fieldNormWeight}={}){const i=new k({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(C)),i.setSources(t),i.create(),i}function P(e,{getFn:t=D.getFn,fieldNormWeight:n=D.fieldNormWeight}={}){const{keys:s,records:i}=e,r=new k({getFn:t,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r}function F(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=D.distance,ignoreLocation:r=D.ignoreLocation}={}){const o=t/e.length;if(r)return o;const a=Math.abs(s-n);return i?o+a/i:a?1:o}function $(e=[],t=D.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===s?s=r:o||-1===s||(i=r-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[r-1]&&r-s>=t&&n.push([s,r-1]),n}const j=32;function H(e,t,n,{location:s=D.location,distance:i=D.distance,threshold:r=D.threshold,findAllMatches:o=D.findAllMatches,minMatchCharLength:a=D.minMatchCharLength,includeMatches:l=D.includeMatches,ignoreLocation:c=D.ignoreLocation}={}){if(t.length>j)throw new Error(v(j));const d=t.length,u=e.length,h=Math.max(0,Math.min(s,u));let p=r,m=h;const f=a>1||l,g=f?Array(u):[];let y;while((y=e.indexOf(t,m))>-1){let e=F(t,{currentLocation:y,expectedLocation:h,distance:i,ignoreLocation:c});if(p=Math.min(e,p),m=y+d,f){let e=0;while(e<d)g[y+e]=1,e+=1}}m=-1;let b=[],_=1,S=d+u;const C=1<<d-1;for(let v=0;v<d;v+=1){let s=0,r=S;while(s<r){const e=F(t,{errors:v,currentLocation:h+r,expectedLocation:h,distance:i,ignoreLocation:c});e<=p?s=r:S=r,r=Math.floor((S-s)/2+s)}S=r;let a=Math.max(1,h-r+1),l=o?u:Math.min(h+r,u)+d,y=Array(l+2);y[l+1]=(1<<v)-1;for(let o=l;o>=a;o-=1){let s=o-1,r=n[e.charAt(s)];if(f&&(g[s]=+!!r),y[o]=(y[o+1]<<1|1)&r,v&&(y[o]|=(b[o+1]|b[o])<<1|1|b[o+1]),y[o]&C&&(_=F(t,{errors:v,currentLocation:s,expectedLocation:h,distance:i,ignoreLocation:c}),_<=p)){if(p=_,m=s,m<=h)break;a=Math.max(1,2*h-m)}}const E=F(t,{errors:v+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:c});if(E>p)break;b=y}const E={isMatch:m>=0,score:Math.max(.001,_)};if(f){const e=$(g,a);e.length?l&&(E.indices=e):E.isMatch=!1}return E}function Y(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}class K{constructor(e,{location:t=D.location,threshold:n=D.threshold,distance:s=D.distance,includeMatches:i=D.includeMatches,findAllMatches:r=D.findAllMatches,minMatchCharLength:o=D.minMatchCharLength,isCaseSensitive:a=D.isCaseSensitive,ignoreLocation:l=D.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Y(e),startIndex:t})},d=this.pattern.length;if(d>j){let e=0;const t=d%j,n=d-t;while(e<n)c(this.pattern.substr(e,j),e),e+=j;if(t){const e=d-j;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:s,distance:i,threshold:r,findAllMatches:o,minMatchCharLength:a,ignoreLocation:l}=this.options;let c=[],d=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:p})=>{const{isMatch:m,score:f,indices:g}=H(e,t,h,{location:s+p,distance:i,threshold:r,findAllMatches:o,minMatchCharLength:a,includeMatches:n,ignoreLocation:l});m&&(u=!0),d+=f,m&&g&&(c=[...c,...g])}));let h={isMatch:u,score:u?d/this.chunks.length:1};return u&&n&&(h.indices=c),h}}class R{constructor(e){this.pattern=e}static isMultiMatch(e){return B(e,this.multiRegex)}static isSingleMatch(e){return B(e,this.singleRegex)}search(){}}function B(e,t){const n=e.match(t);return n?n[1]:null}class V extends R{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class q extends R{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=e.indexOf(this.pattern),n=-1===t;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class G extends R{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class W extends R{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class U extends R{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class z extends R{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Q extends R{constructor(e,{location:t=D.location,threshold:n=D.threshold,distance:s=D.distance,includeMatches:i=D.includeMatches,findAllMatches:r=D.findAllMatches,minMatchCharLength:o=D.minMatchCharLength,isCaseSensitive:a=D.isCaseSensitive,ignoreLocation:l=D.ignoreLocation}={}){super(e),this._bitapSearch=new K(e,{location:t,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class X extends R{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const s=[],i=this.pattern.length;while((t=e.indexOf(this.pattern,n))>-1)n=t+i,s.push([t,n-1]);const r=!!s.length;return{isMatch:r,score:r?0:1,indices:s}}}const J=[V,X,G,W,z,U,q,Q],Z=J.length,ee=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,te="|";function ne(e,t={}){return e.split(te).map((e=>{let n=e.trim().split(ee).filter((e=>e&&!!e.trim())),s=[];for(let i=0,r=n.length;i<r;i+=1){const e=n[i];let r=!1,o=-1;while(!r&&++o<Z){const n=J[o];let i=n.isMultiMatch(e);i&&(s.push(new n(i,t)),r=!0)}if(!r){o=-1;while(++o<Z){const n=J[o];let i=n.isSingleMatch(e);if(i){s.push(new n(i,t));break}}}}return s}))}const se=new Set([Q.type,X.type]);class ie{constructor(e,{isCaseSensitive:t=D.isCaseSensitive,includeMatches:n=D.includeMatches,minMatchCharLength:s=D.minMatchCharLength,ignoreLocation:i=D.ignoreLocation,findAllMatches:r=D.findAllMatches,location:o=D.location,threshold:a=D.threshold,distance:l=D.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:s,findAllMatches:r,ignoreLocation:i,location:o,threshold:a,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=ne(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let i=0,r=[],o=0;for(let a=0,l=t.length;a<l;a+=1){const s=t[a];r.length=0,i=0;for(let t=0,a=s.length;t<a;t+=1){const a=s[t],{isMatch:l,indices:c,score:d}=a.search(e);if(!l){o=0,i=0,r.length=0;break}if(i+=1,o+=d,n){const e=a.constructor.type;se.has(e)?r=[...r,...c]:r.push(c)}}if(i){let e={isMatch:!0,score:o/i};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}}const re=[];function oe(...e){re.push(...e)}function ae(e,t){for(let n=0,s=re.length;n<s;n+=1){let s=re[n];if(s.condition(e,t))return new s(e,t)}return new K(e,t)}const le={AND:"$and",OR:"$or"},ce={PATH:"$path",PATTERN:"$val"},de=e=>!(!e[le.AND]&&!e[le.OR]),ue=e=>!!e[ce.PATH],he=e=>!s(e)&&d(e)&&!de(e),pe=e=>({[le.AND]:Object.keys(e).map((t=>({[t]:e[t]})))});function me(e,t,{auto:n=!0}={}){const i=e=>{let r=Object.keys(e);const o=ue(e);if(!o&&r.length>1&&!de(e))return i(pe(e));if(he(e)){const s=o?e[ce.PATH]:r[0],i=o?e[ce.PATTERN]:e[s];if(!a(i))throw new Error(g(s));const l={keyId:w(s),pattern:i};return n&&(l.searcher=ae(i,t)),l}let l={children:[],operator:r[0]};return r.forEach((t=>{const n=e[t];s(n)&&n.forEach((e=>{l.children.push(i(e))}))})),l};return de(e)||(e=pe(e)),i(e)}function fe(e,{ignoreFieldNorm:t=D.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:s,score:i})=>{const r=e?e.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(t?1:s))})),e.score=n}))}function ge(e,t){const n=e.matches;t.matches=[],h(n)&&n.forEach((e=>{if(!h(e.indices)||!e.indices.length)return;const{indices:n,value:s}=e;let i={indices:n,value:s};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function ve(e,t){t.score=e.score}function ye(e,t,{includeMatches:n=D.includeMatches,includeScore:s=D.includeScore}={}){const i=[];return n&&i.push(ge),s&&i.push(ve),e.map((e=>{const{idx:n}=e,s={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,s)})),s}))}class be{constructor(e,t={},n){this.options={...D,...t},this.options.useExtendedSearch,this._keyStore=new S(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof k))throw new Error(f);this._myIndex=t||N(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){h(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,s=this._docs.length;n<s;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,s-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:i,sortFn:r,ignoreFieldNorm:o}=this.options;let c=a(e)?a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return fe(c,{ignoreFieldNorm:o}),i&&c.sort(r),l(t)&&t>-1&&(c=c.slice(0,t)),ye(c,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(e){const t=ae(e,this.options),{records:n}=this._myIndex,s=[];return n.forEach((({v:e,i:n,n:i})=>{if(!h(e))return;const{isMatch:r,score:o,indices:a}=t.searchIn(e);r&&s.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:a}]})})),s}_searchLogical(e){const t=me(e,this.options),n=(e,t,s)=>{if(!e.children){const{keyId:n,searcher:i}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return r&&r.length?[{idx:s,item:t,matches:r}]:[]}const i=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],a=n(o,t,s);if(a.length)i.push(...a);else if(e.operator===le.AND)return[]}return i},s=this._myIndex.records,i={},r=[];return s.forEach((({$:e,i:s})=>{if(h(e)){let o=n(t,e,s);o.length&&(i[s]||(i[s]={idx:s,item:e,matches:[]},r.push(i[s])),o.forEach((({matches:e})=>{i[s].matches.push(...e)})))}})),r}_searchObjectList(e){const t=ae(e,this.options),{keys:n,records:s}=this._myIndex,i=[];return s.forEach((({$:e,i:s})=>{if(!h(e))return;let r=[];n.forEach(((n,s)=>{r.push(...this._findMatches({key:n,value:e[s],searcher:t}))})),r.length&&i.push({idx:s,item:e,matches:r})})),i}_findMatches({key:e,value:t,searcher:n}){if(!h(t))return[];let i=[];if(s(t))t.forEach((({v:t,i:s,n:r})=>{if(!h(t))return;const{isMatch:o,score:a,indices:l}=n.searchIn(t);o&&i.push({score:a,key:e,value:t,idx:s,norm:r,indices:l})}));else{const{v:s,n:r}=t,{isMatch:o,score:a,indices:l}=n.searchIn(s);o&&i.push({score:a,key:e,value:s,norm:r,indices:l})}return i}}be.version="6.6.2",be.createIndex=N,be.parseIndex=P,be.config=D,be.parseQuery=me,oe(ie)},791:function(e,t,n){function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function r(e){var t=i(e,"string");return"symbol"===s(t)?t:String(t)}function o(e,t,n){return t=r(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return h},applyMiddleware:function(){return S},bindActionCreators:function(){return b},combineReducers:function(){return v},compose:function(){return _},createStore:function(){return m},legacy_createStore:function(){return f}});var d="function"===typeof Symbol&&Symbol.observable||"@@observable",u=function e(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function e(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function p(e){if("object"!==typeof e||null===e)return!1;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function m(e,t,n){var s;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(c(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(c(1));return n(m)(e,t)}if("function"!==typeof e)throw new Error(c(2));var i=e,r=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function f(){if(l)throw new Error(c(3));return r}function g(e){if("function"!==typeof e)throw new Error(c(4));if(l)throw new Error(c(5));var t=!0;return u(),a.push(e),function n(){if(t){if(l)throw new Error(c(6));t=!1,u();var s=a.indexOf(e);a.splice(s,1),o=null}}}function v(e){if(!p(e))throw new Error(c(7));if("undefined"===typeof e.type)throw new Error(c(8));if(l)throw new Error(c(9));try{l=!0,r=i(r,e)}finally{l=!1}for(var t=o=a,n=0;n<t.length;n++){var s=t[n];s()}return e}function y(e){if("function"!==typeof e)throw new Error(c(10));i=e,v({type:h.REPLACE})}function b(){var e,t=g;return e={subscribe:function e(n){if("object"!==typeof n||null===n)throw new Error(c(11));function s(){n.next&&n.next(f())}s();var i=t(s);return{unsubscribe:i}}},e[d]=function(){return this},e}return v({type:h.INIT}),s={dispatch:v,subscribe:g,getState:f,replaceReducer:y},s[d]=b,s}var f=m;function g(e){Object.keys(e).forEach((function(t){var n=e[t],s=n(void 0,{type:h.INIT});if("undefined"===typeof s)throw new Error(c(12));if("undefined"===typeof n(void 0,{type:h.PROBE_UNKNOWN_ACTION()}))throw new Error(c(13))}))}function v(e){for(var t=Object.keys(e),n={},s=0;s<t.length;s++){var i=t[s];0,"function"===typeof e[i]&&(n[i]=e[i])}var r,o=Object.keys(n);try{g(n)}catch(a){r=a}return function e(t,s){if(void 0===t&&(t={}),r)throw r;for(var i=!1,a={},l=0;l<o.length;l++){var d=o[l],u=n[d],h=t[d],p=u(h,s);if("undefined"===typeof p){s&&s.type;throw new Error(c(14))}a[d]=p,i=i||p!==h}return i=i||o.length!==Object.keys(t).length,i?a:t}}function y(e,t){return function(){return t(e.apply(this,arguments))}}function b(e,t){if("function"===typeof e)return y(e,t);if("object"!==typeof e||null===e)throw new Error(c(16));var n={};for(var s in e){var i=e[s];"function"===typeof i&&(n[s]=y(i,t))}return n}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),s=function e(){throw new Error(c(15))},i={getState:n.getState,dispatch:function e(){return s.apply(void 0,arguments)}},r=t.map((function(e){return e(i)}));return s=_.apply(void 0,r)(n.dispatch),l(l({},n),{},{dispatch:s})}}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){var e=n(373),t=n.n(e);n(187),n(883),n(789),n(686);s["default"]=t()}(),s=s["default"],s}()}))},747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var s={};n.r(s);var i=n(62),r=n.n(i),o=n(552),a=n.n(o),l=n(566),c=n.n(l),d=n(107),u=n.n(d),h=n(911),p=n.n(h),m=n(227),f=n.n(m),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p();r()(s["default"],g);s["default"]&&s["default"].locals&&s["default"].locals;function v(){window.addEventListener("keyup",(e=>{9===e.which&&document.documentElement.classList.remove("js-no-focus-outline")}))}},536:(e,t,n)=>{"use strict";var s={};n.r(s);var i=n(62),r=n.n(i),o=n(552),a=n.n(o),l=n(566),c=n.n(l),d=n(107),u=n.n(d),h=n(911),p=n.n(h),m=n(227),f=n.n(m),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p();r()(s["default"],g);s["default"]&&s["default"].locals&&s["default"].locals},602:(e,t,n)=>{"use strict";var s={};n.r(s);var i=n(62),r=n.n(i),o=n(552),a=n.n(o),l=n(566),c=n.n(l),d=n(107),u=n.n(d),h=n(911),p=n.n(h),m=n(227),f=n.n(m),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p();r()(s["default"],g);s["default"]&&s["default"].locals&&s["default"].locals},62:e=>{"use strict";var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var r={},o=[],a=0;a<e.length;a++){var l=e[a],c=s.base?l[0]+s.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=i(p,s);s.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function i(e,t){var n=t.domAPI(t);n.update(e);var s=function t(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap&&s.supports===e.supports&&s.layer===e.layer)return;n.update(e=s)}else n.remove()};return s}e.exports=function(e,i){i=i||{},e=e||[];var r=s(e,i);return function e(o){o=o||[];for(var a=0;a<r.length;a++){var l=r[a],c=n(l);t[c].references--}for(var d=s(o,i),u=0;u<r.length;u++){var h=r[u],p=n(h);0===t[p].references&&(t[p].updater(),t.splice(p,1))}r=d}}},566:e=>{"use strict";var t={};function n(e){if("undefined"===typeof t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(s){n=null}t[e]=n}return t[e]}function s(e,t){var s=n(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}e.exports=s},911:e=>{"use strict";function t(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}e.exports=t},107:(e,t,n)=>{"use strict";function s(e){var t=n.nc;t&&e.setAttribute("nonce",t)}e.exports=s},552:e=>{"use strict";function t(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i="undefined"!==typeof n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!==typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e,t.options)}function n(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}function s(e){if("undefined"===typeof document)return{update:function e(){},remove:function e(){}};var s=e.insertStyleElement(e);return{update:function n(i){t(s,e,i)},remove:function e(){n(s)}}}e.exports=s},227:e=>{"use strict";function t(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}e.exports=t},721:function(e){var t;t=function(){"use strict";function e(e,t){e.split(/\s+/).forEach((e=>{t(e)}))}class t{constructor(){this._events=void 0,this._events={}}on(t,n){e(t,(e=>{const t=this._events[e]||[];t.push(n),this._events[e]=t}))}off(t,n){var s=arguments.length;0!==s?e(t,(e=>{if(1===s)return void delete this._events[e];const t=this._events[e];void 0!==t&&(t.splice(t.indexOf(n),1),this._events[e]=t)})):this._events={}}trigger(t,...n){var s=this;e(t,(e=>{const t=s._events[e];void 0!==t&&t.forEach((e=>{e.apply(s,n)}))}))}}function n(e){return e.plugins={},class extends e{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,n){e.plugins[t]={name:t,fn:n}}initializePlugins(e){var t,n;const s=this,i=[];if(Array.isArray(e))e.forEach((e=>{"string"===typeof e?i.push(e):(s.plugins.settings[e.name]=e.options,i.push(e.name))}));else if(e)for(t in e)e.hasOwnProperty(t)&&(s.plugins.settings[t]=e[t],i.push(t));while(n=i.shift())s.require(n)}loadPlugin(t){var n=this,s=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');s.requested[t]=!0,s.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),s.names.push(t)}require(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]}}}const s=e=>(e=e.filter(Boolean),e.length<2?e[0]||"":1==l(e)?"["+e.join("")+"]":"(?:"+e.join("|")+")"),i=e=>{if(!o(e))return e.join("");let t="",n=0;const s=()=>{n>1&&(t+="{"+n+"}")};return e.forEach(((i,r)=>{i!==e[r-1]?(s(),t+=i,n=1):n++})),s(),t},r=e=>{let t=d(e);return s(t)},o=e=>new Set(e).size!==e.length,a=e=>(e+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=e=>e.reduce(((e,t)=>Math.max(e,c(t))),0),c=e=>d(e).length,d=e=>Array.from(e),u=e=>{if(1===e.length)return[[e]];let t=[];const n=e.substring(1),s=u(n);return s.forEach((function(n){let s=n.slice(0);s[0]=e.charAt(0)+s[0],t.push(s),s=n.slice(0),s.unshift(e.charAt(0)),t.push(s)})),t},h=[[0,65535]],p="[-]";let m,f;const g=3,v={},y={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let Qe in y){let e=y[Qe]||"";for(let t=0;t<e.length;t++){let n=e.substring(t,t+1);v[n]=Qe}}const b=new RegExp(Object.keys(v).join("|")+"|"+p,"gu"),_=e=>{void 0===m&&(m=T(e||h))},S=(e,t="NFKD")=>e.normalize(t),C=e=>d(e).reduce(((e,t)=>e+E(t)),""),E=e=>(e=S(e).toLowerCase().replace(b,(e=>v[e]||"")),S(e,"NFC"));function*w(e){for(const[t,n]of e)for(let e=t;e<=n;e++){let t=String.fromCharCode(e),n=C(t);n!=t.toLowerCase()&&(n.length>g||0!=n.length&&(yield{folded:n,composed:t,code_point:e}))}}const O=e=>{const t={},n=(e,n)=>{const s=t[e]||new Set,i=new RegExp("^"+r(s)+"$","iu");n.match(i)||(s.add(a(n)),t[e]=s)};for(let s of w(e))n(s.folded,s.folded),n(s.folded,s.composed);return t},T=e=>{const t=O(e),n={};let i=[];for(let s in t){let e=t[s];e&&(n[s]=r(e)),s.length>1&&i.push(a(s))}i.sort(((e,t)=>t.length-e.length));const o=s(i);return f=new RegExp("^"+o,"u"),n},M=(e,t=1)=>{let n=0;return e=e.map((e=>(m[e]&&(n+=e.length),m[e]||e))),n>=t?i(e):""},I=(e,t=1)=>(t=Math.max(t,e.length-1),s(u(e).map((e=>M(e,t))))),L=(e,t=!0)=>{let n=e.length>1?1:0;return s(e.map((e=>{let s=[];const r=t?e.length():e.length()-1;for(let t=0;t<r;t++)s.push(I(e.substrs[t]||"",n));return i(s)})))},D=(e,t)=>{for(const n of t){if(n.start!=e.start||n.end!=e.end)continue;if(n.substrs.join("")!==e.substrs.join(""))continue;let t=e.parts;const s=e=>{for(const n of t){if(n.start===e.start&&n.substr===e.substr)return!1;if(1!=e.length&&1!=n.length){if(e.start<n.start&&e.end>n.start)return!0;if(n.start<e.start&&n.end>e.start)return!0}}return!1};let i=n.parts.filter(s);if(!(i.length>0))return!0}return!1};class A{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let n=new A,s=JSON.parse(JSON.stringify(this.parts)),i=s.pop();for(const a of s)n.add(a);let r=t.substr.substring(0,e-i.start),o=r.length;return n.add({start:i.start,end:i.start+o,length:o,substr:r}),n}}const x=e=>{_(),e=C(e);let t="",n=[new A];for(let s=0;s<e.length;s++){let i=e.substring(s),r=i.match(f);const o=e.substring(s,s+1),a=r?r[0]:null;let l=[],c=new Set;for(const e of n){const t=e.last();if(!t||1==t.length||t.end<=s)if(a){const t=a.length;e.add({start:s,end:s+t,length:t,substr:a}),c.add("1")}else e.add({start:s,end:s+1,length:1,substr:o}),c.add("2");else if(a){let n=e.clone(s,t);const i=a.length;n.add({start:s,end:s+i,length:i,substr:a}),l.push(n)}else c.add("3")}if(l.length>0){l=l.sort(((e,t)=>e.length()-t.length()));for(let e of l)D(e,n)||n.push(e)}else if(s>0&&1==c.size&&!c.has("3")){t+=L(n,!1);let e=new A;const s=n[0];s&&e.add(s.last()),n=[e]}}return t+=L(n,!0),t},k=(e,t)=>{if(e)return e[t]},N=(e,t)=>{if(e){var n,s=t.split(".");while((n=s.shift())&&(e=e[n]));return e}},P=(e,t,n)=>{var s,i;return e?(e+="",null==t.regex?0:(i=e.search(t.regex),-1===i?0:(s=t.string.length/e.length,0===i&&(s+=.5),s*n))):0},F=(e,t)=>{var n=e[t];if("function"==typeof n)return n;n&&!Array.isArray(n)&&(e[t]=[n])},$=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},j=(e,t)=>"number"===typeof e&&"number"===typeof t?e>t?1:e<t?-1:0:(e=C(e+"").toLowerCase(),t=C(t+"").toLowerCase(),e>t?1:t>e?-1:0);class H{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,n){if(!e||!e.length)return[];const s=[],i=e.split(/\s+/);var r;return n&&(r=new RegExp("^("+Object.keys(n).map(a).join("|")+"):(.*)$")),i.forEach((e=>{let n,i=null,o=null;r&&(n=e.match(r))&&(i=n[1],e=n[2]),e.length>0&&(o=this.settings.diacritics?x(e)||null:a(e),o&&t&&(o="\\b"+o)),s.push({string:e,regex:o?new RegExp(o,"iu"):null,field:i})})),s}getScoreFunction(e,t){var n=this.prepareSearch(e,t);return this._getScoreFunction(n)}_getScoreFunction(e){const t=e.tokens,n=t.length;if(!n)return function(){return 0};const s=e.options.fields,i=e.weights,r=s.length,o=e.getAttrFn;if(!r)return function(){return 1};const a=1===r?function(e,t){const n=s[0].field;return P(o(t,n),e,i[n]||1)}:function(e,t){var n=0;if(e.field){const s=o(t,e.field);!e.regex&&s?n+=1/r:n+=P(s,e,1)}else $(i,((s,i)=>{n+=P(o(t,i),e,s)}));return n/r};return 1===n?function(e){return a(t[0],e)}:"and"===e.options.conjunction?function(e){var s,i=0;for(let n of t){if(s=a(n,e),s<=0)return 0;i+=s}return i/n}:function(e){var s=0;return $(t,(t=>{s+=a(t,e)})),s/n}}getSortFunction(e,t){var n=this.prepareSearch(e,t);return this._getSortFunction(n)}_getSortFunction(e){var t,n=[];const s=this,i=e.options,r=!e.query&&i.sort_empty?i.sort_empty:i.sort;if("function"==typeof r)return r.bind(this);const o=function t(n,i){return"$score"===n?i.score:e.getAttrFn(s.items[i.id],n)};if(r)for(let l of r)(e.query||"$score"!==l.field)&&n.push(l);if(e.query){t=!0;for(let e of n)if("$score"===e.field){t=!1;break}t&&n.unshift({field:"$score",direction:"desc"})}else n=n.filter((e=>"$score"!==e.field));const a=n.length;return a?function(e,t){var s,i;for(let r of n){i=r.field;let n="desc"===r.direction?-1:1;if(s=n*j(o(i,e),o(i,t)),s)return s}return 0}:null}prepareSearch(e,t){const n={};var s=Object.assign({},t);if(F(s,"sort"),F(s,"sort_empty"),s.fields){F(s,"fields");const e=[];s.fields.forEach((t=>{"string"==typeof t&&(t={field:t,weight:1}),e.push(t),n[t.field]="weight"in t?t.weight:1})),s.fields=e}return{options:s,query:e.toLowerCase().trim(),tokens:this.tokenize(e,s.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:s.nesting?N:k}}search(e,t){var n,s,i=this;s=this.prepareSearch(e,t),t=s.options,e=s.query;const r=t.score||i._getScoreFunction(s);e.length?$(i.items,((e,i)=>{n=r(e),(!1===t.filter||n>0)&&s.items.push({score:n,id:i})})):$(i.items,((e,t)=>{s.items.push({score:1,id:t})}));const o=i._getSortFunction(s);return o&&s.items.sort(o),s.total=s.items.length,"number"===typeof t.limit&&(s.items=s.items.slice(0,t.limit)),s}}const Y=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},K=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(R(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},R=e=>"string"===typeof e&&e.indexOf("<")>-1,B=e=>e.replace(/['"\\]/g,"\\$&"),V=(e,t)=>{var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)},q=(e,t)=>{Object.assign(e.style,t)},G=(e,...t)=>{var n=U(t);e=z(e),e.map((e=>{n.map((t=>{e.classList.add(t)}))}))},W=(e,...t)=>{var n=U(t);e=z(e),e.map((e=>{n.map((t=>{e.classList.remove(t)}))}))},U=e=>{var t=[];return Y(e,(e=>{"string"===typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))})),t.filter(Boolean)},z=e=>(Array.isArray(e)||(e=[e]),e),Q=(e,t,n)=>{if(!n||n.contains(e))while(e&&e.matches){if(e.matches(t))return e;e=e.parentNode}},X=(e,t=0)=>t>0?e[e.length-1]:e[0],J=e=>0===Object.keys(e).length,Z=(e,t)=>{if(!e)return-1;t=t||e.nodeName;var n=0;while(e=e.previousElementSibling)e.matches(t)&&n++;return n},ee=(e,t)=>{Y(t,((t,n)=>{null==t?e.removeAttribute(n):e.setAttribute(n,""+t)}))},te=(e,t)=>{e.parentNode&&e.parentNode.replaceChild(t,e)},ne=(e,t)=>{if(null===t)return;if("string"===typeof t){if(!t.length)return;t=new RegExp(t,"i")}const n=e=>{var n=e.data.match(t);if(n&&e.data.length>0){var s=document.createElement("span");s.className="highlight";var i=e.splitText(n.index);i.splitText(n[0].length);var r=i.cloneNode(!0);return s.appendChild(r),te(i,s),1}return 0},s=e=>{1!==e.nodeType||!e.childNodes||/(script|style)/i.test(e.tagName)||"highlight"===e.className&&"SPAN"===e.tagName||Array.from(e.childNodes).forEach((e=>{i(e)}))},i=e=>3===e.nodeType?n(e):(s(e),0);i(e)},se=e=>{var t=e.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,(function(e){var t=e.parentNode;t.replaceChild(e.firstChild,e),t.normalize()}))},ie=65,re=13,oe=27,ae=37,le=38,ce=39,de=40,ue=8,he=46,pe=9,me="undefined"!==typeof navigator&&/Mac/.test(navigator.userAgent),fe=me?"metaKey":"ctrlKey";var ge={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};const ve=e=>"undefined"===typeof e||null===e?null:ye(e),ye=e=>"boolean"===typeof e?e?"1":"0":e+"",be=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),_e=(e,t)=>t>0?setTimeout(e,t):(e.call(null),null),Se=(e,t)=>{var n;return function(s,i){var r=this;n&&(r.loading=Math.max(r.loading-1,0),clearTimeout(n)),n=setTimeout((function(){n=null,r.loadedSearches[s]=!0,e.call(r,s,i)}),t)}},Ce=(e,t,n)=>{var s,i=e.trigger,r={};for(s of(e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);r[n]=arguments},n.apply(e,[]),e.trigger=i,t))s in r&&i.apply(e,r[s])},Ee=e=>({start:e.selectionStart||0,length:(e.selectionEnd||0)-(e.selectionStart||0)}),we=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},Oe=(e,t,n,s)=>{e.addEventListener(t,n,s)},Te=(e,t)=>{if(!t)return!1;if(!t[e])return!1;var n=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return 1===n},Me=(e,t)=>{const n=e.getAttribute("id");return n||(e.setAttribute("id",t),t)},Ie=e=>e.replace(/[\\"']/g,"\\$&"),Le=(e,t)=>{t&&e.append(t)};function De(e,t){var n=Object.assign({},ge,t),s=n.dataAttr,i=n.labelField,r=n.valueField,o=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,d=e.tagName.toLowerCase(),u=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!u&&!n.allowEmptyOption){let t=e.querySelector('option[value=""]');t&&(u=t.textContent)}var h={placeholder:u,options:[],optgroups:[],items:[],maxItems:null},p=()=>{var t,d=h.options,u={},p=1;let m=0;var f=e=>{var t=Object.assign({},e.dataset),n=s&&t[s];return"string"===typeof n&&n.length&&(t=Object.assign(t,JSON.parse(n))),t},g=(e,t)=>{var s=ve(e.value);if(null!=s&&(s||n.allowEmptyOption)){if(u.hasOwnProperty(s)){if(t){var l=u[s][a];l?Array.isArray(l)?l.push(t):u[s][a]=[l,t]:u[s][a]=t}}else{var c=f(e);c[i]=c[i]||e.textContent,c[r]=c[r]||s,c[o]=c[o]||e.disabled,c[a]=c[a]||t,c.$option=e,c.$order=c.$order||++m,u[s]=c,d.push(c)}e.selected&&h.items.push(s)}},v=e=>{var t,n;n=f(e),n[l]=n[l]||e.getAttribute("label")||"",n[c]=n[c]||p++,n[o]=n[o]||e.disabled,n.$order=n.$order||++m,h.optgroups.push(n),t=n[c],Y(e.children,(e=>{g(e,t)}))};h.maxItems=e.hasAttribute("multiple")?null:1,Y(e.children,(e=>{t=e.tagName.toLowerCase(),"optgroup"===t?v(e):"option"===t&&g(e)}))},m=()=>{const t=e.getAttribute(s);if(t)h.options=JSON.parse(t),Y(h.options,(e=>{h.items.push(e[r])}));else{var o=e.value.trim()||"";if(!n.allowEmptyOption&&!o.length)return;const t=o.split(n.delimiter);Y(t,(e=>{const t={};t[i]=e,t[r]=e,h.options.push(t)})),h.items=t}};return"select"===d?p():m(),Object.assign({},ge,h,t)}var Ae=0;class xe extends(n(t)){constructor(e,t){var n;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Ae++;var s=K(e);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var i=window.getComputedStyle&&window.getComputedStyle(s,null);n=i.getPropertyValue("direction");const r=De(s,t);this.settings=r,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag="select"===s.tagName.toLowerCase(),this.rtl=/rtl/i.test(n),this.inputId=Me(s,"tomselect-"+Ae),this.isRequired=s.required,this.sifter=new H(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(1===r.maxItems?"single":"multi"),"boolean"!==typeof r.hideSelected&&(r.hideSelected="multi"===r.mode),"boolean"!==typeof r.hidePlaceholder&&(r.hidePlaceholder="multi"!==r.mode);var o=r.createFilter;"function"!==typeof o&&("string"===typeof o&&(o=new RegExp(o)),o instanceof RegExp?r.createFilter=e=>o.test(e):r.createFilter=e=>this.settings.duplicates||!this.options[e]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const a=K("<div>"),l=K("<div>"),c=this._render("dropdown"),d=K('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",h=r.mode;var p;if(G(a,r.wrapperClass,u,h),G(l,r.controlClass),Le(a,l),G(c,r.dropdownClass,h),r.copyClassesToDropdown&&G(c,u),G(d,r.dropdownContentClass),Le(c,d),K(r.dropdownParent||a).appendChild(c),R(r.controlInput)){p=K(r.controlInput);var m=["autocorrect","autocapitalize","autocomplete","spellcheck"];$(m,(e=>{s.getAttribute(e)&&ee(p,{[e]:s.getAttribute(e)})})),p.tabIndex=-1,l.appendChild(p),this.focus_node=p}else r.controlInput?(p=K(r.controlInput),this.focus_node=p):(p=K("<input/>"),this.focus_node=l);this.wrapper=a,this.dropdown=c,this.dropdown_content=d,this.control=l,this.control_input=p,this.setup()}setup(){const e=this,t=e.settings,n=e.control_input,s=e.dropdown,i=e.dropdown_content,r=e.wrapper,o=e.control,l=e.input,c=e.focus_node,d={passive:!0},u=e.inputId+"-ts-dropdown";ee(i,{id:u}),ee(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":u});const h=Me(c,e.inputId+"-ts-control"),p="label[for='"+B(e.inputId)+"']",m=document.querySelector(p),f=e.focus.bind(e);if(m){Oe(m,"click",f),ee(m,{for:h});const t=Me(m,e.inputId+"-ts-label");ee(c,{"aria-labelledby":t}),ee(i,{"aria-labelledby":t})}if(r.style.width=l.style.width,e.plugins.names.length){const t="plugin-"+e.plugins.names.join(" plugin-");G([r,s],t)}(null===t.maxItems||t.maxItems>1)&&e.is_select_tag&&ee(l,{multiple:"multiple"}),t.placeholder&&ee(n,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+a(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=Se(t.load,t.loadThrottle)),Oe(s,"mousemove",(()=>{e.ignoreHover=!1})),Oe(s,"mouseenter",(t=>{var n=Q(t.target,"[data-selectable]",s);n&&e.onOptionHover(t,n)}),{capture:!0}),Oe(s,"click",(t=>{const n=Q(t.target,"[data-selectable]");n&&(e.onOptionSelect(t,n),we(t,!0))})),Oe(o,"click",(t=>{var s=Q(t.target,"[data-ts-item]",o);s&&e.onItemSelect(t,s)?we(t,!0):""==n.value&&(e.onClick(),we(t,!0))})),Oe(c,"keydown",(t=>e.onKeyDown(t))),Oe(n,"keypress",(t=>e.onKeyPress(t))),Oe(n,"input",(t=>e.onInput(t))),Oe(c,"blur",(t=>e.onBlur(t))),Oe(c,"focus",(t=>e.onFocus(t))),Oe(n,"paste",(t=>e.onPaste(t)));const g=t=>{const i=t.composedPath()[0];if(!r.contains(i)&&!s.contains(i))return e.isFocused&&e.blur(),void e.inputState();i==n&&e.isOpen?t.stopPropagation():we(t,!0)},v=()=>{e.isOpen&&e.positionDropdown()};Oe(document,"mousedown",g),Oe(window,"scroll",v,d),Oe(window,"resize",v,d),this._destroy=()=>{document.removeEventListener("mousedown",g),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),m&&m.removeEventListener("click",f)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,Oe(l,"invalid",(()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())})),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():l.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),G(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),!0===t.preload&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),$(t,(e=>{this.registerOptionGroup(e)}))}setupTemplates(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,s={optgroup:e=>{let t=document.createElement("div");return t.className="optgroup",t.appendChild(e.options),t},optgroup_header:(e,t)=>'<div class="optgroup-header">'+t(e[n])+"</div>",option:(e,n)=>"<div>"+n(e[t])+"</div>",item:(e,n)=>"<div>"+n(e[t])+"</div>",option_create:(e,t)=>'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},s,e.settings.render)}setupCallbacks(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)t=this.settings[n[e]],t&&this.on(e,t)}sync(e=!0){const t=this,n=e?De(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(n.options,n.optgroups),t.setValue(n.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0)return e.clearActiveItems(),void e.focus();e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){V(this.input,"input"),V(this.input,"change")}onPaste(e){var t=this;t.isInputHidden||t.isLocked?we(e):t.settings.splitOn&&setTimeout((()=>{var e=t.inputValue();if(e.match(t.settings.splitOn)){var n=e.trim().split(t.settings.splitOn);$(n,(e=>{const n=ve(e);n&&(this.options[e]?t.addItem(e):t.createItem(e))}))}}),0)}onKeyPress(e){var t=this;if(!t.isLocked){var n=String.fromCharCode(e.keyCode||e.which);return t.settings.create&&"multi"===t.settings.mode&&n===t.settings.delimiter?(t.createItem(),void we(e)):void 0}we(e)}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked)e.keyCode!==pe&&we(e);else{switch(e.keyCode){case ie:if(Te(fe,e)&&""==t.control_input.value)return we(e),void t.selectAll();break;case oe:return t.isOpen&&(we(e,!0),t.close()),void t.clearActiveItems();case de:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let e=t.getAdjacent(t.activeOption,1);e&&t.setActiveOption(e)}return void we(e);case le:if(t.activeOption){let e=t.getAdjacent(t.activeOption,-1);e&&t.setActiveOption(e)}return void we(e);case re:return void(t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),we(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&we(e));case ae:return void t.advanceSelection(-1,e);case ce:return void t.advanceSelection(1,e);case pe:return void(t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),we(e)),t.settings.create&&t.createItem()&&we(e)));case ue:case he:return void t.deleteSelection(e)}t.isInputHidden&&!Te(fe,e)&&we(e)}}onInput(e){if(this.isLocked)return;const t=this.inputValue();this.lastValue!==t&&(this.lastValue=t,""!=t?(this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=_e((()=>{this.refreshTimeout=null,this._onInput()}),this.settings.refreshThrottle)):this._onInput())}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,n=t.isFocused;if(t.isDisabled||t.isReadOnly)return t.blur(),void we(e);t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.preload(),n||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(!1!==document.hasFocus()){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var n=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,n):n()}}}onOptionSelect(e,t){var n,s=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?s.createItem(null,(()=>{s.settings.closeAfterSelect&&s.close()})):(n=t.dataset.value,"undefined"!==typeof n&&(s.lastQuery=null,s.addItem(n),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&e.type&&/click/.test(e.type)&&s.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(we(e),n.setActiveItem(t,e),!0)}canLoad(e){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(e)}load(e){const t=this;if(!t.canLoad(e))return;G(t.wrapper,t.settings.loadingClass),t.loading++;const n=t.loadCallback.bind(t);t.settings.load.call(t,e,n)}loadCallback(e,t){const n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(e,t),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||W(n.wrapper,n.settings.loadingClass),n.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,n=t.value!==e;n&&(t.value=e,V(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var n=t?[]:["change"];Ce(this,n,(()=>{this.clear(t),this.addItems(e,t)}))}setMaxItems(e){0===e&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var n,s,i,r,o,a,l=this;if("single"!==l.settings.mode){if(!e)return l.clearActiveItems(),void(l.isFocused&&l.inputState());if(n=t&&t.type.toLowerCase(),"click"===n&&Te("shiftKey",t)&&l.activeItems.length){for(a=l.getLastActive(),i=Array.prototype.indexOf.call(l.control.children,a),r=Array.prototype.indexOf.call(l.control.children,e),i>r&&(o=i,i=r,r=o),s=i;s<=r;s++)e=l.control.children[s],-1===l.activeItems.indexOf(e)&&l.setActiveItemClass(e);we(t)}else"click"===n&&Te(fe,t)||"keydown"===n&&Te("shiftKey",t)?e.classList.contains("active")?l.removeActiveItem(e):l.setActiveItemClass(e):(l.clearActiveItems(),l.setActiveItemClass(e));l.inputState(),l.isFocused||l.focus()}}setActiveItemClass(e){const t=this,n=t.control.querySelector(".last-active");n&&W(n,"last-active"),G(e,"active last-active"),t.trigger("item_select",e),-1==t.activeItems.indexOf(e)&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),W(e,"active")}clearActiveItems(){W(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,ee(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),ee(e,{"aria-selected":"true"}),G(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const n=this.dropdown_content,s=n.clientHeight,i=n.scrollTop||0,r=e.offsetHeight,o=e.getBoundingClientRect().top-n.getBoundingClientRect().top+i;o+r>s+i?this.scroll(o-s+r,t):o<i&&this.scroll(o,t)}scroll(e,t){const n=this.dropdown_content;t&&(n.style.scrollBehavior=t),n.scrollTop=e,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(W(this.activeOption,"active"),ee(this.activeOption,{"aria-selected":null})),this.activeOption=null,ee(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if("single"===e.settings.mode)return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,$(t,(t=>{e.setActiveItemClass(t)})))}inputState(){var e=this;e.control.contains(e.control_input)&&(ee(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&ee(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout((()=>{e.ignoreFocus=!1,e.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return"string"===typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,n,s=this,i=this.getSearchOptions();if(s.settings.score&&(n=s.settings.score.call(s,e),"function"!==typeof n))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==s.lastQuery?(s.lastQuery=e,t=s.sifter.search(e,Object.assign(i,{score:n})),s.currentResults=t):t=Object.assign({},s.currentResults),s.settings.hideSelected&&(t.items=t.items.filter((e=>{let t=ve(e.id);return!(t&&-1!==s.items.indexOf(t))}))),t}refreshOptions(e=!0){var t,n,s,i,r,o,a,l,c,d;const u={},h=[];var p=this,m=p.inputValue();const f=m===p.lastQuery||""==m&&null==p.lastQuery;var g=p.search(m),v=null,y=p.settings.shouldOpen||!1,b=p.dropdown_content;f&&(v=p.activeOption,v&&(c=v.closest("[data-group]"))),i=g.items.length,"number"===typeof p.settings.maxOptions&&(i=Math.min(i,p.settings.maxOptions)),i>0&&(y=!0);const _=(e,t)=>{let n=u[e];if(void 0!==n){let e=h[n];if(void 0!==e)return[n,e.fragment]}let s=document.createDocumentFragment();return n=h.length,h.push({fragment:s,order:t,optgroup:e}),[n,s]};for(t=0;t<i;t++){let e=g.items[t];if(!e)continue;let i=e.id,a=p.options[i];if(void 0===a)continue;let l=ye(i),d=p.getOption(l,!0);for(p.settings.hideSelected||d.classList.toggle("selected",p.items.includes(l)),r=a[p.settings.optgroupField]||"",o=Array.isArray(r)?r:[r],n=0,s=o&&o.length;n<s;n++){r=o[n];let e=a.$order,t=p.optgroups[r];void 0===t?r="":e=t.$order;const[s,l]=_(r,e);n>0&&(d=d.cloneNode(!0),ee(d,{id:a.$id+"-clone-"+n,"aria-selected":null}),d.classList.add("ts-cloned"),W(d,"active"),p.activeOption&&p.activeOption.dataset.value==i&&c&&c.dataset.group===r.toString()&&(v=d)),l.appendChild(d),""!=r&&(u[r]=s)}}p.settings.lockOptgroupOrder&&h.sort(((e,t)=>e.order-t.order)),a=document.createDocumentFragment(),$(h,(e=>{let t=e.fragment,n=e.optgroup;if(!t||!t.children.length)return;let s=p.optgroups[n];if(void 0!==s){let e=document.createDocumentFragment(),n=p.render("optgroup_header",s);Le(e,n),Le(e,t);let i=p.render("optgroup",{group:s,options:e});Le(a,i)}else Le(a,t)})),b.innerHTML="",Le(b,a),p.settings.highlight&&(se(b),g.query.length&&g.tokens.length&&$(g.tokens,(e=>{ne(b,e.regex)})));var S=e=>{let t=p.render(e,{input:m});return t&&(y=!0,b.insertBefore(t,b.firstChild)),t};if(p.loading?S("loading"):p.settings.shouldLoad.call(p,m)?0===g.items.length&&S("no_results"):S("not_loading"),l=p.canCreate(m),l&&(d=S("option_create")),p.hasOptions=g.items.length>0||l,y){if(g.items.length>0){if(v||"single"!==p.settings.mode||void 0==p.items[0]||(v=p.getOption(p.items[0])),!b.contains(v)){let e=0;d&&!p.settings.addPrecedence&&(e=1),v=p.selectable()[e]}}else d&&(v=d);e&&!p.isOpen&&(p.open(),p.scrollToOption(v,"auto")),p.setActiveOption(v)}else p.clearActiveOption(),e&&p.isOpen&&p.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const n=this;if(Array.isArray(e))return n.addOptions(e,t),!1;const s=ve(e[n.settings.valueField]);return null!==s&&!n.options.hasOwnProperty(s)&&(e.$order=e.$order||++n.order,e.$id=n.inputId+"-opt-"+e.$order,n.options[s]=e,n.lastQuery=null,t&&(n.userOptions[s]=t,n.trigger("option_add",s,e)),s)}addOptions(e,t=!1){$(e,(e=>{this.addOption(e,t)}))}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=ve(e[this.settings.optgroupValueField]);return null!==t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var n;t[this.settings.optgroupValueField]=e,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const n=this;var s,i;const r=ve(e),o=ve(t[n.settings.valueField]);if(null===r)return;const a=n.options[r];if(void 0==a)return;if("string"!==typeof o)throw new Error("Value must be set in option data");const l=n.getOption(r),c=n.getItem(r);if(t.$order=t.$order||a.$order,delete n.options[r],n.uncacheValue(o),n.options[o]=t,l){if(n.dropdown_content.contains(l)){const e=n._render("option",t);te(l,e),n.activeOption===l&&n.setActiveOption(e)}l.remove()}c&&(i=n.items.indexOf(r),-1!==i&&n.items.splice(i,1,o),s=n._render("item",t),c.classList.contains("active")&&G(s,"active"),te(c,s)),n.lastQuery=null}removeOption(e,t){const n=this;e=ye(e),n.uncacheValue(e),delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const n={};$(this.options,((e,s)=>{t(e,s)&&(n[s]=e)})),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const n=ve(e);if(null===n)return null;const s=this.options[n];if(void 0!=s){if(s.$div)return s.$div;if(t)return this._render("option",s)}return null}getAdjacent(e,t,n="option"){var s,i=this;if(!e)return null;s="item"==n?i.controlChildren():i.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<s.length;r++)if(s[r]==e)return t>0?s[r+1]:s[r-1];return null}getItem(e){if("object"==typeof e)return e;var t=ve(e);return null!==t?this.control.querySelector(`[data-value="${Ie(t)}"]`):null}addItems(e,t){var n=this,s=Array.isArray(e)?e:[e];s=s.filter((e=>-1===n.items.indexOf(e)));const i=s[s.length-1];s.forEach((e=>{n.isPending=e!==i,n.addItem(e,t)}))}addItem(e,t){var n=t?[]:["change","dropdown_close"];Ce(this,n,(()=>{var n,s;const i=this,r=i.settings.mode,o=ve(e);if((!o||-1===i.items.indexOf(o)||("single"===r&&i.close(),"single"!==r&&i.settings.duplicates))&&null!==o&&i.options.hasOwnProperty(o)&&("single"===r&&i.clear(t),"multi"!==r||!i.isFull())){if(n=i._render("item",i.options[o]),i.control.contains(n)&&(n=n.cloneNode(!0)),s=i.isFull(),i.items.splice(i.caretPos,0,o),i.insertAtCaret(n),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let e=i.getOption(o),t=i.getAdjacent(e,1);t&&i.setActiveOption(t)}i.isPending||i.settings.closeAfterSelect||i.refreshOptions(i.isFocused&&"single"!==r),0!=i.settings.closeAfterSelect&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",o,n),i.isPending||i.updateOriginalInput({silent:t})}(!i.isPending||!s&&i.isFull())&&(i.inputState(),i.refreshState())}}))}removeItem(e=null,t){const n=this;if(e=n.getItem(e),!e)return;var s,i;const r=e.dataset.value;s=Z(e),e.remove(),e.classList.contains("active")&&(i=n.activeItems.indexOf(e),n.activeItems.splice(i,1),W(e,"active")),n.items.splice(s,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(r)&&n.removeOption(r,t),s<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:t}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",r,e)}createItem(e=null,t=(()=>{})){3===arguments.length&&(t=arguments[2]),"function"!=typeof t&&(t=()=>{});var n,s=this,i=s.caretPos;if(e=e||s.inputValue(),!s.canCreate(e))return t(),!1;s.lock();var r=!1,o=e=>{if(s.unlock(),!e||"object"!==typeof e)return t();var n=ve(e[s.settings.valueField]);if("string"!==typeof n)return t();s.setTextboxValue(),s.addOption(e,!0),s.setCaret(i),s.addItem(n),t(e),r=!0};return n="function"===typeof s.settings.create?s.settings.create.call(this,e,o):{[s.settings.labelField]:e,[s.settings.valueField]:e},r||o(n),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),n=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const s=e.wrapper.classList;s.toggle("focus",e.isFocused),s.toggle("disabled",e.isDisabled),s.toggle("readonly",e.isReadOnly),s.toggle("required",e.isRequired),s.toggle("invalid",!e.isValid),s.toggle("locked",n),s.toggle("full",t),s.toggle("input-active",e.isFocused&&!e.isInputHidden),s.toggle("dropdown-active",e.isOpen),s.toggle("has-options",J(e.options)),s.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var n,s;const i=t.input.querySelector('option[value=""]');if(t.is_select_tag){const r=[],o=t.input.querySelectorAll("option:checked").length;function a(e,n,s){return e||(e=K('<option value="'+be(n)+'">'+be(s)+"</option>")),e!=i&&t.input.append(e),r.push(e),(e!=i||o>0)&&(e.selected=!0),e}t.input.querySelectorAll("option:checked").forEach((e=>{e.selected=!1})),0==t.items.length&&"single"==t.settings.mode?a(i,"",""):t.items.forEach((e=>{if(n=t.options[e],s=n[t.settings.labelField]||"",r.includes(n.$option)){const n=t.input.querySelector(`option[value="${Ie(e)}"]:not(:checked)`);a(n,e,s)}else n.$option=a(n.$option,e,s)}))}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.isOpen=!0,ee(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),q(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),q(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,n=t.isOpen;e&&(t.setTextboxValue(),"single"===t.settings.mode&&t.items.length&&t.inputState()),t.isOpen=!1,ee(t.focus_node,{"aria-expanded":"false"}),q(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),n&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var e=this.control,t=e.getBoundingClientRect(),n=e.offsetHeight+t.top+window.scrollY,s=t.left+window.scrollX;q(this.dropdown,{width:t.width+"px",top:n+"px",left:s+"px"})}}clear(e){var t=this;if(t.items.length){var n=t.controlChildren();$(n,(e=>{t.removeItem(e,!0)})),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,n=t.caretPos,s=t.control;s.insertBefore(e,s.children[n]||null),t.setCaret(n+1)}deleteSelection(e){var t,n,s,i,r=this;t=e&&e.keyCode===ue?-1:1,n=Ee(r.control_input);const o=[];if(r.activeItems.length)i=X(r.activeItems,t),s=Z(i),t>0&&s++,$(r.activeItems,(e=>o.push(e)));else if((r.isFocused||"single"===r.settings.mode)&&r.items.length){const e=r.controlChildren();let s;t<0&&0===n.start&&0===n.length?s=e[r.caretPos-1]:t>0&&n.start===r.inputValue().length&&(s=e[r.caretPos]),void 0!==s&&o.push(s)}if(!r.shouldDelete(o,e))return!1;we(e,!0),"undefined"!==typeof s&&r.setCaret(s);while(o.length)r.removeItem(o.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(e,t){const n=e.map((e=>e.dataset.value));return!(!n.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete(n,t))}advanceSelection(e,t){var n,s,i=this;i.rtl&&(e*=-1),i.inputValue().length||(Te(fe,t)||Te("shiftKey",t)?(n=i.getLastActive(e),s=n?n.classList.contains("active")?i.getAdjacent(n,e,"item"):n:e>0?i.control_input.nextElementSibling:i.control_input.previousElementSibling,s&&(s.classList.contains("active")&&i.removeActiveItem(n),i.setActiveItemClass(s))):i.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var n=this.control.querySelectorAll(".active");return n?X(n,e):void 0}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,W(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var n,s;const i=this;if("function"!==typeof this.settings.render[e])return null;if(s=i.settings.render[e].call(this,t,be),!s)return null;if(s=K(s),"option"===e||"option_create"===e?t[i.settings.disabledField]?ee(s,{"aria-disabled":"true"}):ee(s,{"data-selectable":""}):"optgroup"===e&&(n=t.group[i.settings.optgroupValueField],ee(s,{"data-group":n}),t.group[i.settings.disabledField]&&ee(s,{"data-disabled":""})),"option"===e||"item"===e){const n=ye(t[i.settings.valueField]);ee(s,{"data-value":n}),"item"===e?(G(s,i.settings.itemClass),ee(s,{"data-ts-item":""})):(G(s,i.settings.optionClass),ee(s,{role:"option",id:t.$id}),t.$div=s,i.options[n]=t)}return s}_render(e,t){const n=this.render(e,t);if(null==n)throw"HTMLElement expected";return n}clearCache(){$(this.options,(e=>{e.$div&&(e.$div.remove(),delete e.$div)}))}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,n){var s=this,i=s[t];s[t]=function(){var t,r;return"after"===e&&(t=i.apply(s,arguments)),r=n.apply(s,arguments),"instead"===e?r:("before"===e&&(t=i.apply(s,arguments)),t)}}}function ke(){Oe(this.input,"change",(()=>{this.sync()}))}function Ne(e){var t=this,n=t.onOptionSelect;t.settings.hideSelected=!1;const s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},e);var i=function e(t,n){n?(t.checked=!0,s.uncheckedClassNames&&t.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&t.classList.add(...s.checkedClassNames)):(t.checked=!1,s.checkedClassNames&&t.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&t.classList.add(...s.uncheckedClassNames))},r=function e(t){setTimeout((()=>{var e=t.querySelector("input."+s.className);e instanceof HTMLInputElement&&i(e,t.classList.contains("selected"))}),1)};t.hook("after","setupTemplates",(()=>{var e=t.settings.render.option;t.settings.render.option=(n,r)=>{var o=K(e.call(t,n,r)),a=document.createElement("input");s.className&&a.classList.add(s.className),a.addEventListener("click",(function(e){we(e)})),a.type="checkbox";const l=ve(n[t.settings.valueField]);return i(a,!!(l&&t.items.indexOf(l)>-1)),o.prepend(a),o}})),t.on("item_remove",(e=>{var n=t.getOption(e);n&&(n.classList.remove("selected"),r(n))})),t.on("item_add",(e=>{var n=t.getOption(e);n&&r(n)})),t.hook("instead","onOptionSelect",((e,s)=>{if(s.classList.contains("selected"))return s.classList.remove("selected"),t.removeItem(s.dataset.value),t.refreshOptions(),void we(e,!0);n.call(t,e,s),r(s)}))}function Pe(e){const t=this,n=Object.assign({className:"clear-button",title:"Clear All",html:e=>`<div class="${e.className}" title="${e.title}">&#10799;</div>`},e);t.on("initialize",(()=>{var e=K(n.html(n));e.addEventListener("click",(e=>{t.isLocked||(t.clear(),"single"===t.settings.mode&&t.settings.allowEmptyOption&&t.addItem(""),e.preventDefault(),e.stopPropagation())})),t.control.appendChild(e)}))}const Fe=(e,t)=>{var n;null==(n=e.parentNode)||n.insertBefore(t,e.nextSibling)},$e=(e,t)=>{var n;null==(n=e.parentNode)||n.insertBefore(t,e)},je=(e,t)=>{do{var n;if(t=null==(n=t)?void 0:n.previousElementSibling,e==t)return!0}while(t&&t.previousElementSibling);return!1};function He(){var e=this;if("multi"!==e.settings.mode)return;var t=e.lock,n=e.unlock;let s,i=!0;e.hook("after","setupTemplates",(()=>{var t=e.settings.render.item;e.settings.render.item=(n,r)=>{const o=K(t.call(e,n,r));ee(o,{draggable:"true"});const a=e=>{i||we(e),e.stopPropagation()},l=e=>{s=o,setTimeout((()=>{o.classList.add("ts-dragging")}),0)},c=e=>{e.preventDefault(),o.classList.add("ts-drag-over"),u(o,s)},d=()=>{o.classList.remove("ts-drag-over")},u=(e,t)=>{void 0!==t&&(je(t,o)?Fe(e,t):$e(e,t))},h=()=>{var t;document.querySelectorAll(".ts-drag-over").forEach((e=>e.classList.remove("ts-drag-over"))),null==(t=s)||t.classList.remove("ts-dragging"),s=void 0;var n=[];e.control.querySelectorAll("[data-value]").forEach((e=>{if(e.dataset.value){let t=e.dataset.value;t&&n.push(t)}})),e.setValue(n)};return Oe(o,"mousedown",a),Oe(o,"dragstart",l),Oe(o,"dragenter",c),Oe(o,"dragover",c),Oe(o,"dragleave",d),Oe(o,"dragend",h),o}})),e.hook("instead","lock",(()=>(i=!1,t.call(e)))),e.hook("instead","unlock",(()=>(i=!0,n.call(e))))}function Ye(e){const t=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:e=>'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a class="'+e.closeClass+'">&times;</a></div></div>'},e);t.on("initialize",(()=>{var e=K(n.html(n)),s=e.querySelector("."+n.closeClass);s&&s.addEventListener("click",(e=>{we(e,!0),t.close()})),t.dropdown.insertBefore(e,t.dropdown.firstChild)}))}function Ke(){var e=this;e.hook("instead","setCaret",(t=>{"single"!==e.settings.mode&&e.control.contains(e.control_input)?(t=Math.max(0,Math.min(e.items.length,t)),t==e.caretPos||e.isPending||e.controlChildren().forEach(((n,s)=>{s<t?e.control_input.insertAdjacentElement("beforebegin",n):e.control.appendChild(n)}))):t=e.items.length,e.caretPos=t})),e.hook("instead","moveCaret",(t=>{if(!e.isFocused)return;const n=e.getLastActive(t);if(n){const s=Z(n);e.setCaret(t>0?s+1:s),e.setActiveItem(),W(n,"last-active")}else e.setCaret(e.caretPos+t)}))}function Re(){const e=this;e.settings.shouldOpen=!0,e.hook("before","setup",(()=>{e.focus_node=e.control,G(e.control_input,"dropdown-input");const t=K('<div class="dropdown-input-wrap">');t.append(e.control_input),e.dropdown.insertBefore(t,e.dropdown.firstChild);const n=K('<input class="items-placeholder" tabindex="-1" />');n.placeholder=e.settings.placeholder||"",e.control.append(n)})),e.on("initialize",(()=>{e.control_input.addEventListener("keydown",(t=>{switch(t.keyCode){case oe:return e.isOpen&&(we(t,!0),e.close()),void e.clearActiveItems();case pe:e.focus_node.tabIndex=-1;break}return e.onKeyDown.call(e,t)})),e.on("blur",(()=>{e.focus_node.tabIndex=e.isDisabled?-1:e.tabIndex})),e.on("dropdown_open",(()=>{e.control_input.focus()}));const t=e.onBlur;e.hook("instead","onBlur",(n=>{if(!n||n.relatedTarget!=e.control_input)return t.call(e)})),Oe(e.control_input,"blur",(()=>e.onBlur())),e.hook("before","close",(()=>{e.isOpen&&e.focus_node.focus({preventScroll:!0})}))}))}function Be(){var e=this;e.on("initialize",(()=>{var t=document.createElement("span"),n=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const e of s)t.style[e]=n.style[e];var i=()=>{t.textContent=n.value,n.style.width=t.clientWidth+"px"};i(),e.on("update item_add item_remove",i),Oe(n,"input",i),Oe(n,"keyup",i),Oe(n,"blur",i),Oe(n,"update",i)}))}function Ve(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",(n=>!!e.activeItems.length&&t.call(e,n)))}function qe(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))}function Ge(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",(n=>{var s,i,r,o;if(!e.isOpen||n.keyCode!==ae&&n.keyCode!==ce)return t.call(e,n);e.ignoreHover=!0,o=Q(e.activeOption,"[data-group]"),s=Z(e.activeOption,"[data-selectable]"),o&&(o=n.keyCode===ae?o.previousSibling:o.nextSibling,o&&(r=o.querySelectorAll("[data-selectable]"),i=r[Math.min(r.length-1,s)],i&&e.setActiveOption(i)))}))}function We(e){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this;if(t.append){var s='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+be(t.title)+'">'+t.label+"</a>";n.hook("after","setupTemplates",(()=>{var e=n.settings.render.item;n.settings.render.item=(t,i)=>{var r=K(e.call(n,t,i)),o=K(s);return r.appendChild(o),Oe(o,"mousedown",(e=>{we(e,!0)})),Oe(o,"click",(e=>{n.isLocked||(we(e,!0),n.isLocked||n.shouldDelete([r],e)&&(n.removeItem(r),n.refreshOptions(!1),n.inputState()))})),r}}))}}function Ue(e){const t=this,n=Object.assign({text:e=>e[t.settings.labelField]},e);t.on("item_remove",(function(e){if(t.isFocused&&""===t.control_input.value.trim()){var s=t.options[e];s&&t.setTextboxValue(n.text.call(t,s))}}))}function ze(){const e=this,t=e.canLoad,n=e.clearActiveOption,s=e.loadCallback;var i,r,o={},a=!1,l=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{const t=i.clientHeight/(i.scrollHeight-i.scrollTop);if(t>.9)return!0;if(e.activeOption){var n=e.selectable(),s=Array.from(n).indexOf(e.activeOption);if(s>=n.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const c=t=>!("number"===typeof e.settings.maxOptions&&i.children.length>=e.settings.maxOptions)&&!(!(t in o)||!o[t]),d=(t,n)=>e.items.indexOf(n)>=0||l.indexOf(n)>=0;e.setNextUrl=(e,t)=>{o[e]=t},e.getUrl=t=>{if(t in o){const e=o[t];return o[t]=!1,e}return e.clearPagination(),e.settings.firstUrl.call(e,t)},e.clearPagination=()=>{o={}},e.hook("instead","clearActiveOption",(()=>{if(!a)return n.call(e)})),e.hook("instead","canLoad",(n=>n in o?c(n):t.call(e,n))),e.hook("instead","loadCallback",((t,n)=>{if(a){if(r){const n=t[0];void 0!==n&&(r.dataset.value=n[e.settings.valueField])}}else e.clearOptions(d);s.call(e,t,n),a=!1})),e.hook("after","refreshOptions",(()=>{const t=e.lastValue;var n;c(t)?(n=e.render("loading_more",{query:t}),n&&(n.setAttribute("data-selectable",""),r=n)):t in o&&!i.querySelector(".no-results")&&(n=e.render("no_more_results",{query:t})),n&&(G(n,e.settings.optionClass),i.append(n))})),e.on("initialize",(()=>{l=Object.keys(e.options),i=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),i.addEventListener("scroll",(()=>{e.settings.shouldLoadMore.call(e)&&c(e.lastValue)&&(a||(a=!0,e.load.call(e,e.lastValue)))}))}))}return xe.define("change_listener",ke),xe.define("checkbox_options",Ne),xe.define("clear_button",Pe),xe.define("drag_drop",He),xe.define("dropdown_header",Ye),xe.define("caret_position",Ke),xe.define("dropdown_input",Re),xe.define("input_autogrow",Be),xe.define("no_backspace_delete",Ve),xe.define("no_active_items",qe),xe.define("optgroup_columns",Ge),xe.define("remove_button",We),xe.define("restore_on_backspace",Ue),xe.define("virtual_scroll",ze),xe},e.exports=t()},962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ce});var s=Object.defineProperty,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&a(e,n,t[n]);if(i)for(var n of i(t))o.call(t,n)&&a(e,n,t[n]);return e},c=(e,t,n)=>(a(e,"symbol"!==typeof t?t+"":t,n),n);const d=e=>{const t=e.getFullYear();let n=e.getMonth()+1,s=e.getDate();return n=n<10?`0${n}`:n,s=s<10?`0${s}`:s,`${t}-${n}-${s}`},u=e=>{const t=[];return e.forEach((e=>{e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((e,n,s)=>{const i=new Date(`${n}T00:00:00`),r=new Date(`${s}T00:00:00`),o=new Date(i.getTime());for(o;o<=r;o.setDate(o.getDate()+1))t.push(d(o));return e}))})),t},h=e=>{const t=Number(e);let n=String(t);return 0===t?n="12":13===t?n="01":14===t?n="02":15===t?n="03":16===t?n="04":17===t?n="05":18===t?n="06":19===t?n="07":20===t?n="08":21===t?n="09":22===t?n="10":23===t&&(n="11"),n},p=e=>{var t,n;e.rangeMin=e.settings.range.min,e.rangeMax=e.settings.range.max,e.rangeDisabled=e.settings.range.disabled?u([...e.settings.range.disabled]):[],e.rangeEnabled=e.settings.range.enabled?u([...e.settings.range.enabled]):[],e.selectedDates=e.settings.selected.dates?u([...e.settings.selected.dates]):[],e.selectedHolidays=e.settings.selected.holidays?u([...e.settings.selected.holidays]):[],e.settings.range.disablePast&&!e.settings.range.disableAllDays&&new Date(`${e.settings.range.min}T00:00:00`)<e.date.today&&(e.rangeMin=d(e.date.today)),e.settings.range.disableAllDays&&(e.rangeMin=d(e.date.today),e.rangeMax=d(e.date.today),null==(t=e.rangeDisabled)||t.push(d(e.date.today))),e.rangeEnabled&&e.rangeEnabled.sort(((e,t)=>+new Date(e)-+new Date(t))),(null==(n=e.rangeEnabled)?void 0:n[0])&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1]);const s=new Date(`${e.rangeMin}T00:00:00`),i=new Date(`${e.rangeMax}T00:00:00`);s.setDate(s.getDate()-1),i.setDate(i.getDate()+1),e.rangeDisabled.push(d(s)),e.rangeDisabled.push(d(i)),null!==e.settings.selected.month&&e.settings.selected.month>=0&&e.settings.selected.month<12?e.selectedMonth=e.settings.selected.month:e.selectedMonth=e.date.today.getMonth(),null!==e.settings.selected.year&&e.settings.selected.year>=0&&e.settings.selected.year<=9999?e.selectedYear=e.settings.selected.year:e.selectedYear=e.date.today.getFullYear(),e.viewYear=e.selectedYear,e.dateMin=e.settings.visibility.disabled?new Date(`${e.date.min}T00:00:00`):new Date(`${e.rangeMin}T00:00:00`),e.dateMax=e.settings.visibility.disabled?new Date(`${e.date.max}T00:00:00`):new Date(`${e.rangeMax}T00:00:00`);const r=!0===e.settings.selection.time||12===e.settings.selection.time;if(r||24===e.settings.selection.time){if(e.userTime=!1,"string"===typeof e.settings.selected.time){const t=r?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(t,((t,n,s,i)=>(n&&s&&(e.userTime=!0,e.selectedHours=n,e.selectedMinutes=s),i&&r?e.selectedKeeping=i:r&&(e.selectedKeeping="AM"),"")))}!e.userTime&&r?(e.selectedHours=h(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):e.userTime||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else e.settings.selection.time&&(e.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));"multiple"===e.type&&(1===e.months?(console.warn("The value of the months parameter cannot be less than 2, the minimum available value will be initialized."),e.correctMonths=2):e.months>12?(console.warn("The value of the months parameter cannot be greater than 12, the maximum available value will be initialized."),e.correctMonths=12):e.correctMonths=e.months)},m=e=>{if(!["default","multiple","year"].includes(e.currentType))return;const t=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowPrev}`),n=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowNext}`);if(!t||!n)return;const s=()=>{if(!e.dateMin||!e.dateMax)return;const s=new Date(`${d(new Date(e.selectedYear,e.selectedMonth,1))}T00:00:00`),i=new Date(s.getTime());s.setMonth(s.getMonth()-e.jumpMonths),i.setMonth(i.getMonth()+e.jumpMonths),!e.settings.selection.month||s.getFullYear()<e.dateMin.getFullYear()||s.getFullYear()===e.dateMin.getFullYear()&&s.getMonth()<e.dateMin.getMonth()?t.style.visibility="hidden":t.style.visibility="",!e.settings.selection.month||i.getFullYear()>e.dateMax.getFullYear()||i.getFullYear()===e.dateMax.getFullYear()&&i.getMonth()>e.dateMax.getMonth()?n.style.visibility="hidden":n.style.visibility=""},i=()=>{e.dateMin&&e.dateMax&&void 0!==e.viewYear&&(e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()?n.style.visibility="hidden":n.style.visibility="")};"default"!==e.currentType&&"multiple"!==e.currentType||s(),"year"===e.currentType&&i()},f=(e,t)=>{e.popups&&Object.keys(e.popups).forEach((n=>{var s;const i=t.querySelector(`[data-calendar-day="${n}"]`);if(i){const t=null==(s=e.popups)?void 0:s[n];(null==t?void 0:t.modifier)&&t.modifier.trim().split(" ").forEach((e=>{i.classList.add(e)})),(null==t?void 0:t.html)&&(i.parentNode.innerHTML+=`<div class="${e.CSSClasses.dayPopup}">${t.html}</div>`)}}))},g=(e,t)=>{if(!e)return null;const n=new Date(`${e}T00:00:00`).getDate(),s=new Date(`${e}T00:00:00`).getMonth(),i=new Date(`${e}T00:00:00`).getFullYear(),r=new Date(i,s,n),o=t?r.getDay()||7:r.getDay();r.setDate(r.getDate()+4-o);const a=new Date(r.getFullYear(),0,1),l=Math.ceil(((+r-+a)/864e5+1)/7);return{year:i,week:l}},v=(e,t,n,s,i)=>{if(!e.settings.visibility.weekNumbers)return;const r=i.querySelectorAll(`.${e.CSSClasses.day}`);s.innerHTML="";const o=Math.ceil((t+n)/7),a=document.createElement("b");a.className=e.CSSClasses.weekNumbersTitle,a.innerText="#",s.append(a);const l=document.createElement("div");l.className=e.CSSClasses.weekNumbersContent,s.append(l);const c=document.createElement("span");c.className=e.CSSClasses.weekNumber;for(let d=0;d<o;d++){let t=null;t=0===d?r[6].querySelector(`.${e.CSSClasses.dayBtn}`):r[7*d].querySelector(`.${e.CSSClasses.dayBtn}`);const n=g(t.dataset.calendarDay,e.settings.iso8601);if(!n)return;const s=c.cloneNode(!0);s.innerText=`${n.week}`,s.dataset.calendarYearWeek=`${n.year}`,l.append(s)}},y=e=>{var t,n;const s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),i=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),r=new Date(e.selectedYear,e.selectedMonth,1),o=document.createElement("div"),a=document.createElement("button");o.className=e.CSSClasses.day,a.className=e.CSSClasses.dayBtn,a.type="button",null==(t=e.selectedDates)||t.sort(((e,t)=>+new Date(e)-+new Date(t))),s.forEach(((t,n)=>{const l=new Date(r.setMonth(e.selectedMonth+n)).getMonth(),c=new Date(r.setFullYear(e.selectedYear,e.selectedMonth+n)).getFullYear(),u=new Date(c,l,1),h=new Date(c,l+1,0).getDate();let p=Number(u.getDay());e.settings.iso8601&&(p=Number((0!==u.getDay()?u.getDay():7)-1)),e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&s[n].classList.add(e.CSSClasses.daysSelecting),s[n].innerHTML="";const m=(t,n,s,i,r)=>{(e.rangeMin>i||e.rangeMax<i)&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),!e.settings.visibility.weekend||0!==s&&6!==s||n.classList.add(e.CSSClasses.dayBtnWeekend),Array.isArray(e.selectedHolidays)&&e.selectedHolidays.forEach((t=>{t===i&&n.classList.add(e.CSSClasses.dayBtnHoliday)}));let o=e.date.today.getDate(),a=e.date.today.getMonth()+1;o=o<10?`0${o}`:o,a=a<10?`0${a}`:a;const l=`${e.date.today.getFullYear()}-${a}-${o}`;e.settings.visibility.today&&n.dataset.calendarDay===l&&n.classList.add(e.CSSClasses.dayBtnToday),e.selectedDates&&0===e.selectedDates.indexOf(i)?("multiple-ranged"===e.settings.selection.day&&e.selectedDates.length>1?t.classList.add(e.CSSClasses.daySelectedFirst):t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf(i)===e.selectedDates.length-1?(t.classList.add(e.CSSClasses.daySelected),"multiple-ranged"===e.settings.selection.day?t.classList.add(e.CSSClasses.daySelectedLast):t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates.indexOf(i)>0&&"multiple-ranged"===e.settings.selection.day?(t.classList.add(e.CSSClasses.daySelectedIntermediate),n.classList.add(e.CSSClasses.dayBtnSelected),n.classList.add(e.CSSClasses.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf(i)>0&&(t.classList.add(e.CSSClasses.daySelected),n.classList.add(e.CSSClasses.dayBtnSelected)),Array.isArray(e.rangeDisabled)&&e.rangeDisabled[0]&&e.rangeDisabled.forEach((t=>{t===i&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1)})),!e.settings.selection.month&&r&&(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1),e.settings.selection.year||new Date(`${i}T00:00:00`).getFullYear()===c||(n.classList.add(e.CSSClasses.dayBtnDisabled),n.tabIndex=-1)},y=(t,i,r,l,c)=>{var d,u,h,p,f,v,y,b,_;const S=o.cloneNode(!0),C=a.cloneNode(!0);if(c&&C.classList.add(c),C.innerText=t,C.dataset.calendarDay=r,e.settings.visibility.weekNumbers){const t=g(r,e.settings.iso8601);if(!t)return;C.dataset.calendarWeekNumber=`${t.week}`}(null==(d=e.rangeEnabled)?void 0:d[0])&&e.settings.range.disableAllDays&&!(null==(u=e.rangeDisabled)?void 0:u.includes(r))&&(null==(h=e.rangeDisabled)||h.push(r)),(null==(p=e.rangeEnabled)?void 0:p[0])&&(null==(f=e.rangeDisabled)?void 0:f.includes(r))&&(e.rangeDisabled=null==(v=e.rangeDisabled)?void 0:v.filter((t=>{var n;return!(null==(n=e.rangeEnabled)?void 0:n.includes(t))}))),(null==(y=e.settings.range.disableWeekday)?void 0:y.includes(i))&&!(null==(b=e.rangeDisabled)?void 0:b.includes(r))&&(null==(_=e.rangeDisabled)||_.push(r)),m(S,C,i,r,l),l?e.settings.visibility.daysOutside&&S.append(C):S.append(C),s[n].append(S),e.actions.getDays&&e.actions.getDays(Number(t),r,S,C)},b=()=>{const t=new Date(c,l,0).getDate();let n=t-p,s=c,i=l;0===l?(i=e.locale.months.length,s=c-1):l<10&&(i=`0${l}`);for(let r=0;r<p;r++){n+=1;const t=`${s}-${i}-${n}`,r=new Date(c,l,n-1),o=r.getMonth()-1,a=new Date(c,o,n).getDay();y(String(n),a,t,!0,e.CSSClasses.dayBtnPrev)}},_=()=>{for(let e=1;e<=h;e++){const t=new Date(c,l,e),n=d(t),s=t.getDay();y(String(e),s,n,!1,null)}},S=()=>{const t=p+h,n=Math.ceil(t/e.locale.weekday.length),s=e.locale.weekday.length*n-t;let i=c,r=String(l+2);l+1===e.locale.months.length?(r="01",i=c+1):l+2<10&&(r=`0${l+2}`);for(let o=1;o<=s;o++){const t=o<10?`0${o}`:String(o),n=`${i}-${r}-${t}`,s=new Date(c,l,o),a=s.getMonth()+1,d=new Date(c,a,o).getDay();y(String(o),d,n,!0,e.CSSClasses.dayBtnNext)}};b(),_(),S(),f(e,s[n]),v(e,p,h,i[n],s[n])})),null==(n=e.rangeDisabled)||n.sort(((e,t)=>+new Date(e)-+new Date(t)))},b=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"\n\t\tdata-calendar-arrow="prev"\n\t\ttitle="Prev">\n\t</button>\n`,_=e=>`\n\t<button type="button"\n\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"\n\tdata-calendar-arrow="next"\n\ttitle="Next">\n\t</button>\n`,S=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.month}"\n\t\tdata-calendar-selected-month>\n\t</button>\n`,C=e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.year}"\n\t\tdata-calendar-selected-year>\n\t</button>\n`,E=e=>`\n\t<div class="${e.CSSClasses.week}"></div>\n`,w=e=>`\n\t<div class="${e.CSSClasses.days}"></div>\n`,O=e=>`\n\t<div class="${e.CSSClasses.months}"></div>\n`,T=e=>`\n\t<div class="${e.CSSClasses.years}"></div>\n`,M=e=>e.settings.visibility.weekNumbers?`\n\t<div class="${e.CSSClasses.weekNumbers}"></div>\n`:"",I=e=>e.settings.selection.time?`\n\t<div class="${e.CSSClasses.time}"></div>\n`:"",L=e=>{let t=null;switch(e){case"ArrowPrev":t=b;break;case"ArrowNext":t=_;break;case"Month":t=S;break;case"Year":t=C;break;case"Week":t=E;break;case"Days":t=w;break;case"Months":t=O;break;case"Years":t=T;break;case"WeekNumbers":t=M;break;case"ControlTime":t=I;break}return t},D=(e,t)=>t.replace(/<#(.*?)\/>/g,((t,n)=>{const s=L(n.replace(/[\s\n\t]/g,""));return s?s(e):""})).replace(/[\n\t]/g,""),A=(e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,((t,n)=>{let s="";for(let i=0;i<e.correctMonths;i++)s+=n;return s})).replace(/[\n\t]/g,""),x=(e,t)=>{const n=e.HTMLElement;n.classList.add(e.CSSClasses.calendar);const s=(n,s)=>{if(!t)return;const i=e.HTMLElement.querySelector(`.${e.CSSClasses.controls}`);i&&e.HTMLElement.removeChild(i);const r=e.HTMLElement.querySelector(`.${e.CSSClasses.grid}`);r.classList.add(e.CSSClasses.gridDisabled);const o=t.closest(`.${e.CSSClasses.column}`);o.classList.add(n),o.innerHTML=D(e,s)};switch(e.currentType){case"default":n.classList.add(e.CSSClasses.calendarDefault),n.classList.remove(e.CSSClasses.calendarMonth),n.classList.remove(e.CSSClasses.calendarYear),n.innerHTML=D(e,e.DOMTemplates.default);break;case"multiple":if(!e.correctMonths)break;n.classList.add(e.CSSClasses.calendarMultiple),n.classList.remove(e.CSSClasses.calendarMonth),n.classList.remove(e.CSSClasses.calendarYear),n.innerHTML=A(e,D(e,e.DOMTemplates.multiple));break;case"month":if("multiple"===e.type){s(e.CSSClasses.columnMonth,e.DOMTemplates.month);break}n.classList.remove(e.CSSClasses.calendarDefault),n.classList.add(e.CSSClasses.calendarMonth),n.classList.remove(e.CSSClasses.calendarYear),n.innerHTML=D(e,e.DOMTemplates.month);break;case"year":if("multiple"===e.type){s(e.CSSClasses.columnYear,e.DOMTemplates.year);break}n.classList.remove(e.CSSClasses.calendarDefault),n.classList.remove(e.CSSClasses.calendarMonth),n.classList.add(e.CSSClasses.calendarYear),n.innerHTML=D(e,e.DOMTemplates.year);break}},k=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(!t[0]||void 0===e.selectedMonth)return;const n=new Date(e.selectedYear,e.selectedMonth,1);t.forEach(((s,i)=>{const r=new Date(n.setMonth(e.selectedMonth+i)).getMonth();t[i].dataset.calendarSelectedMonth=String(r),t[i].innerText=e.locale.months[r],!1===e.settings.selection.month||"only-arrows"===e.settings.selection.month?(t[i].tabIndex=-1,t[i].classList.add(e.CSSClasses.monthDisabled)):(t[i].tabIndex=0,t[i].classList.remove(e.CSSClasses.monthDisabled))}))},N=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(!t||void 0===e.selectedMonth)return;const n=new Date(e.selectedYear,e.selectedMonth,1);t.forEach(((s,i)=>{const r=new Date(n.setFullYear(e.selectedYear,e.selectedMonth+i)).getFullYear();t[i].dataset.calendarSelectedYear=String(r),t[i].innerText=String(r),!1===e.settings.selection.year||"only-arrows"===e.settings.selection.year?(t[i].tabIndex=-1,t[i].classList.add(e.CSSClasses.yearDisabled)):(t[i].tabIndex=0,t[i].classList.remove(e.CSSClasses.yearDisabled))}))},P=(e,t)=>{var n;const s=(null==t?void 0:t.dataset.calendarSelectedMonth)?Number(t.dataset.calendarSelectedMonth):e.selectedMonth,i=null==(n=null==t?void 0:t.closest(`.${e.CSSClasses.column}`))?void 0:n.querySelector(`.${e.CSSClasses.year}`),r=i?Number(i.dataset.calendarSelectedYear):e.selectedYear;e.currentType="month",x(e,t),k(e),N(e);const o=e.HTMLElement.querySelector(`.${e.CSSClasses.months}`);if(!e.dateMin||!e.dateMax||!o)return;e.settings.selection.month&&o.classList.add(e.CSSClasses.monthsSelecting);const a=e.jumpMonths>1?e.locale.months.map(((t,n)=>s-e.jumpMonths*n)).concat(e.locale.months.map(((t,n)=>s+e.jumpMonths*n))).filter((e=>e>=0&&e<=12)):Array.from(Array(12).keys()),l=document.createElement("button");l.type="button",l.className=e.CSSClasses.monthsMonth;const c=()=>{if("multiple"!==e.type)return 0;const t=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),n=[...t].findIndex((t=>t.classList.contains(`${e.CSSClasses.columnMonth}`)));return n>0?n:0};for(let d=0;d<e.locale.months.length;d++){const t=e.locale.months[d],n=l.cloneNode(!0);d===s&&n.classList.add(e.CSSClasses.monthsMonthSelected),(d<e.dateMin.getMonth()+c()&&r<=e.dateMin.getFullYear()||d>e.dateMax.getMonth()+c()&&r>=e.dateMax.getFullYear()||d!==s&&!a.includes(d))&&(n.classList.add(e.CSSClasses.monthsMonthDisabled),n.tabIndex=-1),n.dataset.calendarMonth=String(d),n.title=`${t}`,n.innerText=`${e.settings.visibility.monthShort?t.substring(0,3):t}`,o.append(n)}},F=e=>({hide(){e.HTMLElement.classList.add(e.CSSClasses.calendarHidden)},show(){e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden)},HTMLInputElement:e.HTMLInputElement,HTMLElement:e.HTMLElement}),$=(e,t)=>{const n=Number(e);let s=String(n);return"AM"===t?12===n&&(s="00"):"PM"===t&&(1===n?s="13":2===n?s="14":3===n?s="15":4===n?s="16":5===n?s="17":6===n?s="18":7===n?s="19":8===n?s="20":9===n?s="21":10===n?s="22":11===n&&(s="23")),s},j=(e,t)=>{const n=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="hours"]`),s=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="minutes"]`),i=e.HTMLElement.querySelector(`.${e.CSSClasses.timeHours} input[name="hours"]`),r=e.HTMLElement.querySelector(`.${e.CSSClasses.timeMinutes} input[name="minutes"]`),o=e.HTMLElement.querySelector(`.${e.CSSClasses.timeKeeping}`),a=(t,n)=>{t.addEventListener("mouseover",(()=>n.classList.add(e.CSSClasses.isFocus)))},l=(t,n)=>{t.addEventListener("mouseout",(()=>n.classList.remove(e.CSSClasses.isFocus)))},c=(t,n,s)=>{"hours"===s?e.selectedHours=`${n}`:"minutes"===s&&(e.selectedMinutes=`${n}`),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,F(e),e.selectedDates,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping)},d=(t,n,s,i)=>{t.addEventListener("input",(t=>{let r=Number(t.target.value);r=r<10?`0${r}`:`${r}`,"hours"===s&&12===i?Number(t.target.value)<i&&Number(t.target.value)>0?(n.value=r,e.selectedKeeping="AM",o.innerText=e.selectedKeeping,c(t,r,s)):(0===Number(t.target.value)?(e.selectedKeeping="AM",o.innerText="AM"):(e.selectedKeeping="PM",o.innerText="PM"),n.value=h(t.target.value),c(t,h(t.target.value),s)):(n.value=r,c(t,r,s))}))},u=(t,n,s,i)=>{n.addEventListener("change",(n=>{const r=n.target;let a=Number(r.value);a=a<10?`0${a}`:`${a}`,"hours"===s&&12===i?r.value&&Number(r.value)<=i&&Number(r.value)>0?(r.value=a,t.value=$(a,e.selectedKeeping),c(n,a,s)):r.value&&Number(r.value)<24&&(Number(r.value)>i||0===Number(r.value))?(0===Number(r.value)?(e.selectedKeeping="AM",o.innerText="AM"):(e.selectedKeeping="PM",o.innerText="PM"),r.value=h(r.value),t.value=a,c(n,h(r.value),s)):r.value=e.selectedHours:r.value&&Number(r.value)<=i&&Number(r.value)>=0?(r.value=a,t.value=a,c(n,a,s)):"hours"===s?r.value=e.selectedHours:"minutes"===s&&(r.value=e.selectedMinutes)}))};a(n,i),a(s,r),l(n,i),l(s,r),d(n,i,"hours",24===t?23:12),d(s,r,"minutes",0),u(n,i,"hours",24===t?23:12),u(s,r,"minutes",59),o&&o.addEventListener("click",(t=>{o.innerText.includes("AM")?e.selectedKeeping="PM":e.selectedKeeping="AM",n.value=$(e.selectedHours,e.selectedKeeping),c(t,e.selectedHours,"hours"),o.innerText=e.selectedKeeping}))},H=e=>{const t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;const n=!0===e.settings.selection.time?12:e.settings.selection.time,s="range"===e.settings.selection.controlTime;t.innerHTML=`\n\t<div class="${e.CSSClasses.timeContent}">\n\t\t<label class="${e.CSSClasses.timeHours}">\n\t\t\t<input type="text"\n\t\t\t\tname="hours"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedHours}"\n\t\t\t\t${s?"disabled":""}>\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeMinutes}">\n\t\t\t<input type="text"\n\t\t\t\tname="minutes"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedMinutes}"\n\t\t\t\t${s?"disabled":""}>\n\t\t</label>\n\t\t${12===n?`\n\t\t<button type="button"\n\t\t\tclass="${e.CSSClasses.timeKeeping}"\n\t\t\t${s?"disabled":""}>${e.selectedKeeping}</button>\n\t\t`:""}\n\t</div>\n\t<div class="${e.CSSClasses.timeRanges}">\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="hours"\n\t\t\t\tmin="0"\n\t\t\t\tmax="23"\n\t\t\t\tstep="${e.settings.selection.stepHours}"\n\t\t\t\tvalue="${e.selectedKeeping?$(e.selectedHours,e.selectedKeeping):e.selectedHours}">\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="minutes"\n\t\t\t\tmin="0"\n\t\t\t\tmax="59"\n\t\t\t\tstep="${e.settings.selection.stepMinutes}"\n\t\t\t\tvalue="${e.selectedMinutes}">\n\t\t</label>\n\t</div>`,j(e,n)},Y=e=>{const t=[...e.locale.weekday];if(!t[0])return;const n=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`),s=document.createElement("b");s.className=e.CSSClasses.weekDay,e.settings.iso8601&&t.push(t.shift()),n.forEach((n=>{n.innerHTML="";for(let i=0;i<t.length;i++){const r=t[i],o=s.cloneNode(!0);e.settings.visibility.weekend&&e.settings.iso8601?5!==i&&6!==i||o.classList.add(e.CSSClasses.weekDayWeekend):e.settings.visibility.weekend&&!e.settings.iso8601&&(0!==i&&6!==i||o.classList.add(e.CSSClasses.weekDayWeekend)),o.innerText=`${r}`,n.append(o)}}))},K=(e,t)=>{if(void 0===e.viewYear||!e.dateMin||!e.dateMax)return;const n=(null==t?void 0:t.dataset.calendarSelectedYear)?Number(null==t?void 0:t.dataset.calendarSelectedYear):e.selectedYear;e.currentType="year",x(e,t),k(e),N(e),m(e);const s=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!s)return;e.settings.selection.year&&s.classList.add(e.CSSClasses.yearsSelecting);const i=document.createElement("button");i.type="button",i.className=e.CSSClasses.yearsYear;const r=()=>"multiple"!==e.type||e.selectedYear===n?0:1;for(let o=e.viewYear-7;o<e.viewYear+8;o++){const t=o,a=i.cloneNode(!0);t===n&&a.classList.add(e.CSSClasses.yearsYearSelected),(t<e.dateMin.getFullYear()+r()||t>e.dateMax.getFullYear())&&(a.classList.add(e.CSSClasses.yearsYearDisabled),a.tabIndex=-1),a.dataset.calendarYear=String(t),a.innerText=`${t}`,s.append(a)}},R=e=>{if("define"!==e.settings.lang){e.locale.weekday=[];for(let t=0;t<7;t++){let n=new Date(0,0,t).toLocaleString(e.settings.lang,{weekday:"short"});n=`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,n=n.replace(/\./,""),e.locale.weekday.push(n)}e.locale.months=[];for(let t=0;t<12;t++){let n=new Date(0,t).toLocaleString(e.settings.lang,{month:"long"});n=`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,n=n.replace(/\./,""),e.locale.months.push(n)}}},B=["light","dark","system"];let V=!1;const q=(e,t)=>{var n;let s=null;for(let i=0;i<B.length;i++){const r=B[i];if("system"===r)return;if(null==(n=e.getAttribute(t))?void 0:n.includes(B[i])){s=B[i];break}}return s},G=(e,t)=>{e.HTMLElement&&(B.includes(t)?e.HTMLElement.dataset.calendarTheme=t:console.error("Incorrect name of theme in settings.visibility.theme"))},W=(e,t)=>{if(!t)return void G(e,"light");const n=e=>e.matches?"dark":"light";e.HTMLElement.dataset.calendarTheme=n(t),V||(t.onchange=t=>{"system"===e.settings.visibility.theme&&(e.HTMLElement.dataset.calendarTheme=n(t))},V=!0)},U=(e,t,n)=>{const s=s=>{for(let i=0;i<s.length;i++){const r=s[i];if(r.attributeName===n){const s=q(t,n);s&&G(e,s);break}}},i=new MutationObserver(s);i.observe(t,{attributes:!0})},z=(e,t)=>{if(!e.HTMLElement)return;const n=!!e.settings.visibility.themeDetect&&document.querySelector(e.settings.visibility.themeDetect);if(!n)return void W(e,t);const s=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,((e,t)=>t)),i=n.hasAttribute(s);if(!s||!i)return void W(e,t);const r=q(n,s);r?(G(e,r),U(e,n,s)):W(e,t)},Q=e=>{if(!e.HTMLElement)return;let t;"not all"!==window.matchMedia("(prefers-color-scheme)").media&&(t=window.matchMedia("(prefers-color-scheme: dark)")),"system"===e.settings.visibility.theme?z(e,t):G(e,e.settings.visibility.theme)},X=e=>{const t={default(){Y(e),y(e)},multiple(){Y(e),y(e)},month(){P(e)},year(){K(e)}};Q(e),R(e),x(e),k(e),N(e),m(e),H(e),t[e.currentType]()},J=e=>{p(e),X(e)},Z=e=>{var t;let n=null,s=null,i=null;(null==(t=e.settings.selected.dates)?void 0:t[0])||(n=e.settings.selected.dates,e.settings.selected.dates=e.selectedDates),e.settings.selected.month||(s=e.settings.selected.month,e.settings.selected.month=e.selectedMonth),e.settings.selected.year||(i=e.settings.selected.year,e.settings.selected.year=e.selectedYear),p(e),X(e),e.settings.selected.dates=n,e.settings.selected.month=s,e.settings.selected.year=i},ee=(e,t)=>{if(void 0===e.selectedMonth||void 0===e.selectedYear)return;const n=new Date(`${d(new Date(e.selectedYear,e.selectedMonth,1))}T00:00:00`);switch(t){case"prev":n.setMonth(n.getMonth()-e.jumpMonths);break;case"next":n.setMonth(n.getMonth()+e.jumpMonths);break}e.selectedMonth=n.getMonth(),e.selectedYear=n.getFullYear(),k(e),N(e),m(e),y(e)};let te=null;const ne=()=>{var e;if(!te)return;const t=null==(e=te.HTMLElement)?void 0:e.querySelectorAll(`.${te.CSSClasses.dayBtnHover}`);t&&t.forEach((e=>e.classList.remove(te.CSSClasses.dayBtnHover)))},se=e=>{var t;if(!te||!te.selectedDates)return;const n=d(e);if(te.rangeDisabled&&te.rangeDisabled.includes(n))return;const s=null==(t=te.HTMLElement)?void 0:t.querySelectorAll(`[data-calendar-day="${n}"]`);null==s||s.forEach((e=>{e.classList.add(te.CSSClasses.dayBtnHover)}))},ie=e=>{if(!e.target||!te||!te.selectedDates)return;if(!e.target.closest(`.${te.CSSClasses.days}`))return void ne();const t=e.target.dataset.calendarDay;if(!t)return;ne();const n=new Date(new Date(`${te.selectedDates[0]}T00:00:00`).getFullYear(),new Date(`${te.selectedDates[0]}T00:00:00`).getMonth(),new Date(`${te.selectedDates[0]}T00:00:00`).getDate()),s=new Date(new Date(`${t}T00:00:00`).getFullYear(),new Date(`${t}T00:00:00`).getMonth(),new Date(`${t}T00:00:00`).getDate());if(s>n)for(let i=n;i<=s;i.setDate(i.getDate()+1))se(i);else for(let i=n;i>=s;i.setDate(i.getDate()-1))se(i)},re=e=>{te&&"Escape"===e.key&&(te.selectedDates=[],te.HTMLElement.removeEventListener("mousemove",ie),document.removeEventListener("keydown",re),X(te))},oe=()=>{var e;if(!te||!(null==(e=te.selectedDates)?void 0:e[0])||!te.rangeDisabled||te.rangeDisabled.length<2)return;const t=new Date(`${te.selectedDates[0]}T00:00:00`);let n=null,s=null;for(let i=0;i<te.rangeDisabled.length;i++){const e=new Date(`${te.rangeDisabled[i]}T00:00:00`);if(!(t>=e)){s=e;break}n=e}n&&(n=new Date(n.setDate(n.getDate()+1)),te.rangeMin=d(n)),s&&(s=new Date(s.setDate(s.getDate()-1)),te.rangeMax=d(s))},ae=()=>{te&&(te.rangeMin=te.settings.range.min,te.rangeMax=te.settings.range.max,te.settings.range.disablePast&&new Date(`${te.settings.range.min}T00:00:00`)<te.date.today&&(te.rangeMin=d(te.date.today)))},le=e=>{e&&e.selectedDates&&(te=e,e.selectedDates[0]&&e.selectedDates.length<=1?(e.HTMLElement.addEventListener("mousemove",ie),document.addEventListener("keydown",re),e.settings.range.disableGaps&&oe()):(e.HTMLElement.removeEventListener("mousemove",ie),document.removeEventListener("keydown",re),e.settings.range.disableGaps&&ae()))},ce=(e,t,n,s,i)=>{const r=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),o=[...r].findIndex((e=>e.classList.contains(t))),a=Number(r[o].querySelector(`.${n}`).getAttribute(i));return"month"===e.currentType&&o>=0?s-o:"year"===e.currentType&&e.selectedYear!==a?s-1:s},de=e=>{e.HTMLElement.addEventListener("click",(t=>{const n=t.target,s=n.closest(`.${e.CSSClasses.arrow}`),i=n.closest(`.${e.CSSClasses.arrowPrev}`),r=n.closest(`.${e.CSSClasses.arrowNext}`),o=n.closest(`.${e.CSSClasses.dayBtn}`),a=n.closest(`.${e.CSSClasses.dayBtnPrev}`),l=n.closest(`.${e.CSSClasses.dayBtnNext}`),c=n.closest(`.${e.CSSClasses.weekNumber}`),u=n.closest(`.${e.CSSClasses.year}`),h=n.closest(`.${e.CSSClasses.yearsYear}`),p=n.closest(`.${e.CSSClasses.month}`),m=n.closest(`.${e.CSSClasses.monthsMonth}`),f=n.closest(`.${e.CSSClasses.grid}`),g=n.closest(`.${e.CSSClasses.column}`),v=()=>{s&&"year"!==e.currentType&&"month"!==e.currentType&&ee(e,n.dataset.calendarArrow),s&&e.actions.clickArrow&&e.actions.clickArrow(t,Number(e.selectedYear),Number(e.selectedMonth))},b=()=>{e.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(o.dataset.calendarDay),1):(e.selectedDates=[],e.selectedDates.push(o.dataset.calendarDay)))},_=()=>{e.selectedDates&&o&&o.dataset.calendarDay&&(o.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(o.dataset.calendarDay),1):e.selectedDates.push(o.dataset.calendarDay))},S=()=>{if(e.selectedDates&&o&&o.dataset.calendarDay){if(e.selectedDates.length<=1&&e.selectedDates[0]&&e.selectedDates[0].includes(o.dataset.calendarDay)?e.selectedDates=[]:(e.selectedDates.length>1&&(e.selectedDates=[]),e.selectedDates.push(o.dataset.calendarDay)),e.selectedDates[1]){const t=new Date(new Date(`${e.selectedDates[0]}T00:00:00`).getFullYear(),new Date(`${e.selectedDates[0]}T00:00:00`).getMonth(),new Date(`${e.selectedDates[0]}T00:00:00`).getDate()),n=new Date(new Date(`${e.selectedDates[1]}T00:00:00`).getFullYear(),new Date(`${e.selectedDates[1]}T00:00:00`).getMonth(),new Date(`${e.selectedDates[1]}T00:00:00`).getDate()),s=t=>{if(!e.selectedDates)return;const n=d(t);e.rangeDisabled&&e.rangeDisabled.includes(n)||e.selectedDates.push(n)};if(e.selectedDates=[],n>t)for(let e=t;e<=n;e.setDate(e.getDate()+1))s(e);else for(let e=t;e>=n;e.setDate(e.getDate()-1))s(e)}le(e)}},C=()=>{if(e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&o){switch(e.settings.selection.day){case"single":b();break;case"multiple":_();break;case"multiple-ranged":S();break}e.actions.clickDay&&e.actions.clickDay(t,e.selectedDates),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(t,F(e),e.selectedDates,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping),a?ee(e,"prev"):l?ee(e,"next"):y(e)}},E=()=>{var n;if(!e.settings.visibility.weekNumbers||!c||!e.actions.clickWeekNumber)return;const s=null==(n=e.HTMLElement)?void 0:n.querySelectorAll("[data-calendar-week-number]");if(!s)return;const i=Number(c.innerText),r=Number(c.dataset.calendarYearWeek),o=[...s].filter((e=>Number(e.dataset.calendarWeekNumber)===i));e.actions.clickWeekNumber(t,i,o,r)},w=()=>{if(e.settings.selection.year)if(s&&"year"===e.currentType){if(void 0===e.viewYear)return;r?e.viewYear+=15:i&&(e.viewYear-=15),K(e,t.target)}else if("year"!==e.currentType&&u)K(e,t.target);else if("year"===e.currentType&&u)e.currentType=e.type,X(e);else if(h){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;e.selectedYear="multiple"===e.type?ce(e,e.CSSClasses.columnYear,e.CSSClasses.year,Number(h.dataset.calendarYear),"data-calendar-selected-year"):Number(h.dataset.calendarYear),e.currentType=e.type,(e.selectedMonth<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear()||e.selectedYear<e.dateMin.getFullYear())&&(e.selectedMonth=e.dateMin.getMonth(),e.selectedYear=e.dateMin.getFullYear()),(e.selectedMonth>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear()||e.selectedYear>e.dateMax.getFullYear())&&(e.selectedMonth=e.dateMax.getMonth(),e.selectedYear=e.dateMax.getFullYear()),e.actions.clickYear&&e.actions.clickYear(t,e.selectedYear),X(e)}else"multiple"===e.type&&"year"===e.currentType&&f&&!g&&(e.currentType=e.type,X(e))},O=()=>{if(e.settings.selection.month)if("month"!==e.currentType&&p)P(e,t.target);else if("month"===e.currentType&&p)e.currentType=e.type,X(e);else if(m){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;if(e.selectedMonth="multiple"===e.type?ce(e,e.CSSClasses.columnMonth,e.CSSClasses.month,Number(m.dataset.calendarMonth),"data-calendar-selected-month"):Number(m.dataset.calendarMonth),"multiple"===e.type){const t=m.closest(`.${e.CSSClasses.columnMonth}`),n=t.querySelector(`.${e.CSSClasses.year}`);e.selectedYear=Number(n.dataset.calendarSelectedYear),e.selectedMonth<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear()&&(e.selectedMonth=e.dateMin.getMonth()),e.selectedMonth>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear()&&(e.selectedMonth=e.dateMax.getMonth())}e.currentType=e.type,e.actions.clickMonth&&e.actions.clickMonth(t,e.selectedMonth),X(e)}else"multiple"===e.type&&"month"===e.currentType&&f&&!g&&(e.currentType=e.type,X(e))};v(),C(),E(),w(),O()}))};let ue=null;const he=(e,t)=>{let n=e.offsetHeight,s=0;for(let i=e;i;i=i.offsetParent)n+=i.offsetTop||0,s+=i.offsetLeft||0;Object.assign(t.style,{left:`${s}px`,top:`${n}px`})},pe=e=>{if(!e.HTMLInputElement)return;const t=document.createElement("div");t.className=`${e.CSSClasses.calendar} ${e.CSSClasses.calendarToInput} ${e.CSSClasses.calendarHidden}`,he(e.HTMLInputElement,t),e.HTMLElement=t,document.body.append(e.HTMLElement),setTimeout((()=>e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden)),0),J(e),de(e)},me=e=>{if(!ue||e.target.closest(`.${ue.CSSClasses.calendar}.${ue.CSSClasses.calendarToInput}`))return;const t=document.querySelectorAll(`.${ue.CSSClasses.calendar}.${ue.CSSClasses.calendarToInput}`);t.forEach((e=>e.classList.add(ue.CSSClasses.calendarHidden))),document.removeEventListener("click",me,{capture:!0})},fe=e=>{e&&(ue=e,e.HTMLInputElement=e.HTMLElement,e.HTMLElement=null,e.HTMLInputElement.addEventListener("click",(()=>{e.HTMLElement&&e.HTMLInputElement?(he(e.HTMLInputElement,e.HTMLElement),e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden)):e.HTMLElement?e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden):pe(e),document.addEventListener("click",me,{capture:!0})})))},ge=e=>{e.HTMLElement&&(e.input?fe(e):(J(e),de(e)))},ve=e=>`\n\t<div class="${e.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<#WeekNumbers />\n\t\t<div class="${e.content}">\n\t\t\t<#Week />\n\t\t\t<#Days />\n\t\t</div>\n\t</div>\n\t<#ControlTime />\n`,ye=e=>`\n\t<div class="${e.controls}">\n\t\t<#ArrowPrev />\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.grid}">\n\t\t<#Multiple>\n\t\t\t<div class="${e.column}">\n\t\t\t\t<div class="${e.header}">\n\t\t\t\t\t<div class="${e.headerContent}">\n\t\t\t\t\t\t<#Month />\n\t\t\t\t\t\t<#Year />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="${e.wrapper}">\n\t\t\t\t\t<#WeekNumbers />\n\t\t\t\t\t<div class="${e.content}">\n\t\t\t\t\t\t<#Week />\n\t\t\t\t\t\t<#Days />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<#/Multiple>\n\t</div>\n\t<#ControlTime />\n`,be=e=>`\n\t<div class="${e.header}">\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<div class="${e.content}">\n\t\t\t<#Months />\n\t\t</div>\n\t</div>\n`,_e=e=>`\n\t<div class="${e.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<div class="${e.content}">\n\t\t\t<#Years />\n\t\t</div>\n\t</div>\n`,Se={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};class Ce{constructor(e,t){var n,s,i,r,o,a,d,u,h,p,m,f,g,v,y,b,_,S,C,E,w,O,T,M,I,L,D,A,x,k,N,P,F,$,j,H,Y,K,R,B,V,q,G,W,U,z,Q,X,ee,te,ne,se,ie,re,oe,ae,le,ce,de,ue,he,pe,me,fe,Ce,Ee,we,Oe,Te,Me,Ie,Le,De,Ae,xe,ke,Ne,Pe,Fe,$e,je,He,Ye,Ke,Re,Be,Ve,qe,Ge,We,Ue,ze,Qe,Xe,Je,Ze,et,tt,nt,st,it,rt,ot,at,lt,ct,dt,ut,ht,pt,mt,ft,gt,vt,yt,bt,_t,St,Ct,Et,wt,Ot,Tt,Mt,It,Lt,Dt;c(this,"HTMLElement"),c(this,"input"),c(this,"type"),c(this,"months"),c(this,"jumpMonths"),c(this,"date"),c(this,"settings"),c(this,"locale"),c(this,"actions"),c(this,"popups"),c(this,"CSSClasses"),c(this,"DOMTemplates"),c(this,"currentType"),c(this,"reset",(()=>J(this))),c(this,"update",(()=>Z(this))),c(this,"init",(()=>ge(this))),this.HTMLElement="string"===typeof e?document.querySelector(e):e,this.HTMLElement&&(this.input=null!=(n=null==t?void 0:t.input)&&n,this.type=null!=(s=null==t?void 0:t.type)?s:"default",this.months=null!=(i=null==t?void 0:t.months)?i:2,this.jumpMonths=null!=(r=null==t?void 0:t.jumpMonths)?r:1,this.date={min:null!=(a=null==(o=null==t?void 0:t.date)?void 0:o.min)?a:"1970-01-01",max:null!=(u=null==(d=null==t?void 0:t.date)?void 0:d.max)?u:"2470-12-31",today:null!=(p=null==(h=null==t?void 0:t.date)?void 0:h.today)?p:new Date},this.settings={lang:null!=(f=null==(m=null==t?void 0:t.settings)?void 0:m.lang)?f:"en",iso8601:null==(v=null==(g=null==t?void 0:t.settings)?void 0:g.iso8601)||v,range:{min:null!=(_=null==(b=null==(y=null==t?void 0:t.settings)?void 0:y.range)?void 0:b.min)?_:this.date.min,max:null!=(E=null==(C=null==(S=null==t?void 0:t.settings)?void 0:S.range)?void 0:C.max)?E:this.date.max,disablePast:null!=(T=null==(O=null==(w=null==t?void 0:t.settings)?void 0:w.range)?void 0:O.disablePast)&&T,disableGaps:null!=(L=null==(I=null==(M=null==t?void 0:t.settings)?void 0:M.range)?void 0:I.disableGaps)&&L,disableAllDays:null!=(x=null==(A=null==(D=null==t?void 0:t.settings)?void 0:D.range)?void 0:A.disableAllDays)&&x,disableWeekday:null!=(P=null==(N=null==(k=null==t?void 0:t.settings)?void 0:k.range)?void 0:N.disableWeekday)?P:null,disabled:null!=(j=null==($=null==(F=null==t?void 0:t.settings)?void 0:F.range)?void 0:$.disabled)?j:null,enabled:null!=(K=null==(Y=null==(H=null==t?void 0:t.settings)?void 0:H.range)?void 0:Y.enabled)?K:null},selection:{day:null!=(V=null==(B=null==(R=null==t?void 0:t.settings)?void 0:R.selection)?void 0:B.day)?V:"single",month:null==(W=null==(G=null==(q=null==t?void 0:t.settings)?void 0:q.selection)?void 0:G.month)||W,year:null==(Q=null==(z=null==(U=null==t?void 0:t.settings)?void 0:U.selection)?void 0:z.year)||Q,time:null!=(te=null==(ee=null==(X=null==t?void 0:t.settings)?void 0:X.selection)?void 0:ee.time)&&te,controlTime:null!=(ie=null==(se=null==(ne=null==t?void 0:t.settings)?void 0:ne.selection)?void 0:se.controlTime)?ie:"all",stepHours:null!=(ae=null==(oe=null==(re=null==t?void 0:t.settings)?void 0:re.selection)?void 0:oe.stepHours)?ae:1,stepMinutes:null!=(de=null==(ce=null==(le=null==t?void 0:t.settings)?void 0:le.selection)?void 0:ce.stepMinutes)?de:1},selected:{dates:null!=(pe=null==(he=null==(ue=null==t?void 0:t.settings)?void 0:ue.selected)?void 0:he.dates)?pe:null,month:null!=(Ce=null==(fe=null==(me=null==t?void 0:t.settings)?void 0:me.selected)?void 0:fe.month)?Ce:null,year:null!=(Oe=null==(we=null==(Ee=null==t?void 0:t.settings)?void 0:Ee.selected)?void 0:we.year)?Oe:null,holidays:null!=(Ie=null==(Me=null==(Te=null==t?void 0:t.settings)?void 0:Te.selected)?void 0:Me.holidays)?Ie:null,time:null!=(Ae=null==(De=null==(Le=null==t?void 0:t.settings)?void 0:Le.selected)?void 0:De.time)?Ae:null},visibility:{theme:null!=(Ne=null==(ke=null==(xe=null==t?void 0:t.settings)?void 0:xe.visibility)?void 0:ke.theme)?Ne:"system",themeDetect:null!=($e=null==(Fe=null==(Pe=null==t?void 0:t.settings)?void 0:Pe.visibility)?void 0:Fe.themeDetect)?$e:"html[data-theme]",monthShort:null==(Ye=null==(He=null==(je=null==t?void 0:t.settings)?void 0:je.visibility)?void 0:He.monthShort)||Ye,weekNumbers:null!=(Be=null==(Re=null==(Ke=null==t?void 0:t.settings)?void 0:Ke.visibility)?void 0:Re.weekNumbers)&&Be,weekend:null==(Ge=null==(qe=null==(Ve=null==t?void 0:t.settings)?void 0:Ve.visibility)?void 0:qe.weekend)||Ge,today:null==(ze=null==(Ue=null==(We=null==t?void 0:t.settings)?void 0:We.visibility)?void 0:Ue.today)||ze,disabled:null!=(Je=null==(Xe=null==(Qe=null==t?void 0:t.settings)?void 0:Qe.visibility)?void 0:Xe.disabled)&&Je,daysOutside:null==(tt=null==(et=null==(Ze=null==t?void 0:t.settings)?void 0:Ze.visibility)?void 0:et.daysOutside)||tt}},this.locale={months:null!=(st=null==(nt=null==t?void 0:t.locale)?void 0:nt.months)?st:[],weekday:null!=(rt=null==(it=null==t?void 0:t.locale)?void 0:it.weekday)?rt:[]},this.actions={clickDay:null!=(at=null==(ot=null==t?void 0:t.actions)?void 0:ot.clickDay)?at:null,clickWeekNumber:null!=(ct=null==(lt=null==t?void 0:t.actions)?void 0:lt.clickWeekNumber)?ct:null,clickMonth:null!=(ut=null==(dt=null==t?void 0:t.actions)?void 0:dt.clickMonth)?ut:null,clickYear:null!=(pt=null==(ht=null==t?void 0:t.actions)?void 0:ht.clickYear)?pt:null,clickArrow:null!=(ft=null==(mt=null==t?void 0:t.actions)?void 0:mt.clickArrow)?ft:null,changeTime:null!=(vt=null==(gt=null==t?void 0:t.actions)?void 0:gt.changeTime)?vt:null,changeToInput:null!=(bt=null==(yt=null==t?void 0:t.actions)?void 0:yt.changeToInput)?bt:null,getDays:null!=(St=null==(_t=null==t?void 0:t.actions)?void 0:_t.getDays)?St:null},this.popups=null!=(Ct=null==t?void 0:t.popups)?Ct:null,this.CSSClasses=(()=>{const e=l({},Se);return Object.keys(Se).forEach((n=>{var s;(null==(s=null==t?void 0:t.CSSClasses)?void 0:s[n])?e[n]=t.CSSClasses[n]:e[n]=Se[n]})),e})(),this.DOMTemplates={default:null!=(wt=null==(Et=null==t?void 0:t.DOMTemplates)?void 0:Et.default)?wt:ve(this.CSSClasses),multiple:null!=(Tt=null==(Ot=null==t?void 0:t.DOMTemplates)?void 0:Ot.multiple)?Tt:ye(this.CSSClasses),month:null!=(It=null==(Mt=null==t?void 0:t.DOMTemplates)?void 0:Mt.month)?It:be(this.CSSClasses),year:null!=(Dt=null==(Lt=null==t?void 0:t.DOMTemplates)?void 0:Lt.year)?Dt:_e(this.CSSClasses)},this.currentType=this.type)}}}}]);